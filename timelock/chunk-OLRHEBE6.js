import{$ as S,Ga as y,Hb as m,Ka as l,W as x,Xa as c,Ya as i,Za as t,Zb as k,_a as b,_b as T,aa as _,cb as M,cc as w,db as P,eb as f,ja as C,jc as O,kb as v,kc as D,lb as h,lc as E,nb as o,ob as s,pb as g,wa as r}from"./chunk-EOOPBPLM.js";function j(d,a){if(d&1){let e=M();i(0,"button",23),P("click",function(){let p=S(e).$implicit,u=f();return _(u.setTimeRange(p.value))}),o(1),t()}if(d&2){let e=a.$implicit,n=f();h("active",n.selectedRange()===e.value),r(),g(" ",e.label," ")}}function F(d,a){if(d&1&&(i(0,"div",24)(1,"div",25)(2,"span",26),o(3),t(),i(4,"span",27),o(5),t()(),i(6,"div",28)(7,"span",29),o(8),t(),i(9,"span",30),o(10),t()(),i(11,"div",31),b(12,"div",32),t()()),d&2){let e=a.$implicit,n=f();v("border-left-color",e.projectColor),r(3),s(e.projectName),r(2),s(n.formatDuration(e.totalMinutes)),r(3),g("",e.entriesCount," sessions"),r(2),g("Avg: ",n.formatDuration(e.averageSessionMinutes)),r(2),v("width",n.getPercentage(e.totalMinutes,n.maxProjectTime()),"%")("background-color",e.projectColor)}}function R(d,a){d&1&&(i(0,"div",33)(1,"div",34),o(2,"\u{1F4C2}"),t(),i(3,"div",35),o(4,"No project time data"),t()())}function z(d,a){if(d&1&&(i(0,"div",24)(1,"div",25)(2,"span",26),o(3),t(),i(4,"span",27),o(5),t()(),i(6,"div",28)(7,"span",29),o(8),t(),i(9,"span",30),o(10),t()(),i(11,"div",31),b(12,"div",32),t()()),d&2){let e=a.$implicit,n=f();v("border-left-color",e.tagColor),r(3),g("#",e.tagName),r(2),s(n.formatDuration(e.totalMinutes)),r(3),g("",e.entriesCount," sessions"),r(2),g("Avg: ",n.formatDuration(e.averageSessionMinutes)),r(2),v("width",n.getPercentage(e.totalMinutes,n.maxTagTime()),"%")("background-color",e.tagColor)}}function N(d,a){d&1&&(i(0,"div",33)(1,"div",34),o(2,"\u{1F3F7}\uFE0F"),t(),i(3,"div",35),o(4,"No tag time data"),t()())}function A(d,a){if(d&1&&(i(0,"div",39)(1,"div",40)(2,"div",41),o(3),t(),i(4,"div",42),o(5),t()(),i(6,"div",43)(7,"div",44),o(8),t(),i(9,"div",45),o(10),t()()()),d&2){let e=a.$implicit,n=f(2);h("today",n.isToday(e.date)),r(3),s(n.getDayName(e.date)),r(2),s(n.formatDate(e.date)),r(3),s(n.formatDuration(e.totalMinutes)),r(2),g("",e.entriesCount," sessions")}}function B(d,a){if(d&1&&(i(0,"div",36)(1,"div",12)(2,"h2"),o(3,"Daily Breakdown"),t()(),i(4,"div",37),l(5,A,11,6,"div",38),t()()),d&2){let e=f();r(5),c("ngForOf",e.weeklyBreakdown())}}var I=class d{timeTrackingService=x(E);projectService=x(O);tagsService=x(D);selectedRange=C("week");timeRanges=[{label:"Today",value:"today"},{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Year",value:"year"},{label:"All",value:"all"}];projectStats=m(()=>this.timeTrackingService.getAllProjectTimeStats(this.selectedRange()));tagStats=m(()=>this.timeTrackingService.getAllTagTimeStats(this.selectedRange()));maxProjectTime=m(()=>{let a=this.projectStats();return a.length>0?Math.max(...a.map(e=>e.totalMinutes)):0});maxTagTime=m(()=>{let a=this.tagStats();return a.length>0?Math.max(...a.map(e=>e.totalMinutes)):0});totalTimeToday=m(()=>this.timeTrackingService.getAllProjectTimeStats("today").reduce((e,n)=>e+n.totalMinutes,0));totalTimeWeek=m(()=>this.timeTrackingService.getAllProjectTimeStats("week").reduce((e,n)=>e+n.totalMinutes,0));totalSessions=m(()=>this.timeTrackingService.getAllProjectTimeStats("all").reduce((e,n)=>e+n.entriesCount,0));averageSession=m(()=>{let a=this.timeTrackingService.getAllProjectTimeStats("all"),e=a.reduce((p,u)=>p+u.totalMinutes,0),n=a.reduce((p,u)=>p+u.entriesCount,0);return n>0?Math.round(e/n):0});weeklyBreakdown=m(()=>{let a=new Date,e=this.getWeekStart(a);return this.timeTrackingService.getWeeklyTimeStats(e).dailyStats});setTimeRange(a){this.selectedRange.set(a)}formatDuration(a){return this.timeTrackingService.formatDuration(a)}getPercentage(a,e){return e>0?a/e*100:0}isToday(a){let e=new Date().toISOString().split("T")[0];return a===e}getDayName(a){return new Date(a+"T00:00:00").toLocaleDateString("en-US",{weekday:"short"})}formatDate(a){return new Date(a+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}getWeekStart(a){let e=new Date(a),n=e.getDay(),p=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(p))}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=y({type:d,selectors:[["app-time-tracking-page"]],decls:68,vars:12,consts:[[1,"time-tracking-page"],[1,"page-header"],[1,"page-subtitle"],[1,"how-it-works"],[1,"how-it-works-text"],[1,"overview-cards"],[1,"overview-card"],[1,"card-icon"],[1,"card-content"],[1,"card-value"],[1,"card-label"],[1,"time-range-section"],[1,"section-header"],[1,"time-range-selector"],["class","range-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"stats-grid"],[1,"stats-panel"],[1,"panel-header"],[1,"panel-count"],[1,"stats-list"],["class","stat-item",3,"border-left-color",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","daily-breakdown",4,"ngIf"],[1,"range-btn",3,"click"],[1,"stat-item"],[1,"stat-header"],[1,"stat-name"],[1,"stat-duration"],[1,"stat-details"],[1,"stat-sessions"],[1,"stat-avg"],[1,"stat-bar"],[1,"stat-fill"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-message"],[1,"daily-breakdown"],[1,"daily-grid"],["class","daily-card",3,"today",4,"ngFor","ngForOf"],[1,"daily-card"],[1,"day-header"],[1,"day-name"],[1,"day-date"],[1,"day-stats"],[1,"day-total"],[1,"day-sessions"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Time Tracking"),t(),i(4,"p",2),o(5,"Automatic time tracking based on completed tasks with scheduled durations"),t(),i(6,"div",3)(7,"p",4),o(8," \u{1F4CB} When you complete a task that has a scheduled duration, that time is automatically added to your project statistics. \u2705 Mark tasks as complete to track time \u2022 \u21A9\uFE0F Uncheck to remove tracked time "),t()()(),i(9,"div",5)(10,"div",6)(11,"div",7),o(12,"\u23F1\uFE0F"),t(),i(13,"div",8)(14,"div",9),o(15),t(),i(16,"div",10),o(17,"Today"),t()()(),i(18,"div",6)(19,"div",7),o(20,"\u{1F4C5}"),t(),i(21,"div",8)(22,"div",9),o(23),t(),i(24,"div",10),o(25,"This Week"),t()()(),i(26,"div",6)(27,"div",7),o(28,"\u{1F4CA}"),t(),i(29,"div",8)(30,"div",9),o(31),t(),i(32,"div",10),o(33,"Total Sessions"),t()()(),i(34,"div",6)(35,"div",7),o(36,"\u{1F3AF}"),t(),i(37,"div",8)(38,"div",9),o(39),t(),i(40,"div",10),o(41,"Avg Session"),t()()()(),i(42,"div",11)(43,"div",12)(44,"h2"),o(45,"Time Statistics"),t(),i(46,"div",13),l(47,j,2,3,"button",14),t()()(),i(48,"div",15)(49,"div",16)(50,"div",17)(51,"h3"),o(52,"Projects"),t(),i(53,"span",18),o(54),t()(),i(55,"div",19),l(56,F,13,10,"div",20),t(),l(57,R,5,0,"div",21),t(),i(58,"div",16)(59,"div",17)(60,"h3"),o(61,"Tags"),t(),i(62,"span",18),o(63),t()(),i(64,"div",19),l(65,z,13,10,"div",20),t(),l(66,N,5,0,"div",21),t()(),l(67,B,6,1,"div",22),t()),e&2&&(r(15),s(n.formatDuration(n.totalTimeToday())),r(8),s(n.formatDuration(n.totalTimeWeek())),r(8),s(n.totalSessions()),r(8),s(n.formatDuration(n.averageSession())),r(8),c("ngForOf",n.timeRanges),r(7),s(n.projectStats().length),r(2),c("ngForOf",n.projectStats()),r(),c("ngIf",n.projectStats().length===0),r(6),s(n.tagStats().length),r(2),c("ngForOf",n.tagStats()),r(),c("ngIf",n.tagStats().length===0),r(),c("ngIf",n.selectedRange()==="week"))},dependencies:[w,k,T],styles:[".time-tracking-page[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;background:#fafbfc;min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.page-header[_ngcontent-%COMP%]{margin-bottom:3rem;text-align:left;border-bottom:1px solid #e1e5e9;padding-bottom:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#172b4d;margin:0 0 .75rem;letter-spacing:-.025em}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#5e6c84;margin:0 0 1.5rem;font-weight:400;line-height:1.5}.how-it-works[_ngcontent-%COMP%]{background:#f4f5f7;border:1px solid #dfe1e6;border-radius:6px;padding:1.25rem;margin-top:1.5rem}.how-it-works-text[_ngcontent-%COMP%]{font-size:.875rem;color:#42526e;margin:0;line-height:1.6;font-weight:400}.overview-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.5rem;margin-bottom:3rem}.overview-card[_ngcontent-%COMP%]{background:#fff;padding:2rem 1.5rem;border-radius:8px;border:1px solid #dfe1e6;box-shadow:0 1px 2px #172b4d0f;display:flex;flex-direction:column;align-items:flex-start;gap:.75rem;transition:all .15s ease;position:relative}.overview-card[_ngcontent-%COMP%]:hover{border-color:#0052cc;box-shadow:0 2px 8px #172b4d1f}.card-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#0052cc;background:#deebff;padding:.75rem;border-radius:6px;display:flex;align-items:center;justify-content:center;width:3rem;height:3rem}.card-content[_ngcontent-%COMP%]{width:100%}.card-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;margin-bottom:.25rem}.card-label[_ngcontent-%COMP%]{font-size:.875rem;color:#5e6c84;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #e1e5e9}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#172b4d;margin:0;letter-spacing:-.025em}.active-timer-section[_ngcontent-%COMP%]{margin-bottom:2rem}.time-range-section[_ngcontent-%COMP%]{margin-bottom:3rem}.time-range-selector[_ngcontent-%COMP%]{display:flex;gap:0;flex-wrap:wrap;background:#f4f5f7;border-radius:6px;padding:.25rem;border:1px solid #dfe1e6}.range-btn[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border:none;background:transparent;color:#42526e;border-radius:4px;cursor:pointer;font-size:.875rem;font-weight:500;transition:all .15s ease;flex:1;text-align:center;min-width:0}.range-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#172b4d}.range-btn.active[_ngcontent-%COMP%]{background:#0052cc;color:#fff;box-shadow:0 1px 2px #172b4d1f}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:3rem}.stats-panel[_ngcontent-%COMP%]{background:#fff;border-radius:8px;border:1px solid #dfe1e6;padding:2rem;box-shadow:0 1px 2px #172b4d0f}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #e1e5e9}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#172b4d;margin:0;letter-spacing:-.025em}.panel-count[_ngcontent-%COMP%]{background:#f4f5f7;color:#5e6c84;padding:.375rem .75rem;border-radius:4px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.stats-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.stat-item[_ngcontent-%COMP%]{padding:1.25rem;border:1px solid #e1e5e9;border-radius:6px;border-left-width:3px;background:#fafbfc;transition:all .15s ease}.stat-item[_ngcontent-%COMP%]:hover{background:#f4f5f7;border-color:#0052cc;box-shadow:0 1px 3px #172b4d14}.stat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.stat-name[_ngcontent-%COMP%]{font-weight:600;color:#172b4d;font-size:.875rem;letter-spacing:-.025em}.stat-duration[_ngcontent-%COMP%]{font-weight:600;color:#0052cc;font-size:1rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.stat-details[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-bottom:1rem;font-size:.75rem;color:#5e6c84}.stat-sessions[_ngcontent-%COMP%], .stat-avg[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-bar[_ngcontent-%COMP%]{height:3px;background:#e1e5e9;border-radius:1.5px;overflow:hidden}.stat-fill[_ngcontent-%COMP%]{height:100%;border-radius:1.5px;transition:width .4s ease}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.empty-message[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af}.daily-breakdown[_ngcontent-%COMP%]{margin-bottom:3rem}.daily-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1rem}.daily-card[_ngcontent-%COMP%]{background:#fff;padding:1.25rem;border-radius:6px;border:1px solid #dfe1e6;box-shadow:0 1px 2px #172b4d0f;text-align:center;transition:all .15s ease}.daily-card[_ngcontent-%COMP%]:hover{border-color:#0052cc;box-shadow:0 2px 8px #172b4d1f}.daily-card.today[_ngcontent-%COMP%]{background:#0052cc;color:#fff;border-color:#0052cc}.day-header[_ngcontent-%COMP%]{margin-bottom:1rem}.day-name[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px}.day-date[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7;color:#5e6c84}.day-stats[_ngcontent-%COMP%]{text-align:center}.day-total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;margin-bottom:.5rem;color:#172b4d}.daily-card.today[_ngcontent-%COMP%]   .day-total[_ngcontent-%COMP%]{color:#fff}.day-sessions[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7;text-transform:uppercase;letter-spacing:.5px;font-weight:500}@media (max-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.daily-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 768px){.time-tracking-page[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.overview-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.overview-card[_ngcontent-%COMP%]{padding:1rem}.card-value[_ngcontent-%COMP%]{font-size:1.25rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.time-range-selector[_ngcontent-%COMP%]{width:100%;justify-content:center}.range-btn[_ngcontent-%COMP%]{flex:1;text-align:center}.daily-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.stat-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.25rem}.stat-details[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}}@media (max-width: 480px){.overview-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.overview-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}.daily-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{I as TimeTrackingPageComponent};
