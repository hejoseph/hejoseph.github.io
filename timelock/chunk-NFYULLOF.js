import{a as te}from"./chunk-XGI6JSF6.js";import{e as ne}from"./chunk-WTU7J6Y2.js";import{a as oe}from"./chunk-T27XTJSP.js";import{C as ee,h as $,j as W,k as H,n as G,r as q,s as Y,t as J,x as K,y as Z}from"./chunk-IPJW2PXU.js";import{$ as s,Ga as N,Ka as v,Ua as V,W as S,Xa as g,Ya as d,Za as c,Zb as R,_a as y,_b as Q,a as w,aa as a,b as P,ba as E,c as m,ca as F,cb as h,cc as U,db as f,eb as r,gb as B,hb as z,ib as L,ja as x,jc as X,kb as M,lb as T,nb as u,ob as b,pb as k,sb as j,tb as D,ub as A,vb as I,wa as p}from"./chunk-3KRIVHIL.js";var re=["taskEditor"];function se(l,n){if(l&1&&(d(0,"span",33)(1,"strong"),u(2),c(),u(3," estimated "),c()),l&2){let e=r(2);p(2),b(e.formatTime(e.timeEstimate()))}}function ae(l,n){if(l&1&&(d(0,"div",31)(1,"div",32)(2,"span",33)(3,"strong"),u(4),c(),u(5," completed "),c(),d(6,"span",33)(7,"strong"),u(8),c(),u(9," remaining "),c(),v(10,se,4,1,"span",34),c(),d(11,"div",35),y(12,"div",36),c(),d(13,"span",37),u(14),c()()),l&2){let e=r();p(4),b(e.focusService.focusProgress().completed),p(4),b(e.focusService.focusProgress().remaining),p(2),g("ngIf",e.timeEstimate()>0),p(2),M("width",e.focusService.focusProgress().percentage,"%"),p(2),k("",e.focusService.focusProgress().percentage,"% complete")}}function de(l,n){if(l&1){let e=h();d(0,"button",38),f("click",function(){s(e);let o=r();return a(o.clearAllFocus())}),u(1," Clear All "),c()}}function ce(l,n){l&1&&(d(0,"div",39)(1,"div",40),u(2,"\u{1F3AF}"),c(),d(3,"h3"),u(4,"No focus tasks yet"),c(),d(5,"p"),u(6,"Select tasks from the available list below to add them to your daily focus."),c()())}function le(l,n){if(l&1){let e=h();d(0,"div",43),f("dragstart",function(o){let i=s(e).index,_=r(2);return a(_.onFocusTaskDragStart(i,o))})("dragenter",function(o){let i=s(e).index,_=r(2);return a(_.onFocusTaskDragEnter(i,o))})("dragover",function(o){let i=s(e).index,_=r(2);return a(_.onFocusTaskDragOver(i,o))})("dragleave",function(o){let i=s(e).index,_=r(2);return a(_.onFocusTaskDragLeave(i,o))})("drop",function(o){let i=s(e).index,_=r(2);return a(_.onFocusTaskDrop(i,o))})("dragend",function(){s(e);let o=r(2);return a(o.onFocusTaskDragEnd())}),d(1,"div",44),u(2),c(),d(3,"div",45)(4,"app-todo-item",46),f("toggle",function(o){s(e);let i=r(2);return a(i.onToggleTodo(o))})("delete",function(o){s(e);let i=r(2);return a(i.onDeleteTodo(o))})("archive",function(o){s(e);let i=r(2);return a(i.onArchiveTodo(o))})("unarchive",function(o){s(e);let i=r(2);return a(i.onUnarchiveTodo(o))})("update",function(o){s(e);let i=r(2);return a(i.onUpdateTodo(o))})("addSubtaskEvent",function(o){s(e);let i=r(2);return a(i.onAddSubtask(o))})("toggleExpanded",function(o){s(e);let i=r(2);return a(i.onToggleExpanded(o))})("subtaskDrop",function(o){s(e);let i=r(2);return a(i.onSubtaskDrop(o))})("edit",function(){let o=s(e).$implicit,i=r(2);return a(i.openTaskEditorById(o.id))})("editSubtask",function(o){s(e);let i=r(2);return a(i.openTaskEditorById(o))})("focusToggle",function(o){s(e);let i=r(2);return a(i.onFocusToggle(o))})("duplicate",function(o){s(e);let i=r(2);return a(i.onDuplicateTodo(o))}),c()()()}if(l&2){let e=n.$implicit,t=n.index,o=r(2);T("dragging",o.draggingIndex()===t)("drag-over",o.dragOverIndex()===t&&o.draggingIndex()!==t),p(2),b(t+1),p(2),g("todo",e)("highlightedTaskId",(o.editingTodo==null?null:o.editingTodo.id)||null)("showFocusToggle",!0)("hideConversionButtons",!0)}}function _e(l,n){if(l&1&&(d(0,"div",41),v(1,le,5,9,"div",42),c()),l&2){let e=r();p(),g("ngForOf",e.focusService.todaysFocusTasks())}}function pe(l,n){if(l&1){let e=h();d(0,"button",47),f("click",function(){s(e);let o=r();return a(o.clearAllTodayTasks())}),u(1," Clear All "),c()}}function ue(l,n){l&1&&(d(0,"div",39)(1,"div",40),u(2,"\u{1F4CB}"),c(),d(3,"h3"),u(4,"No tasks for today yet"),c(),d(5,"p"),u(6,"Select tasks from the available list below to add them to your daily task list."),c()())}function ge(l,n){if(l&1){let e=h();d(0,"div",43),f("dragstart",function(o){let i=s(e).index,_=r(2);return a(_.onTodayTaskDragStart(i,o))})("dragenter",function(o){let i=s(e).index,_=r(2);return a(_.onTodayTaskDragEnter(i,o))})("dragover",function(o){let i=s(e).index,_=r(2);return a(_.onTodayTaskDragOver(i,o))})("dragleave",function(o){let i=s(e).index,_=r(2);return a(_.onTodayTaskDragLeave(i,o))})("drop",function(o){let i=s(e).index,_=r(2);return a(_.onTodayTaskDrop(i,o))})("dragend",function(){s(e);let o=r(2);return a(o.onTodayTaskDragEnd())}),d(1,"div",44),u(2),c(),d(3,"div",45)(4,"app-todo-item",48),f("toggle",function(o){s(e);let i=r(2);return a(i.onToggleTodo(o))})("delete",function(o){s(e);let i=r(2);return a(i.onDeleteTodo(o))})("archive",function(o){s(e);let i=r(2);return a(i.onArchiveTodo(o))})("unarchive",function(o){s(e);let i=r(2);return a(i.onUnarchiveTodo(o))})("update",function(o){s(e);let i=r(2);return a(i.onUpdateTodo(o))})("addSubtaskEvent",function(o){s(e);let i=r(2);return a(i.onAddSubtask(o))})("toggleExpanded",function(o){s(e);let i=r(2);return a(i.onToggleExpanded(o))})("subtaskDrop",function(o){s(e);let i=r(2);return a(i.onSubtaskDrop(o))})("edit",function(){let o=s(e).$implicit,i=r(2);return a(i.openTaskEditorById(o.id))})("editSubtask",function(o){s(e);let i=r(2);return a(i.openTaskEditorById(o))})("focusToggle",function(o){s(e);let i=r(2);return a(i.onFocusToggle(o))})("todayTaskToggle",function(o){s(e);let i=r(2);return a(i.onTodayTaskToggle(o))})("duplicate",function(o){s(e);let i=r(2);return a(i.onDuplicateTodo(o))}),c()()()}if(l&2){let e=n.$implicit,t=n.index,o=r(2);T("dragging",o.draggingTodayTaskIndex()===t)("drag-over",o.dragOverTodayTaskIndex()===t&&o.draggingTodayTaskIndex()!==t),p(2),b(t+1),p(2),g("todo",e)("highlightedTaskId",(o.editingTodo==null?null:o.editingTodo.id)||null)("showFocusToggle",!0)("hideConversionButtons",!0)}}function me(l,n){if(l&1&&(d(0,"div",41),v(1,ge,5,9,"div",42),c()),l&2){let e=r();p(),g("ngForOf",e.focusService.todaysTasks())}}function ve(l,n){if(l&1&&(d(0,"option",49),u(1),c()),l&2){let e=n.$implicit;g("value",e.id),p(),k(" ",e.name," ")}}function fe(l,n){l&1&&(d(0,"p"),u(1,"Try adjusting your filters."),c())}function Te(l,n){l&1&&(d(0,"p"),u(1,"All your tasks are either completed, archived, or already in focus!"),c())}function xe(l,n){if(l&1&&(d(0,"div",39)(1,"div",40),u(2,"\u2705"),c(),d(3,"h3"),u(4,"No available tasks"),c(),v(5,fe,2,0,"p",50)(6,Te,2,0,"p",50),c()),l&2){let e=r();p(5),g("ngIf",e.searchQuery||e.selectedProject),p(),g("ngIf",!e.searchQuery&&!e.selectedProject)}}function he(l,n){if(l&1){let e=h();d(0,"div",57),f("click",function(){s(e);let o=r().$implicit,i=r(2);return a(i.toggleProjectExpansion(o.projectId))}),d(1,"button",58),E(),d(2,"svg",12),y(3,"path",13),c()(),F(),d(4,"span",59),u(5),c(),d(6,"h3",60),u(7),c(),d(8,"span",15),u(9),c()()}if(l&2){let e=r().$implicit,t=r(2);T("expanded",t.isProjectExpanded(e.projectId)),p(),T("expanded",t.isProjectExpanded(e.projectId)),V("aria-expanded",t.isProjectExpanded(e.projectId))("aria-controls","project-tasks-"+e.projectId),p(3),M("color",t.getProjectColor(e.projectId)),p(),k(" ",t.getProjectIcon(e.projectId)," "),p(2),b(e.projectName),p(2),k("(",e.tasks.length,")")}}function ke(l,n){if(l&1){let e=h();d(0,"app-todo-item",48),f("toggle",function(o){s(e);let i=r(3);return a(i.onToggleTodo(o))})("delete",function(o){s(e);let i=r(3);return a(i.onDeleteTodo(o))})("archive",function(o){s(e);let i=r(3);return a(i.onArchiveTodo(o))})("unarchive",function(o){s(e);let i=r(3);return a(i.onUnarchiveTodo(o))})("update",function(o){s(e);let i=r(3);return a(i.onUpdateTodo(o))})("addSubtaskEvent",function(o){s(e);let i=r(3);return a(i.onAddSubtask(o))})("toggleExpanded",function(o){s(e);let i=r(3);return a(i.onToggleExpanded(o))})("subtaskDrop",function(o){s(e);let i=r(3);return a(i.onSubtaskDrop(o))})("edit",function(){let o=s(e).$implicit,i=r(3);return a(i.openTaskEditorById(o.id))})("editSubtask",function(o){s(e);let i=r(3);return a(i.openTaskEditorById(o))})("focusToggle",function(o){s(e);let i=r(3);return a(i.onFocusToggle(o))})("todayTaskToggle",function(o){s(e);let i=r(3);return a(i.onTodayTaskToggle(o))})("duplicate",function(o){s(e);let i=r(3);return a(i.onDuplicateTodo(o))}),c()}if(l&2){let e=n.$implicit,t=r(3);g("todo",e)("highlightedTaskId",(t.editingTodo==null?null:t.editingTodo.id)||null)("showFocusToggle",!0)("hideConversionButtons",!0)}}function Ce(l,n){if(l&1&&(d(0,"div",53),v(1,he,10,11,"div",54),d(2,"div",55),v(3,ke,1,4,"app-todo-item",56),c()()),l&2){let e=n.$implicit,t=r(2);p(),g("ngIf",!t.selectedProject),p(),T("collapsed",!t.selectedProject&&!t.isProjectExpanded(e.projectId)),g("id","project-tasks-"+e.projectId),p(),g("ngForOf",e.tasks)}}function be(l,n){if(l&1&&(d(0,"div",51),v(1,Ce,4,5,"div",52),c()),l&2){let e=r();p(),g("ngForOf",e.groupedAvailableTasks())}}var ie=class l{focusService=S(te);todoService=S(ee);projectService=S(X);confirmationService=S(Z);taskEditor;editingTodo=null;searchQuery="";selectedProject="";expandedProjects=x(new Set);hasUserInteracted=!1;focusPanelExpanded=x(!0);availableTasksPanelExpanded=x(!0);todayTasksPanelExpanded=x(!0);draggingIndex=x(null);dragOverIndex=x(null);draggingTodayTaskIndex=x(null);dragOverTodayTaskIndex=x(null);timeEstimate=()=>this.focusService.getFocusTimeEstimate();filteredAvailableTasks=()=>{let n=this.focusService.availableTasks(),e=new Set(this.getAllTaskIds(this.focusService.todaysFocusTasks())),t=new Set(this.getAllTaskIds(this.focusService.todaysTasks())),o=new Set([...e,...t]),i=this.processTasksWithSmartSubtaskFiltering(n,o),_=i;if(this.searchQuery){let C=this.searchQuery.toLowerCase();_=this.filterTasksRecursively(i,O=>O.title.toLowerCase().includes(C)||(O.description?.toLowerCase().includes(C)??!1)||(O.category?.toLowerCase().includes(C)??!1))}return this.selectedProject&&(_=_.filter(C=>C.projectId===this.selectedProject)),_};groupedAvailableTasks=()=>{let n=this.filteredAvailableTasks();if(this.selectedProject)return[{projectId:this.selectedProject,projectName:this.getProjectName(this.selectedProject),tasks:n}];let e=new Map;for(let o of n){let i=o.projectId||"no-project",_=o.projectId?this.getProjectName(o.projectId):"No Project";e.has(i)||e.set(i,{projectId:i,projectName:_,tasks:[]}),e.get(i).tasks.push(o)}return Array.from(e.values()).sort((o,i)=>o.projectId==="no-project"?1:i.projectId==="no-project"?-1:o.projectName.localeCompare(i.projectName))};getAllTaskIds(n){let e=[];for(let t of n)e.push(t.id),t.subtasks.length>0&&e.push(...this.getAllTaskIds(t.subtasks));return e}processTasksWithSmartSubtaskFiltering(n,e){let t=[];for(let o of n)if(!e.has(o.id))if(o.completed){let i=this.getOrphanedSubtasks(o.subtasks,e);t.push(...i)}else{let i=this.filterSubtasksRecursively(o.subtasks,e),_=P(w({},o),{subtasks:i});t.push(_)}return t}getOrphanedSubtasks(n,e){let t=[];for(let o of n)if(!e.has(o.id))if(o.completed)o.subtasks.length>0&&t.push(...this.getOrphanedSubtasks(o.subtasks,e));else{let i=this.filterSubtasksRecursively(o.subtasks,e),_=P(w({},o),{subtasks:i});t.push(_)}return t}filterSubtasksRecursively(n,e){let t=[];for(let o of n){if(e.has(o.id)||o.completed)continue;let i=this.filterSubtasksRecursively(o.subtasks,e),_=P(w({},o),{subtasks:i});t.push(_)}return t}filterTasksRecursively(n,e){let t=[];for(let o of n){let i=e(o),_=this.filterTasksRecursively(o.subtasks,e);if(i||_.length>0){let C=P(w({},o),{subtasks:_});t.push(C)}}return t}getProjectName(n){return this.projectService.activeProjects().find(t=>t.id===n)?.name||"Unknown Project"}getProjectIcon(n){return n==="no-project"?"\u{1F4CB}":this.projectService.activeProjects().find(t=>t.id===n)?.icon||"\u{1F4CB}"}getProjectColor(n){return n==="no-project"?"#6b7280":this.projectService.activeProjects().find(t=>t.id===n)?.color||"#6b7280"}addFocus(n){return m(this,null,function*(){yield this.focusService.addToTodaysFocus(n)})}removeFocus(n){return m(this,null,function*(){yield this.focusService.removeFromTodaysFocus(n)})}onFocusToggle(n){return m(this,null,function*(){console.log("FocusComponent: Received focusToggle event for task:",n);let e=window.pageYOffset||document.documentElement.scrollTop;try{yield this.focusService.toggleTodaysFocus(n),console.log("FocusComponent: Successfully toggled focus for task:",n)}catch(t){console.error("FocusComponent: Error toggling focus for task:",n,t)}setTimeout(()=>{window.scrollTo(0,e)},0)})}onTodayTaskToggle(n){return m(this,null,function*(){console.log("FocusComponent: Received todayTaskToggle event for task:",n);let e=window.pageYOffset||document.documentElement.scrollTop;try{yield this.focusService.toggleTodaysTasks(n),console.log("FocusComponent: Successfully toggled today task for task:",n)}catch(t){console.error("FocusComponent: Error toggling today task for task:",n,t)}setTimeout(()=>{window.scrollTo(0,e)},0)})}clearAllFocus(){return m(this,null,function*(){confirm("Are you sure you want to remove all tasks from today's focus?")&&(yield this.focusService.clearTodaysFocus())})}clearAllTodayTasks(){return m(this,null,function*(){confirm("Are you sure you want to remove all tasks from today's task list?")&&(yield this.focusService.clearTodaysTasks())})}updateSearch(n){let e=n.target;this.searchQuery=e.value}updateProjectFilter(){}toggleFocusPanelExpansion(){this.focusPanelExpanded.set(!this.focusPanelExpanded())}toggleAvailableTasksPanelExpansion(){this.availableTasksPanelExpanded.set(!this.availableTasksPanelExpanded())}toggleTodayTasksPanelExpansion(){this.todayTasksPanelExpanded.set(!this.todayTasksPanelExpanded())}toggleProjectExpansion(n){let e=this.expandedProjects(),t=new Set(e);if(e.size===0&&!this.hasUserInteracted){let o=this.groupedAvailableTasks().map(i=>i.projectId);t=new Set(o)}this.hasUserInteracted=!0,t.has(n)?t.delete(n):t.add(n),this.expandedProjects.set(t)}isProjectExpanded(n){let e=this.expandedProjects();return e.size===0&&!this.hasUserInteracted?!0:e.has(n)}onFocusTaskDragStart(n,e){this.draggingIndex.set(n),this.dragOverIndex.set(n);try{e.dataTransfer?.setData("text/plain",String(n)),e.dataTransfer?.setDragImage(new Image,0,0),e.dataTransfer.effectAllowed="move"}catch{}}onFocusTaskDragEnter(n,e){e.preventDefault(),this.draggingIndex()!==null&&this.draggingIndex()!==n&&this.dragOverIndex.set(n)}onFocusTaskDragOver(n,e){e.preventDefault(),this.draggingIndex()!==null&&(e.dataTransfer.dropEffect="move",this.dragOverIndex.set(n))}onFocusTaskDragLeave(n,e){e.preventDefault(),this.dragOverIndex()===n&&this.dragOverIndex.set(null)}onFocusTaskDrop(n,e){return m(this,null,function*(){e.preventDefault();let t=this.draggingIndex();t===null||t===n||(yield this.focusService.reorderFocusTasks(t,n),this.draggingIndex.set(null),this.dragOverIndex.set(null))})}onFocusTaskDragEnd(){this.draggingIndex.set(null),this.dragOverIndex.set(null)}onTodayTaskDragStart(n,e){this.draggingTodayTaskIndex.set(n),this.dragOverTodayTaskIndex.set(n);try{e.dataTransfer?.setData("text/plain",String(n)),e.dataTransfer?.setDragImage(new Image,0,0),e.dataTransfer.effectAllowed="move"}catch{}}onTodayTaskDragEnter(n,e){e.preventDefault(),this.draggingTodayTaskIndex()!==null&&this.draggingTodayTaskIndex()!==n&&this.dragOverTodayTaskIndex.set(n)}onTodayTaskDragOver(n,e){e.preventDefault(),this.draggingTodayTaskIndex()!==null&&(e.dataTransfer.dropEffect="move",this.dragOverTodayTaskIndex.set(n))}onTodayTaskDragLeave(n,e){e.preventDefault(),this.dragOverTodayTaskIndex()===n&&this.dragOverTodayTaskIndex.set(null)}onTodayTaskDrop(n,e){return m(this,null,function*(){e.preventDefault();let t=this.draggingTodayTaskIndex();t===null||t===n||(yield this.focusService.reorderTodaysTasks(t,n),this.draggingTodayTaskIndex.set(null),this.dragOverTodayTaskIndex.set(null))})}onTodayTaskDragEnd(){this.draggingTodayTaskIndex.set(null),this.dragOverTodayTaskIndex.set(null)}onToggleTodo(n){return m(this,null,function*(){yield this.todoService.toggleTodo(n)})}onDeleteTodo(n){return m(this,null,function*(){let e=this.findTodoById(n);if(!e)return;(yield this.confirmationService.open("Delete Task",`Are you sure you want to delete "${e.title}"? This will also delete all its subtasks.`,"Delete","Delete with tasks",!1))==="confirm"&&(yield this.todoService.deleteTodo(n))})}onDuplicateTodo(n){return m(this,null,function*(){try{yield this.todoService.duplicateTodo(n)}catch(e){console.error("Failed to duplicate todo:",e)}})}onArchiveTodo(n){return m(this,null,function*(){this.todoService.archiveTodo(n)})}onUnarchiveTodo(n){return m(this,null,function*(){this.todoService.unarchiveTodo(n)})}onUpdateTodo(n){return m(this,null,function*(){yield this.todoService.updateTodo(n.id,n.updates)})}onAddSubtask(n){return m(this,null,function*(){this.todoService.addSubtask(n.parentId,n.subtaskData)})}onToggleExpanded(n){this.todoService.toggleExpanded(n)}onSubtaskDrop(n){return m(this,null,function*(){console.log("Subtask drop not implemented yet:",n)})}openTaskEditorById(n){let e=this.todoService.getTodoById(n);e&&(this.editingTodo=e,this.taskEditor.open())}onSaveTask(n){return m(this,null,function*(){this.editingTodo&&(yield this.todoService.updateTodo(this.editingTodo.id,n),this.editingTodo=null,this.taskEditor.onClose())})}onCancelEdit(){this.editingTodo=null}findTodoById(n){let e=this.focusService.todaysFocusTasks(),t=this.findTodoByIdRecursive(e,n);if(t)return t;let o=this.focusService.availableTasks();return this.findTodoByIdRecursive(o,n)}findTodoByIdRecursive(n,e){for(let t of n){if(t.id===e)return t;if(t.subtasks.length>0){let o=this.findTodoByIdRecursive(t.subtasks,e);if(o)return o}}}formatTime(n){if(n<60)return`${n}m`;let e=Math.floor(n/60),t=n%60;return t>0?`${e}h ${t}m`:`${e}h`}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=N({type:l,selectors:[["app-focus"]],viewQuery:function(e,t){if(e&1&&B(re,5),e&2){let o;z(o=L())&&(t.taskEditor=o.first)}},decls:68,vars:40,consts:[["taskEditor",""],[1,"focus-container"],[1,"focus-header"],[1,"header-content"],[1,"focus-icon"],[1,"focus-subtitle"],["class","focus-progress",4,"ngIf"],[1,"focus-content"],[1,"focus-section"],[1,"section-header"],[1,"section-title"],[1,"expand-toggle",3,"click","title"],["width","16","height","16","viewBox","0 0 20 20","fill","currentColor",1,"chevron"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707A1 1 0 118.707 5.293l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"section-icon"],[1,"task-count"],[1,"section-actions"],["class","btn btn-secondary btn-sm","title","Clear all focus tasks",3,"click",4,"ngIf"],["id","focus-tasks-content"],["class","empty-state",4,"ngIf"],["class","focus-tasks-list",4,"ngIf"],["class","btn btn-secondary btn-sm","title","Clear all today's tasks",3,"click",4,"ngIf"],["id","today-tasks-content"],[1,"available-section"],["type","text","placeholder","Search tasks...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","available-tasks-content"],["class","available-tasks-list",4,"ngIf"],[3,"save","cancel","todo"],[1,"focus-progress"],[1,"progress-stats"],[1,"stat"],["class","stat",4,"ngIf"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],["title","Clear all focus tasks",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"focus-tasks-list"],["class","focus-task-item","draggable","true",3,"dragging","drag-over","dragstart","dragenter","dragover","dragleave","drop","dragend",4,"ngFor","ngForOf"],["draggable","true",1,"focus-task-item",3,"dragstart","dragenter","dragover","dragleave","drop","dragend"],[1,"task-order"],[1,"task-content"],[3,"toggle","delete","archive","unarchive","update","addSubtaskEvent","toggleExpanded","subtaskDrop","edit","editSubtask","focusToggle","duplicate","todo","highlightedTaskId","showFocusToggle","hideConversionButtons"],["title","Clear all today's tasks",1,"btn","btn-secondary","btn-sm",3,"click"],[3,"toggle","delete","archive","unarchive","update","addSubtaskEvent","toggleExpanded","subtaskDrop","edit","editSubtask","focusToggle","todayTaskToggle","duplicate","todo","highlightedTaskId","showFocusToggle","hideConversionButtons"],[3,"value"],[4,"ngIf"],[1,"available-tasks-list"],["class","project-group",4,"ngFor","ngForOf"],[1,"project-group"],["class","project-header",3,"expanded","click",4,"ngIf"],[1,"project-tasks",3,"id"],[3,"todo","highlightedTaskId","showFocusToggle","hideConversionButtons","toggle","delete","archive","unarchive","update","addSubtaskEvent","toggleExpanded","subtaskDrop","edit","editSubtask","focusToggle","todayTaskToggle","duplicate",4,"ngFor","ngForOf"],[1,"project-header",3,"click"],[1,"expand-toggle"],[1,"project-icon"],[1,"project-name"]],template:function(e,t){if(e&1){let o=h();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1")(4,"span",4),u(5,"\u{1F3AF}"),c(),u(6," Today's Focus "),c(),d(7,"p",5),u(8,"Plan and track your most important tasks for today"),c()(),v(9,ae,15,6,"div",6),c(),d(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"button",11),f("click",function(){return s(o),a(t.toggleFocusPanelExpansion())}),E(),d(15,"svg",12),y(16,"path",13),c()(),F(),d(17,"h2")(18,"span",14),u(19,"\u2B50"),c(),u(20," Focus Tasks "),d(21,"span",15),u(22),c()()(),d(23,"div",16),v(24,de,2,0,"button",17),c()(),d(25,"div",18),v(26,ce,7,0,"div",19)(27,_e,2,1,"div",20),c()(),d(28,"div",8)(29,"div",9)(30,"div",10)(31,"button",11),f("click",function(){return s(o),a(t.toggleTodayTasksPanelExpansion())}),E(),d(32,"svg",12),y(33,"path",13),c()(),F(),d(34,"h2")(35,"span",14),u(36,"\u{1F4CB}"),c(),u(37," Today's Tasks "),d(38,"span",15),u(39),c()()(),d(40,"div",16),v(41,pe,2,0,"button",21),c()(),d(42,"div",22),v(43,ue,7,0,"div",19)(44,me,2,1,"div",20),c()(),d(45,"div",23)(46,"div",9)(47,"div",10)(48,"button",11),f("click",function(){return s(o),a(t.toggleAvailableTasksPanelExpansion())}),E(),d(49,"svg",12),y(50,"path",13),c()(),F(),d(51,"h2")(52,"span",14),u(53,"\u{1F4CB}"),c(),u(54," Available Tasks "),d(55,"span",15),u(56),c()()(),d(57,"div",16)(58,"input",24),A("ngModelChange",function(_){return s(o),D(t.searchQuery,_)||(t.searchQuery=_),a(_)}),f("input",function(_){return s(o),a(t.updateSearch(_))}),c(),d(59,"select",25),A("ngModelChange",function(_){return s(o),D(t.selectedProject,_)||(t.selectedProject=_),a(_)}),f("change",function(){return s(o),a(t.updateProjectFilter())}),d(60,"option",26),u(61,"All Projects"),c(),v(62,ve,2,2,"option",27),c()()(),d(63,"div",28),v(64,xe,7,2,"div",19)(65,be,2,1,"div",29),c()()(),d(66,"app-task-editor",30,0),f("save",function(_){return s(o),a(t.onSaveTask(_))})("cancel",function(){return s(o),a(t.onCancelEdit())}),c()()}e&2&&(p(9),g("ngIf",t.focusService.focusProgress().total>0),p(5),T("expanded",t.focusPanelExpanded()),g("title",I("",t.focusPanelExpanded()?"Collapse":"Expand"," focus tasks")),V("aria-expanded",t.focusPanelExpanded())("aria-controls","focus-tasks-content"),p(8),k("(",t.focusService.todaysFocusTasks().length,")"),p(2),g("ngIf",t.focusService.todaysFocusTasks().length>0),p(),T("collapsed",!t.focusPanelExpanded()),p(),g("ngIf",t.focusService.todaysFocusTasks().length===0),p(),g("ngIf",t.focusService.todaysFocusTasks().length>0),p(4),T("expanded",t.todayTasksPanelExpanded()),g("title",I("",t.todayTasksPanelExpanded()?"Collapse":"Expand"," today's tasks")),V("aria-expanded",t.todayTasksPanelExpanded())("aria-controls","today-tasks-content"),p(8),k("(",t.focusService.todaysTasks().length,")"),p(2),g("ngIf",t.focusService.todaysTasks().length>0),p(),T("collapsed",!t.todayTasksPanelExpanded()),p(),g("ngIf",t.focusService.todaysTasks().length===0),p(),g("ngIf",t.focusService.todaysTasks().length>0),p(4),T("expanded",t.availableTasksPanelExpanded()),g("title",I("",t.availableTasksPanelExpanded()?"Collapse":"Expand"," available tasks")),V("aria-expanded",t.availableTasksPanelExpanded())("aria-controls","available-tasks-content"),p(8),k("(",t.filteredAvailableTasks().length,")"),p(2),j("ngModel",t.searchQuery),p(),j("ngModel",t.selectedProject),p(3),g("ngForOf",t.projectService.activeProjects()),p(),T("collapsed",!t.availableTasksPanelExpanded()),p(),g("ngIf",t.filteredAvailableTasks().length===0),p(),g("ngIf",t.filteredAvailableTasks().length>0),p(),g("todo",t.editingTodo))},dependencies:[U,R,Q,$,K,Y,J,W,q,H,G,ne,oe],styles:[".focus-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;min-height:100vh;overflow-anchor:none}.focus-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #e5e7eb}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:0 0 .5rem;font-size:2.5rem;font-weight:700;color:#1f2937}.focus-icon[_ngcontent-%COMP%]{font-size:2.5rem}.focus-subtitle[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:1.125rem}.focus-progress[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1.5rem;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border-radius:12px;border:1px solid #d1d5db}.progress-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1rem;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{color:#374151;font-size:.875rem}.stat[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-size:1.125rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#10b981,#059669);border-radius:4px;transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.focus-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.focus-section[_ngcontent-%COMP%], .available-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e5e7eb;overflow:visible}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;background:#f9fafb;border-bottom:1px solid #e5e7eb}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:1.25rem;font-weight:600;color:#1f2937}.section-icon[_ngcontent-%COMP%]{font-size:1.25rem}.task-count[_ngcontent-%COMP%]{color:#6b7280;font-weight:400;font-size:1rem}.section-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.search-input[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;width:200px}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.filter-select[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;background:#fff;min-width:150px}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:.5rem}.btn-sm[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.8125rem}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb;border-color:#9ca3af}.expand-toggle[_ngcontent-%COMP%]{background:none;border:none;padding:.25rem;cursor:pointer;border-radius:4px;color:#6b7280;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.expand-toggle[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.expand-toggle[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{transition:transform .2s ease;transform:rotate(0)}.collapsed[_ngcontent-%COMP%]{display:none}.empty-state[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#374151;font-size:1.25rem;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.focus-tasks-list[_ngcontent-%COMP%]{padding:1rem;overflow-anchor:none}.focus-task-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;margin-bottom:.75rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;cursor:move;transition:all .2s ease}.focus-task-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.focus-task-item.dragging[_ngcontent-%COMP%]{opacity:.5;transform:rotate(2deg)}.focus-task-item.drag-over[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.task-order[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;background:#3b82f6;color:#fff;border-radius:50%;font-weight:600;font-size:.875rem;flex-shrink:0;margin-top:.25rem}.task-content[_ngcontent-%COMP%]{flex:1;min-width:0}.available-tasks-list[_ngcontent-%COMP%]{padding:1rem;overflow-anchor:none}.project-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.project-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.project-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;margin-bottom:.75rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;-webkit-user-select:none;user-select:none}.project-header[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.expand-toggle[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;transition:transform .2s ease}.expand-toggle[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{transition:transform .2s ease}.expand-toggle.expanded[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{transform:rotate(90deg)}.project-icon[_ngcontent-%COMP%]{font-size:1.125rem}.project-name[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#374151}.project-tasks[_ngcontent-%COMP%]{margin-left:.5rem;border-left:2px solid #f1f5f9;padding-left:1rem;transition:all .3s ease;overflow:visible}.project-tasks.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin-bottom:0;padding-top:0;padding-bottom:0}@media (max-width: 768px){.focus-container[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .focus-icon[_ngcontent-%COMP%]{font-size:2rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.section-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-input[_ngcontent-%COMP%], .filter-select[_ngcontent-%COMP%]{width:100%}.progress-stats[_ngcontent-%COMP%]{gap:1rem}.focus-task-item[_ngcontent-%COMP%], .available-task-item[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.task-order[_ngcontent-%COMP%], .remove-focus-btn[_ngcontent-%COMP%], .add-focus-btn[_ngcontent-%COMP%]{align-self:flex-start}}"]})};export{ie as FocusComponent};
