import{a as Q}from"./chunk-2N5WZ4DR.js";import{C as Y,e as W,h as U}from"./chunk-7NQUUWIG.js";import{$ as p,$b as R,Ga as j,Ib as b,Ka as k,W as O,Xa as m,Ya as r,Za as s,_a as M,_b as A,aa as g,ba as D,c as I,ca as T,cb as w,db as u,dc as H,eb as c,gb as $,hb as L,ib as F,ja as S,kb as z,kc as G,lb as y,lc as B,mb as V,nb as l,ob as h,pb as C,qb as E,wa as a,zb as N}from"./chunk-CKIP5TIM.js";var J=["taskEditor"],K=o=>["/project",o];function X(o,t){if(o&1&&(r(0,"div",23)(1,"div",24),l(2,"\u{1F4C5}"),s(),r(3,"h3"),l(4),s(),r(5,"p"),l(6),s()()),o&2){let e=c(2);a(4),h(e.translations().noTasksScheduled),a(2),h(e.translations().dayIsFree)}}function Z(o,t){if(o&1&&(r(0,"div",43),l(1),s()),o&2){let e=c().$implicit,n=c(2);a(),C(" ",n.getTaskDisplayTime(e)," ")}}function ee(o,t){if(o&1&&(r(0,"div",44),l(1),s()),o&2){let e=c().$implicit,n=c(2);a(),C(" ",n.getTaskTimeRange(e)," ")}}function te(o,t){if(o&1&&(r(0,"p",45),l(1),s()),o&2){let e=c().$implicit;a(),h(e.description)}}function ne(o,t){if(o&1&&(r(0,"div",46),l(1),s()),o&2){let e=c().$implicit,n=c(2);m("title",n.translations().estimatedDuration),a(),C(" \u{1F552} ",n.formatDuration(e.duration)," ")}}function ie(o,t){if(o&1){let e=w();r(0,"div",25),u("click",function(){let i=p(e).$implicit,d=c(2);return g(d.editTask(i))}),k(1,Z,2,1,"div",26),r(2,"div",27)(3,"div",28)(4,"div",29)(5,"span",30),l(6),s(),r(7,"span",31),l(8),s()(),r(9,"div",32),l(10),s()(),k(11,ee,2,1,"div",33),r(12,"h3",34),l(13),s(),k(14,te,2,1,"p",35)(15,ne,2,2,"div",36),r(16,"div",37),u("click",function(i){return p(e),g(i.stopPropagation())}),r(17,"button",38),u("click",function(){let i=p(e).$implicit,d=c(2);return g(d.toggleTask(i.id))}),l(18),s(),r(19,"button",39),u("click",function(){let i=p(e).$implicit,d=c(2);return g(d.editTask(i))}),D(),r(20,"svg",40),M(21,"path",41),s()(),T(),r(22,"a",42),l(23," View Project "),s()()()()}if(o&2){let e=t.$implicit,n=c(2);y("completed",e.completed)("archived",e.archived),a(),m("ngIf",n.getTaskDisplayTime(e)),a(4),z("color",n.getProjectColor(e.projectId)),a(),C(" ",n.getProjectIcon(e.projectId)," "),a(2),h(n.getProjectName(e.projectId)),a(),V("priority-"+e.priority),a(),C(" ",n.getTranslatedPriority(e.priority)," "),a(),m("ngIf",n.getTaskTimeRange(e)),a(),y("completed",e.completed),a(),h(e.title),a(),m("ngIf",e.description),a(),m("ngIf",e.duration),a(3),C(" ",e.completed?n.translations().markIncomplete:n.translations().markComplete," "),a(),m("title",n.translations().editTask),a(3),m("routerLink",N(21,K,e.projectId))}}function ae(o,t){if(o&1){let e=w();r(0,"div",12)(1,"div",13)(2,"h2"),l(3),s(),r(4,"div",14)(5,"button",15),u("click",function(){p(e);let i=c();return g(i.previousDay())}),D(),r(6,"svg",16),M(7,"path",17),s()(),T(),r(8,"button",18),u("click",function(){p(e);let i=c();return g(i.goToToday())}),l(9),s(),r(10,"button",15),u("click",function(){p(e);let i=c();return g(i.nextDay())}),D(),r(11,"svg",16),M(12,"path",19),s()()()(),T(),r(13,"div",20),k(14,X,7,2,"div",21)(15,ie,24,23,"div",22),s()()}if(o&2){let e=c();a(3),h(e.formatDate(e.today())),a(5),m("disabled",e.isToday(e.today())),a(),h(e.translations().today),a(5),m("ngIf",e.tasksForToday().length===0),a(),m("ngForOf",e.tasksForToday())}}function oe(o,t){if(o&1&&(r(0,"div",58),l(1),s()),o&2){let e=c(3);a(),C(" ",e.translations().noTasks," ")}}function re(o,t){if(o&1&&(r(0,"div",64),l(1),s()),o&2){let e=c().$implicit,n=c(3);a(),C(" ",n.getTaskDisplayTime(e)," ")}}function se(o,t){if(o&1&&(r(0,"div",65),l(1),s()),o&2){let e=c().$implicit,n=c(3);m("title",n.translations().estimatedDuration),a(),C(" \u{1F552} ",n.formatDuration(e.duration)," ")}}function ce(o,t){if(o&1){let e=w();r(0,"div",59),u("click",function(){let i=p(e).$implicit,d=c(3);return g(d.editTask(i))}),k(1,re,2,1,"div",60),r(2,"div",61),l(3),s(),r(4,"div",62),l(5),s(),k(6,se,2,2,"div",63),s()}if(o&2){let e=t.$implicit,n=c(3);V("priority-"+e.priority),y("completed",e.completed)("archived",e.archived),m("title",n.getTaskTooltip(e)),a(),m("ngIf",n.getTaskDisplayTime(e)),a(),y("completed",e.completed),a(),h(e.title),a(2),h(n.getProjectName(e.projectId)),a(),m("ngIf",e.duration)}}function de(o,t){if(o&1){let e=w();r(0,"div",51)(1,"div",52)(2,"div",53),l(3),s(),r(4,"div",54),u("click",function(){let i=p(e).$implicit,d=c(2);return g(d.jumpToDay(i.date))}),l(5),s()(),r(6,"div",55),k(7,oe,2,1,"div",56)(8,ce,7,13,"div",57),s()()}if(o&2){let e=t.$implicit,n=c(2);y("today",n.isToday(e.date)),a(3),h(e.name),a(),m("title",n.translations().viewThisDay),a(),h(e.date.getDate()),a(2),m("ngIf",n.getTasksForDate(e.date).length===0),a(),m("ngForOf",n.getTasksForDate(e.date))}}function le(o,t){if(o&1){let e=w();r(0,"div",47)(1,"div",48)(2,"h2"),l(3),s(),r(4,"div",14)(5,"button",15),u("click",function(){p(e);let i=c();return g(i.previousWeek())}),D(),r(6,"svg",16),M(7,"path",17),s()(),T(),r(8,"button",15),u("click",function(){p(e);let i=c();return g(i.goToCurrentWeek())}),l(9),s(),r(10,"button",15),u("click",function(){p(e);let i=c();return g(i.nextWeek())}),D(),r(11,"svg",16),M(12,"path",19),s()()()(),T(),r(13,"div",49),k(14,de,9,7,"div",50),s()()}if(o&2){let e=c();a(3),h(e.getWeekRange()),a(6),h(e.translations().thisWeek),a(5),m("ngForOf",e.weekDays())}}function me(o,t){if(o&1&&(r(0,"div",73),l(1),s()),o&2){let e=t.$implicit;a(),h(e)}}function pe(o,t){if(o&1&&(r(0,"span",81),l(1),s()),o&2){let e=c().$implicit;a(),E("",e.title.substring(0,15),"",e.title.length>15?"...":"")}}function ge(o,t){if(o&1){let e=w();r(0,"div",79),u("click",function(){let i=p(e).$implicit,d=c(3);return g(d.editTask(i))}),k(1,pe,2,2,"span",80),s()}if(o&2){let e=t.$implicit,n=t.index,i=c(3);V("priority-"+e.priority),y("completed",e.completed)("archived",e.archived),m("title",i.getTaskTooltip(e)),a(),m("ngIf",n<3)}}function ue(o,t){if(o&1&&(r(0,"div",82),l(1),s()),o&2){let e=c().$implicit,n=c(2);a(),C(" +",n.getTasksForDate(e.date).length-3," more ")}}function _e(o,t){if(o&1){let e=w();r(0,"div",74)(1,"div",75),u("click",function(){let i=p(e).$implicit,d=c(2);return g(d.jumpToDay(i.date))}),l(2),s(),r(3,"div",76),k(4,ge,2,8,"div",77)(5,ue,2,1,"div",78),s()()}if(o&2){let e=t.$implicit,n=c(2);y("other-month",!e.isCurrentMonth)("today",n.isToday(e.date)),a(2),h(e.date.getDate()),a(2),m("ngForOf",n.getTasksForDate(e.date)),a(),m("ngIf",n.getTasksForDate(e.date).length>3)}}function fe(o,t){if(o&1){let e=w();r(0,"div",66)(1,"div",67)(2,"h2"),l(3),s(),r(4,"div",14)(5,"button",15),u("click",function(){p(e);let i=c();return g(i.previousMonth())}),D(),r(6,"svg",16),M(7,"path",17),s()(),T(),r(8,"button",15),u("click",function(){p(e);let i=c();return g(i.goToCurrentMonth())}),l(9),s(),r(10,"button",15),u("click",function(){p(e);let i=c();return g(i.nextMonth())}),D(),r(11,"svg",16),M(12,"path",19),s()()()(),T(),r(13,"div",68)(14,"div",69),k(15,me,2,1,"div",70),s(),r(16,"div",71),k(17,_e,6,7,"div",72),s()()()}if(o&2){let e=c();a(3),h(e.getMonthYear()),a(6),h(e.translations().thisMonth),a(6),m("ngForOf",e.weekdayNames()),a(2),m("ngForOf",e.monthDays())}}var q=class o{todoService=O(Y);projectService=O(G);translationService=O(B);translations=b(()=>({calendar:this.translationService.translate("nav.calendar"),noTasksScheduled:this.translationService.translate("calendar.noTasksScheduled"),dayIsFree:this.translationService.translate("calendar.dayIsFree"),estimatedDuration:this.translationService.translate("todoItem.estimatedDuration"),markIncomplete:this.translationService.translate("actions.markIncomplete"),markComplete:this.translationService.translate("actions.markComplete"),editTask:this.translationService.translate("todoItem.editTask"),dueToday:this.translationService.translate("common.dueToday"),noProject:this.translationService.translate("common.noProject"),today:this.translationService.translate("time.today"),week:this.translationService.translate("time.week"),month:this.translationService.translate("time.month"),thisWeek:this.translationService.translate("calendar.thisWeek"),thisMonth:this.translationService.translate("calendar.thisMonth"),hide:this.translationService.translate("calendar.hide"),show:this.translationService.translate("calendar.show"),archived:this.translationService.translate("common.archived"),noTasks:this.translationService.translate("calendar.noTasks"),viewProject:this.translationService.translate("calendar.viewProject"),more:this.translationService.translate("calendar.more"),viewThisDay:this.translationService.translate("calendar.viewThisDay"),priorityHigh:this.translationService.translate("priority.high"),priorityMedium:this.translationService.translate("priority.medium"),priorityLow:this.translationService.translate("priority.low")}));currentLocale=b(()=>this.translationService.currentLanguage()==="fr"?"fr-FR":"en-US");weekdayNames=b(()=>{let t=this.currentLocale(),e=new Intl.DateTimeFormat(t,{weekday:"short"}),n=[];for(let i=0;i<7;i++){let d=new Date(2024,0,7+i);n.push(e.format(d))}return n});taskEditor;currentViewSignal=S("today");currentView=this.currentViewSignal.asReadonly();showArchivedSignal=S(!1);showArchived=this.showArchivedSignal.asReadonly();editingTask=null;todaySignal=S(new Date);today=this.todaySignal.asReadonly();weekStartSignal=S(this.getStartOfWeek(new Date));weekStart=this.weekStartSignal.asReadonly();monthSignal=S(new Date);month=this.monthSignal.asReadonly();flattenTodos(t){let e=[];for(let n of t)e.push(n),n.subtasks&&n.subtasks.length>0&&e.push(...this.flattenTodos(n.subtasks));return e}allTodos=b(()=>this.flattenTodos(this.todoService.todos()));scheduledTodos=b(()=>this.allTodos().filter(t=>(this.showArchived()||!t.archived)&&(t.startDateTime||t.endDateTime||t.dueDate)));tasksForToday=b(()=>{let t=this.today();return this.scheduledTodos().filter(e=>this.isTaskOnDate(e,t)).sort((e,n)=>{let i=!!e.dueDate&&!e.startDateTime,d=!!n.dueDate&&!n.startDateTime;if(i&&d)return new Date(e.dueDate).getTime()-new Date(n.dueDate).getTime();if(i&&!d)return-1;if(!i&&d)return 1;let _=e.startDateTime?new Date(e.startDateTime):null,f=n.startDateTime?new Date(n.startDateTime):null;if(_&&f)return _.getTime()-f.getTime();if(_&&!f)return-1;if(!_&&f)return 1;let v=e.endDateTime?new Date(e.endDateTime):null,x=n.endDateTime?new Date(n.endDateTime):null;if(v&&x)return v.getTime()-x.getTime();if(v&&!x)return-1;if(!v&&x)return 1;let P={high:0,medium:1,low:2};return P[e.priority]-P[n.priority]})});weekDays=b(()=>{let t=this.weekStart(),e=[];for(let n=0;n<7;n++){let i=new Date(t);i.setDate(t.getDate()+n),e.push({date:i,name:i.toLocaleDateString(this.currentLocale(),{weekday:"short"})})}return e});monthDays=b(()=>{let t=this.month(),e=t.getFullYear(),n=t.getMonth(),i=new Date(e,n,1),d=new Date(e,n+1,0),_=new Date(i);_.setDate(i.getDate()-i.getDay());let f=new Date(d);f.setDate(d.getDate()+(6-d.getDay()));let v=[],x=new Date(_);for(;x<=f;)v.push({date:new Date(x),isCurrentMonth:x.getMonth()===n}),x.setDate(x.getDate()+1);return v});setView(t){this.currentViewSignal.set(t)}toggleShowArchived(){this.showArchivedSignal.set(!this.showArchived())}previousDay(){let t=this.today(),e=new Date(t);e.setDate(t.getDate()-1),this.todaySignal.set(e)}nextDay(){let t=this.today(),e=new Date(t);e.setDate(t.getDate()+1),this.todaySignal.set(e)}goToToday(){this.todaySignal.set(new Date)}previousWeek(){let t=this.weekStart(),e=new Date(t);e.setDate(t.getDate()-7),this.weekStartSignal.set(e)}nextWeek(){let t=this.weekStart(),e=new Date(t);e.setDate(t.getDate()+7),this.weekStartSignal.set(e)}goToCurrentWeek(){this.weekStartSignal.set(this.getStartOfWeek(new Date))}previousMonth(){let t=this.month(),e=new Date(t);e.setMonth(t.getMonth()-1),this.monthSignal.set(e)}nextMonth(){let t=this.month(),e=new Date(t);e.setMonth(t.getMonth()+1),this.monthSignal.set(e)}goToCurrentMonth(){this.monthSignal.set(new Date)}jumpToDay(t){this.todaySignal.set(new Date(t)),this.setView("today")}formatDate(t){return t.toLocaleDateString(this.currentLocale(),{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getWeekRange(){let t=this.weekStart(),e=new Date(t);e.setDate(t.getDate()+6);let n=t.toLocaleDateString(this.currentLocale(),{month:"short",day:"numeric"}),i=e.toLocaleDateString(this.currentLocale(),{month:"short",day:"numeric",year:"numeric"});return`${n} - ${i}`}getMonthYear(){return this.month().toLocaleDateString(this.currentLocale(),{month:"long",year:"numeric"})}toggleTask(t){return I(this,null,function*(){yield this.todoService.toggleTodo(t)})}editTask(t){this.editingTask=t,this.taskEditor.open()}onSaveTask(t){return I(this,null,function*(){if(this.editingTask)try{yield this.todoService.updateTodo(this.editingTask.id,t),this.taskEditor.closeAndReset(),this.closeEditor()}catch(e){if(e.message==="OVERLAP_CANCELLED")return;console.error("Failed to update todo:",e)}})}closeEditor(){this.editingTask=null}getTasksForDate(t){return this.scheduledTodos().filter(e=>this.isTaskOnDate(e,t)).sort((e,n)=>{let i=!!e.dueDate&&!e.startDateTime,d=!!n.dueDate&&!n.startDateTime;if(i&&d)return new Date(e.dueDate).getTime()-new Date(n.dueDate).getTime();if(i&&!d)return-1;if(!i&&d)return 1;let _=e.startDateTime?new Date(e.startDateTime):null,f=n.startDateTime?new Date(n.startDateTime):null;if(_&&f)return _.getTime()-f.getTime();if(_&&!f)return-1;if(!_&&f)return 1;let v=e.endDateTime?new Date(e.endDateTime):null,x=n.endDateTime?new Date(n.endDateTime):null;if(v&&x)return v.getTime()-x.getTime();if(v&&!x)return-1;if(!v&&x)return 1;let P={high:0,medium:1,low:2};return P[e.priority]-P[n.priority]})}isTaskOnDate(t,e){if(t.startDateTime&&this.isSameDay(new Date(t.startDateTime),e)||t.endDateTime&&this.isSameDay(new Date(t.endDateTime),e))return!0;if(t.startDateTime&&t.endDateTime){let n=new Date(t.startDateTime),i=new Date(t.endDateTime);return e>=n&&e<=i}return!!(t.dueDate&&this.isSameDay(new Date(t.dueDate),e))}getTaskDisplayTime(t){if(t.startDateTime){let n=new Date(t.startDateTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});if(t.dueDate){let i=new Date(t.dueDate);if(i.getHours()!==0||i.getMinutes()!==0){let d=i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${n} (Due: ${d})`}}return n}if(t.dueDate){let e=new Date(t.dueDate);return e.getHours()!==0||e.getMinutes()!==0?`Due: ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:this.translationService.translate("common.dueToday")}return null}getTaskTimeRange(t){if(t.startDateTime&&t.endDateTime){let e=new Date(t.startDateTime),n=new Date(t.endDateTime),i=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),d=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),_=`${i} - ${d}`;if(t.dueDate){let f=new Date(t.dueDate);if(f.getHours()!==0||f.getMinutes()!==0){let v=f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});_+=` | Due: ${v}`}else _+=` | ${this.translations().dueToday}`}return _}if(t.dueDate&&!t.startDateTime&&!t.endDateTime){let e=new Date(t.dueDate);return e.getHours()!==0||e.getMinutes()!==0?`Due at ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:this.translationService.translate("common.dueToday")}return null}formatDuration(t){if(t<60)return`${t}m`;let e=Math.floor(t/60),n=t%60;return n===0?`${e}h`:`${e}h ${n}m`}getTaskTooltip(t){let e=`\u{1F4CB} ${t.title}`,n=this.getProjectName(t.projectId),i=this.getProjectIcon(t.projectId);n!==this.translations().noProject&&(e+=`
${i} Project: ${n}`);let d=t.priority==="high"?"\u{1F534}":t.priority==="medium"?"\u{1F7E1}":"\u{1F7E2}";if(e+=`
${d} Priority: ${t.priority.charAt(0).toUpperCase()+t.priority.slice(1)}`,t.startDateTime||t.dueDate){let f=this.getTaskDisplayTime(t);f&&(e+=`
\u23F0 ${f}`)}let _=this.getTaskTimeRange(t);if(_&&_!==this.getTaskDisplayTime(t)&&(e+=`
\u{1F4C5} ${_}`),t.duration&&(e+=`
\u23F1\uFE0F Duration: ${this.formatDuration(t.duration)}`),t.description){let v=t.description.length>100?t.description.substring(0,100)+"...":t.description;e+=`
\u{1F4DD} ${v}`}if(t.completed?e+=`
\u2705 Completed`:e+=`
\u23F3 Pending`,t.subtasks&&t.subtasks.length>0){let f=t.subtasks.filter(v=>v.completed).length;e+=`
\u{1F4CB} Subtasks: ${f}/${t.subtasks.length} completed`}return e}getTranslatedPriority(t){switch(t){case"high":return this.translations().priorityHigh;case"medium":return this.translations().priorityMedium;case"low":return this.translations().priorityLow;default:return t}}getProjectName(t){return this.projectService.projects().find(n=>n.id===t)?.name||this.translations().noProject}getProjectColor(t){return this.projectService.projects().find(n=>n.id===t)?.color||"#6b7280"}getProjectIcon(t){return this.projectService.projects().find(n=>n.id===t)?.icon||"\u{1F4CB}"}isToday(t){let e=new Date;return this.isSameDay(t,e)}isSameDay(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}getStartOfWeek(t){let e=new Date(t),n=e.getDay(),i=e.getDate()-n;return e.setDate(i),e.setHours(0,0,0,0),e}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=j({type:o,selectors:[["app-calendar"]],viewQuery:function(e,n){if(e&1&&$(J,5),e&2){let i;L(i=F())&&(n.taskEditor=i.first)}},decls:20,vars:20,consts:[["taskEditor",""],[1,"calendar-container"],[1,"calendar-header"],[1,"header-controls"],[1,"view-controls"],[1,"view-btn",3,"click"],[1,"archive-controls"],[1,"archive-toggle-btn",3,"click","title"],["class","today-view",4,"ngIf"],["class","week-view",4,"ngIf"],["class","month-view",4,"ngIf"],[3,"save","close","todo","isSubtask"],[1,"today-view"],[1,"date-header"],[1,"date-navigation"],[1,"nav-btn",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["d","M9.707 4.293a1 1 0 010 1.414L7.414 8l2.293 2.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z"],[1,"nav-btn",3,"click","disabled"],["d","M6.293 4.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L8.586 8 6.293 5.707a1 1 0 010-1.414z"],[1,"tasks-for-day"],["class","no-tasks",4,"ngIf"],["class","task-card",3,"completed","archived","click",4,"ngFor","ngForOf"],[1,"no-tasks"],[1,"no-tasks-icon"],[1,"task-card",3,"click"],["class","task-time",4,"ngIf"],[1,"task-content"],[1,"task-header"],[1,"task-project"],[1,"project-icon"],[1,"project-name"],[1,"task-priority"],["class","task-time-range",4,"ngIf"],[1,"task-title"],["class","task-description",4,"ngIf"],["class","task-duration",3,"title",4,"ngIf"],[1,"task-actions",3,"click"],[1,"action-btn",3,"click"],[1,"action-btn","edit-btn",3,"click","title"],["width","14","height","14","viewBox","0 0 16 16","fill","currentColor"],["d","M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61z"],[1,"action-btn","secondary",3,"routerLink"],[1,"task-time"],[1,"task-time-range"],[1,"task-description"],[1,"task-duration",3,"title"],[1,"week-view"],[1,"week-header"],[1,"week-grid"],["class","day-column",3,"today",4,"ngFor","ngForOf"],[1,"day-column"],[1,"day-header"],[1,"day-name"],[1,"day-number",3,"click","title"],[1,"day-tasks"],["class","no-tasks-small",4,"ngIf"],["class","task-item-small",3,"class","completed","archived","title","click",4,"ngFor","ngForOf"],[1,"no-tasks-small"],[1,"task-item-small",3,"click","title"],["class","task-time-small",4,"ngIf"],[1,"task-title-small"],[1,"task-project-small"],["class","task-duration-small",3,"title",4,"ngIf"],[1,"task-time-small"],[1,"task-duration-small",3,"title"],[1,"month-view"],[1,"month-header"],[1,"month-grid"],[1,"month-weekdays"],["class","weekday-header",4,"ngFor","ngForOf"],[1,"month-days"],["class","month-day",3,"other-month","today",4,"ngFor","ngForOf"],[1,"weekday-header"],[1,"month-day"],["title","View this day",1,"day-number",3,"click"],[1,"day-tasks-month"],["class","task-dot",3,"completed","archived","class","title","click",4,"ngFor","ngForOf"],["class","more-tasks",4,"ngIf"],[1,"task-dot",3,"click","title"],["class","task-dot-text",4,"ngIf"],[1,"task-dot-text"],[1,"more-tasks"]],template:function(e,n){if(e&1){let i=w();r(0,"div",1)(1,"header",2)(2,"h1"),l(3),s(),r(4,"div",3)(5,"div",4)(6,"button",5),u("click",function(){return p(i),g(n.setView("today"))}),l(7),s(),r(8,"button",5),u("click",function(){return p(i),g(n.setView("week"))}),l(9),s(),r(10,"button",5),u("click",function(){return p(i),g(n.setView("month"))}),l(11),s()(),r(12,"div",6)(13,"button",7),u("click",function(){return p(i),g(n.toggleShowArchived())}),l(14),s()()()(),k(15,ae,16,5,"div",8)(16,le,15,3,"div",9)(17,fe,18,4,"div",10),s(),r(18,"app-task-editor",11,0),u("save",function(_){return p(i),g(n.onSaveTask(_))})("close",function(){return p(i),g(n.closeEditor())}),s()}e&2&&(a(3),h(n.translations().calendar),a(3),y("active",n.currentView()==="today"),a(),C(" ",n.translations().today," "),a(),y("active",n.currentView()==="week"),a(),C(" ",n.translations().week," "),a(),y("active",n.currentView()==="month"),a(),C(" ",n.translations().month," "),a(2),y("active",n.showArchived()),m("title",n.showArchived()?n.translations().hide+" "+n.translations().archived:n.translations().show+" "+n.translations().archived),a(),E(" ",n.showArchived()?n.translations().hide:n.translations().show," ",n.translations().archived," "),a(),m("ngIf",n.currentView()==="today"),a(),m("ngIf",n.currentView()==="week"),a(),m("ngIf",n.currentView()==="month"),a(),m("todo",n.editingTask)("isSubtask",!!(n.editingTask!=null&&n.editingTask.parentId)))},dependencies:[H,A,R,U,W,Q],styles:[".calendar-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid #e2e8f0}.calendar-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:700;color:#1f2937}.view-controls[_ngcontent-%COMP%]{display:flex;gap:8px;background:#f8fafc;padding:4px;border-radius:8px;border:1px solid #e2e8f0}.view-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;background:transparent;color:#6b7280;font-weight:500;border-radius:6px;cursor:pointer;transition:all .2s ease}.view-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#374151}.view-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;box-shadow:0 1px 3px #3b82f64d}.date-header[_ngcontent-%COMP%], .week-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.date-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .week-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1f2937}.date-navigation[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.nav-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:4px;font-size:.875rem}.nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.today-view[_ngcontent-%COMP%]{min-height:400px}.tasks-for-day[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.no-tasks[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#6b7280}.no-tasks-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.no-tasks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.25rem;color:#374151}.no-tasks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.task-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:20px;box-shadow:0 1px 3px #0000001a;transition:all .2s ease;display:flex;gap:16px}.task-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;border-color:#cbd5e1}.task-card.completed[_ngcontent-%COMP%]{opacity:.7;background:#f8fafc}.task-time[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#3b82f6;background:#eff6ff;padding:4px 8px;border-radius:6px;height:fit-content;min-width:60px;text-align:center}.task-content[_ngcontent-%COMP%]{flex:1}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.task-project[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.875rem;color:#6b7280}.project-icon[_ngcontent-%COMP%]{font-size:1rem}.project-name[_ngcontent-%COMP%]{font-weight:500}.task-priority[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;padding:2px 6px;border-radius:4px}.priority-high[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.priority-medium[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706}.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.task-time-range[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#059669;background:#ecfdf5;padding:4px 8px;border-radius:6px;margin-bottom:8px;display:inline-block}.task-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.125rem;font-weight:600;color:#1f2937}.task-title.completed[_ngcontent-%COMP%]{text-decoration:line-through;color:#6b7280}.task-description[_ngcontent-%COMP%]{margin:0 0 16px;color:#6b7280;font-size:.875rem;line-height:1.5}.task-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:6px;cursor:pointer;transition:all .2s ease;font-size:.875rem;text-decoration:none;display:inline-flex;align-items:center}.action-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.action-btn.secondary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:#2563eb;border-color:#2563eb}.week-view[_ngcontent-%COMP%]{min-height:600px}.week-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#e2e8f0;border-radius:8px;overflow:hidden}.day-column[_ngcontent-%COMP%]{background:#fff;min-height:400px;display:flex;flex-direction:column}.day-column.today[_ngcontent-%COMP%]{background:#eff6ff}.day-header[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #e2e8f0;text-align:center;background:#f8fafc}.day-column.today[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#dbeafe}.day-name[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.day-number[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;margin-top:4px;cursor:pointer;padding:4px 8px;border-radius:6px;transition:all .2s ease;display:inline-block}.day-column.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#2563eb}.day-tasks[_ngcontent-%COMP%]{flex:1;padding:8px;display:flex;flex-direction:column;gap:6px}.no-tasks-small[_ngcontent-%COMP%]{text-align:center;color:#9ca3af;font-size:.75rem;padding:20px 8px;font-style:italic}.task-item-small[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-left:3px solid #3b82f6;border-radius:4px;padding:8px;font-size:.75rem;cursor:pointer;transition:all .2s ease}.task-item-small[_ngcontent-%COMP%]:hover{background:#f1f5f9;box-shadow:0 1px 3px #0000001a}.task-item-small.completed[_ngcontent-%COMP%]{opacity:.6;background:#f9fafb}.task-time-small[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6;margin-bottom:2px}.task-title-small[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;margin-bottom:2px;line-height:1.2}.task-item-small.completed[_ngcontent-%COMP%]   .task-title-small[_ngcontent-%COMP%]{text-decoration:line-through;color:#6b7280}.task-item-small.priority-high[_ngcontent-%COMP%]{border-left-color:#ef4444}.task-item-small.priority-medium[_ngcontent-%COMP%]{border-left-color:#f59e0b}.task-item-small.priority-low[_ngcontent-%COMP%]{border-left-color:#10b981}.task-project-small[_ngcontent-%COMP%]{color:#6b7280;font-size:.6875rem}@media (max-width: 768px){.calendar-container[_ngcontent-%COMP%]{padding:16px}.calendar-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:flex-start}.calendar-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.date-header[_ngcontent-%COMP%], .week-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:flex-start}.week-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px;background:transparent}.day-column[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #e2e8f0}.task-card[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.task-time[_ngcontent-%COMP%]{align-self:flex-start}.task-actions[_ngcontent-%COMP%]{flex-direction:column}}.month-view[_ngcontent-%COMP%]{width:100%}.month-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.month-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1f2937}.month-grid[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:8px;overflow:hidden;background:#fff}.month-weekdays[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);background:#f8fafc;border-bottom:1px solid #e2e8f0}.weekday-header[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;font-weight:600;font-size:.875rem;color:#374151;border-right:1px solid #e2e8f0}.weekday-header[_ngcontent-%COMP%]:last-child{border-right:none}.month-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr)}.month-day[_ngcontent-%COMP%]{min-height:120px;border-right:1px solid #e2e8f0;border-bottom:1px solid #e2e8f0;padding:8px;position:relative;background:#fff;transition:background-color .2s ease}.month-day[_ngcontent-%COMP%]:hover{background:#f9fafb}.month-day[_ngcontent-%COMP%]:nth-child(7n){border-right:none}.month-day.other-month[_ngcontent-%COMP%]{background:#f8fafc;color:#9ca3af}.month-day.other-month[_ngcontent-%COMP%]:hover{background:#f3f4f6}.month-day.today[_ngcontent-%COMP%]{background:#eff6ff;border-color:#3b82f6}.month-day.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-weight:600}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#374151;margin-bottom:4px;cursor:pointer;padding:2px 6px;border-radius:4px;transition:all .2s ease;display:inline-block}.day-number[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:scale(1.1)}.day-tasks-month[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.task-dot[_ngcontent-%COMP%]{background:#e5e7eb;border-radius:4px;padding:2px 6px;font-size:10px;cursor:pointer;transition:all .2s ease;border-left:3px solid #6b7280}.task-dot[_ngcontent-%COMP%]:hover{background:#d1d5db;transform:translateY(-1px)}.task-dot.priority-high[_ngcontent-%COMP%]{border-left-color:#ef4444;background:#fef2f2;color:#991b1b}.task-dot.priority-medium[_ngcontent-%COMP%]{border-left-color:#f59e0b;background:#fffbeb;color:#92400e}.task-dot.priority-low[_ngcontent-%COMP%]{border-left-color:#10b981;background:#f0fdf4;color:#065f46}.task-dot.completed[_ngcontent-%COMP%]{opacity:.6;text-decoration:line-through}.task-dot-text[_ngcontent-%COMP%]{font-weight:500;line-height:1.2}.more-tasks[_ngcontent-%COMP%]{font-size:9px;color:#6b7280;font-weight:500;padding:1px 4px;text-align:center;background:#f3f4f6;border-radius:3px;margin-top:2px}@media (max-width: 768px){.month-day[_ngcontent-%COMP%]{min-height:80px;padding:4px}.day-number[_ngcontent-%COMP%]{font-size:.75rem}.task-dot[_ngcontent-%COMP%]{font-size:9px;padding:1px 4px}.task-dot-text[_ngcontent-%COMP%]{display:none}.task-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;padding:0}.more-tasks[_ngcontent-%COMP%]{font-size:8px}}.task-card.archived[_ngcontent-%COMP%], .task-item-small.archived[_ngcontent-%COMP%], .task-dot.archived[_ngcontent-%COMP%]{opacity:.6;filter:grayscale(30%)}.task-card.archived[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%], .task-item-small.archived[_ngcontent-%COMP%]   .task-title-small[_ngcontent-%COMP%]{text-decoration:line-through;color:#6b7280}.archive-toggle-btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #d1d5db;border-radius:6px;background:#fff;color:#374151;font-size:14px;cursor:pointer;transition:all .2s ease}.archive-toggle-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.archive-toggle-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.archive-controls[_ngcontent-%COMP%]{display:flex;align-items:center}"]})};export{q as CalendarComponent};
