import{a as B,b as R,c as $,d as H,e as J,f as G,j as U,k as Y,l as q,m as K,n as Q}from"./chunk-ZS7B7AII.js";import{Aa as j,B as w,Ba as v,Ca as b,D as d,E as m,Ea as D,F as O,G as k,L as E,Oa as z,Pa as N,Qa as L,R as l,W as F,Wa as A,Ya as W,_ as x,a as I,c as h,ha as _,ia as o,ja as i,ka as T,na as f,oa as g,qa as p,ua as V,va as y,wa as u,xa as c,ya as P,za as C}from"./chunk-JZXHFQLG.js";var M=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6b7280"],S=["\u{1F4CB}","\u{1F4BC}","\u{1F3AF}","\u{1F680}","\u2B50","\u{1F525}","\u{1F4A1}","\u{1F3A8}","\u{1F3E0}","\u{1F4BB}","\u{1F4F1}","\u{1F3B5}","\u{1F4DA}","\u{1F3CB}\uFE0F","\u{1F373}","\u{1F331}","\u2708\uFE0F","\u{1F3AE}","\u{1F4F7}","\u{1F3AA}"];var Z=a=>["/project",a];function ee(a,r){if(a&1){let e=f();o(0,"div",23),g("click",function(){let t=d(e).$implicit,s=p(2);return m(s.newProject.color=t)}),i()}if(a&2){let e=r.$implicit,n=p(2);y("background-color",e),u("selected",n.newProject.color===e)}}function te(a,r){if(a&1){let e=f();o(0,"div",24),g("click",function(){let t=d(e).$implicit,s=p(2);return m(s.newProject.icon=t)}),c(1),i()}if(a&2){let e=r.$implicit,n=p(2);u("selected",n.newProject.icon===e),l(),C(" ",e," ")}}function ne(a,r){if(a&1){let e=f();o(0,"div",10)(1,"form",11,0),g("ngSubmit",function(){d(e);let t=p();return m(t.createProject())}),o(3,"div",12)(4,"div",13)(5,"label"),c(6,"Project Name"),i(),o(7,"input",14),b("ngModelChange",function(t){d(e);let s=p();return v(s.newProject.name,t)||(s.newProject.name=t),m(t)}),i()(),o(8,"div",13)(9,"label"),c(10,"Description"),i(),o(11,"input",15),b("ngModelChange",function(t){d(e);let s=p();return v(s.newProject.description,t)||(s.newProject.description=t),m(t)}),i()()(),o(12,"div",12)(13,"div",13)(14,"label"),c(15,"Color"),i(),o(16,"div",16),x(17,ee,1,4,"div",17),i()(),o(18,"div",13)(19,"label"),c(20,"Icon"),i(),o(21,"div",18),x(22,te,2,3,"div",19),i()()(),o(23,"div",20)(24,"button",21),c(25," Create Project "),i(),o(26,"button",22),g("click",function(){d(e);let t=p();return m(t.cancelCreate())}),c(27," Cancel "),i()()()()}if(a&2){let e=V(2),n=p();_("@slideDown",void 0),l(7),j("ngModel",n.newProject.name),l(4),j("ngModel",n.newProject.description),l(6),_("ngForOf",n.projectColors),l(5),_("ngForOf",n.projectIcons),l(2),_("disabled",!e.form.valid)}}function oe(a,r){if(a&1){let e=f();o(0,"div",23),g("click",function(){let t=d(e).$implicit,s=p().ngIf;return m(s.color=t)}),i()}if(a&2){let e=r.$implicit,n=p().ngIf;y("background-color",e),u("selected",n.color===e)}}function ie(a,r){if(a&1){let e=f();o(0,"div",24),g("click",function(){let t=d(e).$implicit,s=p().ngIf;return m(s.icon=t)}),c(1),i()}if(a&2){let e=r.$implicit,n=p().ngIf;u("selected",n.icon===e),l(),C(" ",e," ")}}function re(a,r){if(a&1){let e=f();o(0,"div",10)(1,"form",11,1),g("ngSubmit",function(){d(e);let t=p();return m(t.updateProject())}),o(3,"div",12)(4,"div",13)(5,"label"),c(6,"Project Name"),i(),o(7,"input",14),b("ngModelChange",function(t){let s=d(e).ngIf;return v(s.name,t)||(s.name=t),m(t)}),i()(),o(8,"div",13)(9,"label"),c(10,"Description"),i(),o(11,"input",15),b("ngModelChange",function(t){let s=d(e).ngIf;return v(s.description,t)||(s.description=t),m(t)}),i()()(),o(12,"div",12)(13,"div",13)(14,"label"),c(15,"Color"),i(),o(16,"div",16),x(17,oe,1,4,"div",17),i()(),o(18,"div",13)(19,"label"),c(20,"Icon"),i(),o(21,"div",18),x(22,ie,2,3,"div",19),i()()(),o(23,"div",20)(24,"button",21),c(25," Update Project "),i(),o(26,"button",22),g("click",function(){d(e);let t=p();return m(t.cancelEdit())}),c(27," Cancel "),i()()()()}if(a&2){let e=r.ngIf,n=V(2),t=p();l(7),j("ngModel",e.name),l(4),j("ngModel",e.description),l(6),_("ngForOf",t.projectColors),l(5),_("ngForOf",t.projectIcons),l(2),_("disabled",!n.form.valid)}}function ce(a,r){if(a&1&&(o(0,"p",41),c(1),i()),a&2){let e=p().$implicit;l(),C(" ",e.description," ")}}function ae(a,r){if(a&1){let e=f();o(0,"div",25)(1,"div",26)(2,"div",27),c(3),i(),o(4,"div",28)(5,"h3",29),c(6),i(),x(7,ce,2,1,"p",30),i(),o(8,"div",31),g("click",function(t){return d(e),m(t.stopPropagation())}),o(9,"button",32),g("click",function(){let t=d(e).$implicit,s=p();return m(s.editProject(t))}),O(),o(10,"svg",33),T(11,"path",34),i()(),k(),o(12,"button",35),g("click",function(){let t=d(e).$implicit,s=p();return m(s.deleteProject(t))}),O(),o(13,"svg",33),T(14,"path",36),i()()()(),k(),o(15,"div",37)(16,"div",38)(17,"span",39),c(18),i(),o(19,"span",40),c(20,"Tasks"),i()(),o(21,"div",38)(22,"span",39),c(23),i(),o(24,"span",40),c(25,"Done"),i()(),o(26,"div",38)(27,"span",39),c(28),i(),o(29,"span",40),c(30,"Active"),i()()()()}if(a&2){let e=r.$implicit,n=p();_("routerLink",D(9,Z,e.id)),l(2),y("background-color",e.color),l(),C(" ",e.icon||"\u{1F4CB}"," "),l(3),P(e.name),l(),_("ngIf",e.description),l(11),P(n.getProjectStats(e.id).totalTasks),l(5),P(n.getProjectStats(e.id).completedTasks),l(5),P(n.getProjectStats(e.id).activeTasks)}}function le(a,r){if(a&1){let e=f();o(0,"div",42)(1,"div",43),c(2,"\u{1F4C1}"),i(),o(3,"h3"),c(4,"No Projects Yet"),i(),o(5,"p"),c(6,"Create your first project to start organizing your tasks"),i(),o(7,"button",4),g("click",function(){d(e);let t=p();return m(t.showCreateForm.set(!0))}),c(8," Create Project "),i()()}}var X=class a{projectService=w(q);todoService=w(K);confirmationService=w(Q);showCreateForm=E(!1);editingProject=E(null);projectColors=M;projectIcons=S;newProject={name:"",description:"",color:M[0],icon:S[0],isArchived:!1};createProject(){return h(this,null,function*(){if(this.newProject.name.trim())try{yield this.projectService.addProject(this.newProject),this.cancelCreate()}catch(r){console.error("Error creating project:",r)}})}cancelCreate(){this.showCreateForm.set(!1),this.newProject={name:"",description:"",color:M[0],icon:S[0],isArchived:!1}}editProject(r){this.editingProject.set(I({},r))}updateProject(){return h(this,null,function*(){let r=this.editingProject();if(!(!r||!r.name.trim()))try{yield this.projectService.updateProject(r.id,{name:r.name,description:r.description,color:r.color,icon:r.icon}),this.cancelEdit()}catch(e){console.error("Error updating project:",e)}})}cancelEdit(){this.editingProject.set(null)}deleteProject(r){return h(this,null,function*(){if(yield this.confirmationService.open("Delete Project",`Are you sure you want to delete "${r.name}"? This will also delete all tasks in this project.`))try{yield this.projectService.deleteProject(r.id)}catch(n){console.error("Error deleting project:",n)}})}getProjectStats(r){let n=this.todoService.todos().filter(t=>t.projectId===r);return{totalTasks:n.length,completedTasks:n.filter(t=>t.completed).length,activeTasks:n.filter(t=>!t.completed).length,overdueTasks:n.filter(t=>t.dueDate&&!t.completed&&new Date(t.dueDate)<new Date).length,highPriorityTasks:n.filter(t=>t.priority==="high"&&!t.completed).length}}trackByProjectId(r,e){return e.id}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=F({type:a,selectors:[["app-projects"]],decls:13,vars:5,consts:[["projectForm","ngForm"],["editProjectForm","ngForm"],[1,"projects-container"],[1,"projects-header"],[1,"btn","btn-primary",3,"click"],[1,"btn-icon"],["class","create-form",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-state",4,"ngIf"],[1,"create-form"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","name","placeholder","Enter project name","required","",3,"ngModelChange","ngModel"],["type","text","name","description","placeholder","Optional description",3,"ngModelChange","ngModel"],[1,"color-picker"],["class","color-option",3,"background-color","selected","click",4,"ngFor","ngForOf"],[1,"icon-picker"],["class","icon-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"color-option",3,"click"],[1,"icon-option",3,"click"],[1,"project-card",3,"routerLink"],[1,"project-header"],[1,"project-icon"],[1,"project-info"],[1,"project-name"],["class","project-description",4,"ngIf"],[1,"project-actions",3,"click"],["title","Edit",1,"action-btn",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["d","M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61z"],["title","Delete",1,"action-btn","delete-btn",3,"click"],["d","M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"],[1,"project-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"project-description"],[1,"empty-state"],[1,"empty-icon"]],template:function(e,n){e&1&&(o(0,"div",2)(1,"header",3)(2,"h1"),c(3,"Projects"),i(),o(4,"button",4),g("click",function(){return n.showCreateForm.set(!0)}),o(5,"span",5),c(6,"+"),i(),c(7," New Project "),i()(),x(8,ne,28,6,"div",6)(9,re,28,5,"div",6),o(10,"div",7),x(11,ae,31,11,"div",8)(12,le,9,0,"div",9),i()()),e&2&&(l(8),_("ngIf",n.showCreateForm()),l(),_("ngIf",n.editingProject()),l(2),_("ngForOf",n.projectService.activeProjects())("ngForTrackBy",n.trackByProjectId),l(),_("ngIf",n.projectService.activeProjects().length===0))},dependencies:[L,z,N,W,A,Y,G,B,R,$,U,J,H],styles:[".projects-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.projects-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.projects-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:32px;font-weight:600;color:#1f2937}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s ease;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}.btn-icon[_ngcontent-%COMP%]{font-size:16px}.create-form[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;margin-bottom:30px;box-shadow:0 1px 3px #0000001a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;transition:border-color .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.color-picker[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.color-option[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:all .2s ease}.color-option[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-option.selected[_ngcontent-%COMP%]{border-color:#1f2937;transform:scale(1.1)}.icon-picker[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.icon-option[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:20px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease}.icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f6;color:#fff}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:24px}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px}.project-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;cursor:pointer;transition:all .2s ease;text-decoration:none;color:inherit}.project-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 6px -1px #0000001a;transform:translateY(-2px)}.project-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:20px}.project-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff;flex-shrink:0}.project-info[_ngcontent-%COMP%]{flex:1;min-width:0}.project-name[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px;font-weight:600;color:#1f2937}.project-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280;line-height:1.4}.project-actions[_ngcontent-%COMP%]{display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.project-card[_ngcontent-%COMP%]:hover   .project-actions[_ngcontent-%COMP%]{opacity:1}.action-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:6px;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.action-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#dc2626}.project-stats[_ngcontent-%COMP%]{display:flex;gap:20px}.stat[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:600;color:#1f2937}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.empty-state[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:60px 20px;background:#fff;border:2px dashed #e5e7eb;border-radius:12px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.7}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1f2937;margin:0 0 12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0 0 24px}@media (max-width: 768px){.projects-container[_ngcontent-%COMP%]{padding:16px}.projects-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.form-row[_ngcontent-%COMP%], .projects-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.project-stats[_ngcontent-%COMP%]{justify-content:space-around}}"]})};export{X as ProjectsComponent};
