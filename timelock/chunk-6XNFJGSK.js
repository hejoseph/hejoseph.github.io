import{C as Y,e as ce,h as se,j as H,k as $,l as le,m as de,n as G,o as pe,q as me,w as ge,x as U,y as ue}from"./chunk-VOG7M7LN.js";import{Ab as u,Bb as h,Ca as c,Fb as E,Gb as T,Hb as I,Kb as te,Na as L,Ra as v,Ta as ee,Tb as ae,V as z,_ as S,a as O,b as A,c as f,cb as g,da as p,db as r,ea as m,eb as o,fa as j,fb as b,ga as y,lc as N,mb as C,mc as B,na as w,nb as x,ob as d,qc as W,sb as ie,tb as re,ub as oe,vb as F,wb as R,xb as D,xc as J,yc as _e,zb as s,zc as xe}from"./chunk-L2PMUJ2L.js";var q=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6b7280"],Q=["\u{1F4CB}","\u{1F4BC}","\u{1F3AF}","\u{1F680}","\u2B50","\u{1F525}","\u{1F4A1}","\u{1F3A8}","\u{1F3E0}","\u{1F4BB}","\u{1F4F1}","\u{1F3B5}","\u{1F4DA}","\u{1F3CB}\uFE0F","\u{1F373}","\u{1F331}","\u2708\uFE0F","\u{1F3AE}","\u{1F4F7}","\u{1F3AA}"];var K=class a{todoService=S(Y);projectService=S(J);tagsService=S(xe);exportAllData(){return f(this,null,function*(){let i=this.todoService.todos(),e=this.projectService.projects(),t=this.tagsService.tags();return{version:"1.0",exportDate:new Date().toISOString(),data:{todos:i,projects:e,tags:t},metadata:{totalTodos:i.length,totalProjects:e.length,totalTags:t.length,appVersion:"1.0.0"}}})}exportToFile(){return f(this,null,function*(){try{let i=yield this.exportAllData(),e=JSON.stringify(i,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download=`taskflow-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)}catch(i){throw console.error("Error exporting data to file:",i),new Error("Failed to export data to file")}})}importData(t){return f(this,arguments,function*(i,e={}){let n={success:!1,message:"",imported:{todos:0,projects:0,tags:0},errors:[]};try{if(!this.validateImportData(i))return n.message="Invalid import data format",n.errors=["The imported file does not contain valid TaskFlow data"],n;let{todos:l,projects:V,tags:M}=i.data;if(M&&M.length>0)try{if(e.mergeTags)for(let _ of M)this.tagsService.getTagByName(_.name)||(yield this.tagsService.createTag(_.name,_.color),n.imported.tags++);else if(e.replaceExisting){let _=this.tagsService.getAllTags();for(let P of _)yield this.tagsService.deleteTag(P.name);for(let P of M)yield this.tagsService.createTag(P.name,P.color),n.imported.tags++}else for(let _ of M)this.tagsService.getTagByName(_.name)||(yield this.tagsService.createTag(_.name,_.color),n.imported.tags++)}catch(_){n.errors?.push(`Error importing tags: ${_}`)}if(V&&V.length>0)try{if(e.replaceExisting){let _=this.projectService.projects();for(let P of _)yield this.projectService.deleteProject(P.id)}for(let _ of V){let P=this.projectService.getProjectById(_.id);if(e.replaceExisting||!P){let k={name:_.name,description:_.description,color:_.color,icon:_.icon,isArchived:_.isArchived};P&&e.replaceExisting?yield this.projectService.updateProject(_.id,k):yield this.createProjectWithId(_),n.imported.projects++}}}catch(_){n.errors?.push(`Error importing projects: ${_}`)}if(l&&l.length>0)try{e.replaceExisting&&(yield this.todoService.clearAllTodos());for(let _ of l){_.projectId&&!this.projectService.getProjectById(_.projectId)&&(_.projectId=void 0);let P=this.todoService.getTodoById(_.id);if(e.replaceExisting||!P)yield this.createTodoWithId(_),n.imported.todos++;else if(P&&!e.replaceExisting){let k=_.subtasks.filter(he=>!P.subtasks.some(Pe=>Pe.id===he.id));k.length>0&&(yield this.addSubtasksToExistingTodo(P.id,k),n.imported.todos+=k.length)}}}catch(_){n.errors?.push(`Error importing todos: ${_}`)}return n.success=n.errors?.length===0,n.message=n.success?`Successfully imported ${n.imported.todos} todos, ${n.imported.projects} projects, and ${n.imported.tags} tags`:"Import completed with some errors",n}catch(l){return n.message=`Import failed: ${l}`,n.errors=[l instanceof Error?l.message:"Unknown error"],n}})}importFromFile(t){return f(this,arguments,function*(i,e={}){try{let n=yield this.readFileAsText(i),l=JSON.parse(n);return yield this.importData(l,e)}catch(n){return{success:!1,message:"Failed to read or parse import file",imported:{todos:0,projects:0,tags:0},errors:[n instanceof Error?n.message:"Unknown error"]}}})}validateImportData(i){return!(!i||typeof i!="object"||!i.version||!i.exportDate||!i.data||!i.data.todos||!i.data.projects||!i.data.tags||!Array.isArray(i.data.todos)||!Array.isArray(i.data.projects)||!Array.isArray(i.data.tags))}readFileAsText(i){return new Promise((e,t)=>{let n=new FileReader;n.onload=()=>e(n.result),n.onerror=()=>t(new Error("Failed to read file")),n.readAsText(i)})}createProjectWithId(i){return f(this,null,function*(){let e={id:i.id,name:i.name,description:i.description,color:i.color,icon:i.icon,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),isArchived:i.isArchived,order:i.order};this.projectService.projectsSignal.update(t=>[...t,e]),yield this.projectService.saveProjects()})}createTodoWithId(i){return f(this,null,function*(){let e=A(O({},i),{createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),dueDate:i.dueDate?new Date(i.dueDate):void 0,startDateTime:i.startDateTime?new Date(i.startDateTime):void 0,endDateTime:i.endDateTime?new Date(i.endDateTime):void 0,nextDueDate:i.nextDueDate?new Date(i.nextDueDate):void 0,subtasks:i.subtasks.map(t=>A(O({},t),{createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),dueDate:t.dueDate?new Date(t.dueDate):void 0,startDateTime:t.startDateTime?new Date(t.startDateTime):void 0,endDateTime:t.endDateTime?new Date(t.endDateTime):void 0,nextDueDate:t.nextDueDate?new Date(t.nextDueDate):void 0}))});this.todoService.todosSignal.update(t=>[...t,e]),yield this.todoService.saveTodos()})}addSubtasksToExistingTodo(i,e){return f(this,null,function*(){for(let t of e){let n={id:t.id,title:t.title,description:t.description,completed:t.completed,priority:t.priority,dueDate:t.dueDate?new Date(t.dueDate):void 0,startDateTime:t.startDateTime?new Date(t.startDateTime):void 0,endDateTime:t.endDateTime?new Date(t.endDateTime):void 0,duration:t.duration,category:t.category,projectId:t.projectId,tags:t.tags,isRecurring:t.isRecurring,recurrencePattern:t.recurrencePattern,originalTaskId:t.originalTaskId,nextDueDate:t.nextDueDate?new Date(t.nextDueDate):void 0,isAutoPlanned:t.isAutoPlanned};yield this.addSubtaskWithId(i,n,t.id,t.createdAt,t.updatedAt,t.order)}})}addSubtaskWithId(i,e,t,n,l,V){return f(this,null,function*(){let M=this.todoService.todosSignal(),_=this.findTodoById(M,i);if(!_)return;let P={title:e.title||"",description:e.description,completed:e.completed||!1,archived:!1,priority:e.priority||"medium",dueDate:e.dueDate,category:e.category,projectId:e.projectId??_.projectId,startDateTime:e.startDateTime,endDateTime:e.endDateTime,duration:e.duration,isAutoPlanned:e.isAutoPlanned,tags:e.tags,isRecurring:e.isRecurring,recurrencePattern:e.recurrencePattern,originalTaskId:e.originalTaskId,nextDueDate:e.nextDueDate,id:t,parentId:i,createdAt:new Date(n),updatedAt:new Date(l),subtasks:[],isExpanded:!1,order:V},k=this.addSubtaskRecursive(M,i,P);this.todoService.todosSignal.set(k),yield this.todoService.saveTodos()})}addSubtaskRecursive(i,e,t){return i.map(n=>{if(n.id===e)return A(O({},n),{subtasks:[...n.subtasks,t],updatedAt:new Date,isExpanded:!0});if(n.subtasks.length>0){let l=this.addSubtaskRecursive(n.subtasks,e,t);if(l!==n.subtasks)return A(O({},n),{subtasks:l,updatedAt:new Date})}return n})}findTodoById(i,e){for(let t of i){if(t.id===e)return t;if(t.subtasks.length>0){let n=this.findTodoById(t.subtasks,e);if(n)return n}}}getExportStats(){return f(this,null,function*(){return{todos:this.todoService.todos().length,projects:this.projectService.projects().length,tags:this.tagsService.tags().length}})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=z({token:a,factory:a.\u0275fac,providedIn:"root"})};function Se(a,i){if(a&1&&(r(0,"div",27)(1,"div",28)(2,"span",29),s(3),o(),r(4,"span",30),s(5,"Tasks"),o()(),r(6,"div",28)(7,"span",29),s(8),o(),r(9,"span",30),s(10,"Projects"),o()(),r(11,"div",28)(12,"span",29),s(13),o(),r(14,"span",30),s(15,"Tags"),o()()()),a&2){let e,t,n,l=d(3);c(3),u(((e=l.exportStats())==null?null:e.todos)||0),c(5),u(((t=l.exportStats())==null?null:t.projects)||0),c(5),u(((n=l.exportStats())==null?null:n.tags)||0)}}function we(a,i){a&1&&(j(),r(0,"svg",11),b(1,"path",31)(2,"path",32),o())}function ye(a,i){a&1&&b(0,"div",33)}function De(a,i){if(a&1){let e=C();r(0,"div",20)(1,"div",21)(2,"h3"),s(3,"Export Your Data"),o(),r(4,"p"),s(5,"Download a complete backup of all your tasks, projects, and tags as a JSON file."),o(),v(6,Se,16,3,"div",22),o(),r(7,"div",23)(8,"button",24),x("click",function(){p(e);let n=d(2);return m(n.exportData())}),v(9,we,3,0,"svg",25)(10,ye,1,0,"div",26),s(11),o()()()}if(a&2){let e=d(2);c(6),g("ngIf",e.exportStats()),c(2),g("disabled",e.isExporting()),c(),g("ngIf",!e.isExporting()),c(),g("ngIf",e.isExporting()),c(),h(" ",e.isExporting()?"Exporting...":"Download Backup"," ")}}function Me(a,i){if(a&1){let e=C();r(0,"div",42)(1,"h4"),s(2,"Import Options"),o(),r(3,"div",43)(4,"label",44)(5,"input",45),I("ngModelChange",function(n){p(e);let l=d(3);return T(l.importMode,n)||(l.importMode=n),m(n)}),o(),r(6,"span",46)(7,"strong"),s(8,"Merge with existing data"),o(),r(9,"small"),s(10,"Add new items, keep existing ones"),o()()(),r(11,"label",44)(12,"input",47),I("ngModelChange",function(n){p(e);let l=d(3);return T(l.importMode,n)||(l.importMode=n),m(n)}),o(),r(13,"span",46)(14,"strong"),s(15,"Replace all data"),o(),r(16,"small"),s(17,"\u26A0\uFE0F This will delete all existing data"),o()()()()()}if(a&2){let e=d(3);c(5),E("ngModel",e.importMode),c(7),E("ngModel",e.importMode)}}function Ee(a,i){a&1&&(j(),r(0,"svg",7),b(1,"path",54),o())}function Te(a,i){a&1&&(j(),r(0,"svg",7),b(1,"path",55),o())}function Ie(a,i){if(a&1&&(r(0,"div",56)(1,"div",28)(2,"span",29),s(3),o(),r(4,"span",30),s(5,"Tasks"),o()(),r(6,"div",28)(7,"span",29),s(8),o(),r(9,"span",30),s(10,"Projects"),o()(),r(11,"div",28)(12,"span",29),s(13),o(),r(14,"span",30),s(15,"Tags"),o()()()),a&2){let e=d(4);c(3),u(e.importResult().imported.todos),c(5),u(e.importResult().imported.projects),c(5),u(e.importResult().imported.tags)}}function ke(a,i){if(a&1&&(r(0,"li"),s(1),o()),a&2){let e=i.$implicit;c(),u(e)}}function Oe(a,i){if(a&1&&(r(0,"div",57)(1,"h5"),s(2,"Errors:"),o(),r(3,"ul"),v(4,ke,2,1,"li",58),o()()),a&2){let e=d(4);c(4),g("ngForOf",e.importResult().errors)}}function Ve(a,i){if(a&1&&(r(0,"div",48)(1,"div",49)(2,"div",50),v(3,Ee,2,0,"svg",51)(4,Te,2,0,"svg",51),r(5,"h4"),s(6),o()(),r(7,"p"),s(8),o(),v(9,Ie,16,3,"div",52)(10,Oe,5,1,"div",53),o()()),a&2){let e=d(3);c(),D("success",e.importResult().success)("error",!e.importResult().success),c(2),g("ngIf",e.importResult().success),c(),g("ngIf",!e.importResult().success),c(2),u(e.importResult().success?"Import Successful":"Import Failed"),c(2),u(e.importResult().message),c(),g("ngIf",e.importResult().success),c(),g("ngIf",e.importResult().errors&&e.importResult().errors.length>0)}}function Ae(a,i){if(a&1){let e=C();r(0,"div",34)(1,"div",21)(2,"h3"),s(3,"Import Your Data"),o(),r(4,"p"),s(5,"Upload a backup file to restore your tasks, projects, and tags."),o()(),r(6,"div",35),x("dragover",function(n){p(e);let l=d(2);return m(l.onDragOver(n))})("dragleave",function(n){p(e);let l=d(2);return m(l.onDragLeave(n))})("drop",function(n){p(e);let l=d(2);return m(l.onDrop(n))})("click",function(){p(e);let n=F(8);return m(n.click())}),r(7,"input",36,0),x("change",function(n){p(e);let l=d(2);return m(l.onFileSelected(n))}),o(),r(9,"div",37),j(),r(10,"svg",38),b(11,"path",39),o(),y(),r(12,"h4"),s(13),o(),r(14,"p"),s(15),o()()(),v(16,Me,18,2,"div",40)(17,Ve,11,10,"div",41),o()}if(a&2){let e=d(2);c(6),D("dragover",e.isDragOver()),c(7),u(e.selectedFile()?e.selectedFile().name:"Choose a backup file"),c(2),u(e.selectedFile()?"File selected. Configure import options below.":"Drag and drop a JSON backup file here, or click to browse"),c(),g("ngIf",e.selectedFile()),c(),g("ngIf",e.importResult())}}function Fe(a,i){a&1&&b(0,"div",33)}function Re(a,i){if(a&1){let e=C();r(0,"button",59),x("click",function(){p(e);let n=d(2);return m(n.importData())}),v(1,Fe,1,0,"div",26),s(2),o()}if(a&2){let e=d(2);g("disabled",e.isImporting()),c(),g("ngIf",e.isImporting()),c(),h(" ",e.isImporting()?"Importing...":"Import Data"," ")}}function ze(a,i){if(a&1){let e=C();r(0,"div",2),x("click",function(n){p(e);let l=d();return m(l.onOverlayClick(n))}),r(1,"div",3),x("click",function(n){return p(e),m(n.stopPropagation())}),r(2,"div",4)(3,"h2",5),s(4),o(),r(5,"button",6),x("click",function(){p(e);let n=d();return m(n.onClose())}),j(),r(6,"svg",7),b(7,"path",8),o()()(),y(),r(8,"div",9)(9,"button",10),x("click",function(){p(e);let n=d();return m(n.currentTab.set("export"))}),j(),r(10,"svg",11),b(11,"path",12),o(),s(12," Export Data "),o(),y(),r(13,"button",10),x("click",function(){p(e);let n=d();return m(n.currentTab.set("import"))}),j(),r(14,"svg",11),b(15,"path",13),o(),s(16," Import Data "),o()(),y(),r(17,"div",14),v(18,De,12,5,"div",15)(19,Ae,18,6,"div",16),o(),r(20,"div",17)(21,"button",18),x("click",function(){p(e);let n=d();return m(n.onClose())}),s(22),o(),v(23,Re,3,3,"button",19),o()()()}if(a&2){let e,t=d();c(4),u(t.currentTab()==="export"?"Export Data":"Import Data"),c(5),D("active",t.currentTab()==="export"),c(4),D("active",t.currentTab()==="import"),c(5),g("ngIf",t.currentTab()==="export"),c(),g("ngIf",t.currentTab()==="import"),c(3),h(" ",(e=t.importResult())!=null&&e.success?"Done":"Cancel"," "),c(),g("ngIf",t.currentTab()==="import"&&t.selectedFile()&&!t.importResult())}}var X=class a{close=new ee;dataImported=new ee;dataService=S(K);isOpenSignal=w(!1);isOpen=this.isOpenSignal.asReadonly();currentTab=w("export");exportStats=w(null);isExporting=w(!1);selectedFile=w(null);isDragOver=w(!1);importMode="merge";isImporting=w(!1);importResult=w(null);open(i="export"){return f(this,null,function*(){this.isOpenSignal.set(!0),this.currentTab.set(i),this.resetState(),i==="export"&&(yield this.loadExportStats())})}onOverlayClick(i){i.target===i.currentTarget&&this.onClose()}onClose(){this.close.emit(),this.isOpenSignal.set(!1),this.resetState()}resetState(){this.selectedFile.set(null),this.isDragOver.set(!1),this.importMode="merge",this.isImporting.set(!1),this.isExporting.set(!1),this.importResult.set(null),this.exportStats.set(null)}loadExportStats(){return f(this,null,function*(){try{let i=yield this.dataService.getExportStats();this.exportStats.set(i)}catch(i){console.error("Error loading export stats:",i)}})}exportData(){return f(this,null,function*(){this.isExporting.set(!0);try{yield this.dataService.exportToFile(),setTimeout(()=>this.onClose(),1e3)}catch(i){console.error("Export failed:",i),alert("Export failed. Please try again.")}finally{this.isExporting.set(!1)}})}onDragOver(i){i.preventDefault(),this.isDragOver.set(!0)}onDragLeave(i){i.preventDefault(),this.isDragOver.set(!1)}onDrop(i){i.preventDefault(),this.isDragOver.set(!1);let e=i.dataTransfer?.files;e&&e.length>0&&this.handleFileSelection(e[0])}onFileSelected(i){let e=i.target;e.files&&e.files.length>0&&this.handleFileSelection(e.files[0])}handleFileSelection(i){i.type==="application/json"||i.name.endsWith(".json")?(this.selectedFile.set(i),this.importResult.set(null)):alert("Please select a valid JSON file.")}importData(){return f(this,null,function*(){let i=this.selectedFile();if(i){this.isImporting.set(!0),this.importResult.set(null);try{let e={replaceExisting:this.importMode==="replace",mergeProjects:this.importMode==="merge",mergeTags:this.importMode==="merge"},t=yield this.dataService.importFromFile(i,e);this.importResult.set(t),t.success&&this.dataImported.emit()}catch(e){this.importResult.set({success:!1,message:"Import failed due to an unexpected error",imported:{todos:0,projects:0,tags:0},errors:[e instanceof Error?e.message:"Unknown error"]})}finally{this.isImporting.set(!1)}}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-data-export-import-dialog"]],outputs:{close:"close",dataImported:"dataImported"},decls:1,vars:1,consts:[["fileInput",""],["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close-btn",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor"],["d","M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"],[1,"tab-navigation"],[1,"tab-btn",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["d","M8.75 1a.75.75 0 00-1.5 0v3.25H4a.75.75 0 000 1.5h3.25V9a.75.75 0 001.5 0V5.75H12a.75.75 0 000-1.5H8.75V1z"],["d","M8 1a.75.75 0 01.75.75v4.5h2.5a.75.75 0 010 1.5h-2.5v4.5a.75.75 0 01-1.5 0v-4.5h-2.5a.75.75 0 010-1.5h2.5v-4.5A.75.75 0 018 1z"],[1,"modal-body"],["class","export-section",4,"ngIf"],["class","import-section",4,"ngIf"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"export-section"],[1,"info-card"],["class","data-stats",4,"ngIf"],[1,"export-actions"],[1,"btn","btn-primary","btn-large",3,"click","disabled"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"data-stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["d","M8.75 1a.75.75 0 00-1.5 0v6.5L5.5 6a.75.75 0 00-1 1l3.25 3.25a.75.75 0 001 0L12 7a.75.75 0 00-1-1L9.25 7.5V1z"],["d","M3.5 9.75a.75.75 0 00-1.5 0v1.5A2.75 2.75 0 004.75 14h6.5A2.75 2.75 0 0014 11.25v-1.5a.75.75 0 00-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5z"],[1,"spinner"],[1,"import-section"],[1,"file-upload-area",3,"dragover","dragleave","drop","click"],["type","file","accept",".json",2,"display","none",3,"change"],[1,"upload-content"],["width","48","height","48","viewBox","0 0 48 48","fill","currentColor",1,"upload-icon"],["d","M24 4L12 16h8v12h8V16h8L24 4zM8 32v8h32v-8H8z"],["class","import-options",4,"ngIf"],["class","import-result",4,"ngIf"],[1,"import-options"],[1,"option-group"],[1,"radio-option"],["type","radio","name","importMode","value","merge",3,"ngModelChange","ngModel"],[1,"radio-label"],["type","radio","name","importMode","value","replace",3,"ngModelChange","ngModel"],[1,"import-result"],[1,"result-card"],[1,"result-header"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],["class","import-stats",4,"ngIf"],["class","error-list",4,"ngIf"],["d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"],["d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"],[1,"import-stats"],[1,"error-list"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click","disabled"]],template:function(e,t){e&1&&v(0,ze,24,9,"div",1),e&2&&g("ngIf",t.isOpen())},dependencies:[W,N,B,U,H,me,$,G],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:600px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #e5e7eb;margin-bottom:0}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:8px;border-radius:6px;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.tab-navigation[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #e5e7eb;background:#f9fafb}.tab-btn[_ngcontent-%COMP%]{flex:1;padding:16px 24px;background:none;border:none;font-size:.875rem;font-weight:500;color:#6b7280;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px;border-bottom:2px solid transparent}.tab-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#f3f4f6}.tab-btn.active[_ngcontent-%COMP%]{color:#3b82f6;background:#fff;border-bottom-color:#3b82f6}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.info-card[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:20px;margin-bottom:24px}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.125rem;font-weight:600;color:#1e293b}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#64748b;line-height:1.5}.data-stats[_ngcontent-%COMP%]{display:flex;gap:24px}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-number[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#3b82f6}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#64748b;margin-top:4px}.export-actions[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 24px;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;text-decoration:none}.btn-large[_ngcontent-%COMP%]{padding:16px 32px;font-size:1rem}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}.file-upload-area[_ngcontent-%COMP%]{border:2px dashed #d1d5db;border-radius:12px;padding:40px 20px;text-align:center;cursor:pointer;transition:all .2s;margin-bottom:24px}.file-upload-area[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f8fafc}.file-upload-area.dragover[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.upload-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.upload-icon[_ngcontent-%COMP%]{color:#9ca3af}.upload-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#374151}.upload-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem;max-width:400px}.import-options[_ngcontent-%COMP%]{margin-bottom:24px}.import-options[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1rem;font-weight:600;color:#374151}.option-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.radio-option[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s}.radio-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f8fafc}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin:2px 0 0}.radio-label[_ngcontent-%COMP%]{flex:1}.radio-label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:600;color:#374151;margin-bottom:4px}.radio-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.import-result[_ngcontent-%COMP%]{margin-top:24px}.result-card[_ngcontent-%COMP%]{border-radius:8px;padding:20px;border:1px solid}.result-card.success[_ngcontent-%COMP%]{background:#f0fdf4;border-color:#22c55e}.result-card.error[_ngcontent-%COMP%]{background:#fef2f2;border-color:#ef4444}.result-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.result-card.success[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{color:#16a34a}.result-card.error[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{color:#dc2626}.result-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.result-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#374151}.import-stats[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:16px}.error-list[_ngcontent-%COMP%]{margin-top:16px}.error-list[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.875rem;font-weight:600;color:#dc2626}.error-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.error-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#dc2626;font-size:.875rem;margin-bottom:4px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid #e5e7eb;background:#f9fafb}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:10px}.modal-content[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-actions[_ngcontent-%COMP%]{padding:16px}.tab-btn[_ngcontent-%COMP%]{padding:12px 16px;font-size:.8rem}.data-stats[_ngcontent-%COMP%], .import-stats[_ngcontent-%COMP%]{gap:16px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var Z=class a{translationService=S(_e);t=ae(()=>{let i=this.translationService.currentLanguage();return{cancel:this.translationService.translate("actions.cancel"),delete:this.translationService.translate("actions.delete"),save:this.translationService.translate("actions.save"),edit:this.translationService.translate("actions.edit"),create:this.translationService.translate("actions.create"),update:this.translationService.translate("actions.update"),createTask:this.translationService.translate("tasks.createTask"),updateTask:this.translationService.translate("tasks.updateTask"),editTask:this.translationService.translate("tasks.editTask"),endRecurrence:this.translationService.translate("taskEditor.endRecurrence"),maxOccurrences:this.translationService.translate("taskEditor.maxOccurrences"),noEndDate:this.translationService.translate("taskEditor.noEndDate"),unlimited:this.translationService.translate("taskEditor.unlimited"),goToProject:this.translationService.translate("taskEditor.goToProject"),day:this.translationService.translate("time.day"),days:this.translationService.translate("time.days"),week:this.translationService.translate("time.week"),weeks:this.translationService.translate("time.weeks"),month:this.translationService.translate("time.month"),months:this.translationService.translate("time.months"),deleteProject:this.translationService.translate("projectsPage.deleteProject"),deleteProjectConfirm:this.translationService.translate("projectsPage.deleteProjectConfirm"),deleteProjectAndTasks:this.translationService.translate("projectsPage.deleteProjectAndTasks"),projects:this.translationService.translate("projectsPage.projects"),hideArchived:this.translationService.translate("projectsPage.hideArchived"),showArchived:this.translationService.translate("projectsPage.showArchived"),backupRestore:this.translationService.translate("projectsPage.backupRestore"),newProject:this.translationService.translate("projectsPage.newProject"),projectName:this.translationService.translate("projectsPage.projectName"),enterProjectName:this.translationService.translate("projectsPage.enterProjectName"),enterProjectDescription:this.translationService.translate("projectsPage.enterProjectDescription"),createProject:this.translationService.translate("projectsPage.createProject"),updateProject:this.translationService.translate("projectsPage.updateProject"),tasks:this.translationService.translate("projects.totalTasks"),done:this.translationService.translate("projects.done"),active:this.translationService.translate("projects.active"),activeProjects:this.translationService.translate("projectsPage.activeProjects"),archivedProjects:this.translationService.translate("projectsPage.archivedProjects"),noProjectsYet:this.translationService.translate("projectsPage.noProjectsYet"),createFirstProject:this.translationService.translate("projectsPage.createFirstProject"),archived:this.translationService.translate("projectsPage.archived"),work:this.translationService.translate("categories.work"),personal:this.translationService.translate("categories.personal"),development:this.translationService.translate("categories.development"),design:this.translationService.translate("categories.design"),meeting:this.translationService.translate("categories.meeting"),research:this.translationService.translate("categories.research")}});translate(i){return this.translationService.translate(i)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=z({token:a,factory:a.\u0275fac,providedIn:"root"})};var Le=["dataDialog"],fe=a=>["/project",a];function Ne(a,i){if(a&1&&(r(0,"span",19),s(1),o()),a&2){let e=d();c(),h(" (",e.projectService.archivedProjects().length,") ")}}function Be(a,i){if(a&1){let e=C();r(0,"div",33),x("click",function(){let n=p(e).$implicit,l=d(2);return m(l.newProject.color=n)}),o()}if(a&2){let e=i.$implicit,t=d(2);R("background-color",e),D("selected",t.newProject.color===e)}}function We(a,i){if(a&1){let e=C();r(0,"div",34),x("click",function(){let n=p(e).$implicit,l=d(2);return m(l.newProject.icon=n)}),s(1),o()}if(a&2){let e=i.$implicit,t=d(2);D("selected",t.newProject.icon===e),c(),h(" ",e," ")}}function He(a,i){if(a&1){let e=C();r(0,"div",20)(1,"form",21,1),x("ngSubmit",function(){p(e);let n=d();return m(n.createProject())}),r(3,"div",22)(4,"div",23)(5,"label"),s(6),o(),r(7,"input",24),I("ngModelChange",function(n){p(e);let l=d();return T(l.newProject.name,n)||(l.newProject.name=n),m(n)}),o()(),r(8,"div",23)(9,"label"),s(10,"Description"),o(),r(11,"input",25),I("ngModelChange",function(n){p(e);let l=d();return T(l.newProject.description,n)||(l.newProject.description=n),m(n)}),o()()(),r(12,"div",22)(13,"div",23)(14,"label"),s(15,"Color"),o(),r(16,"div",26),v(17,Be,1,4,"div",27),o()(),r(18,"div",23)(19,"label"),s(20,"Icon"),o(),r(21,"div",28),v(22,We,2,3,"div",29),o()()(),r(23,"div",30)(24,"button",31),s(25),o(),r(26,"button",32),x("click",function(){p(e);let n=d();return m(n.cancelCreate())}),s(27),o()()()()}if(a&2){let e=F(2),t=d();c(6),u(t.t().projectName),c(),E("ngModel",t.newProject.name),g("placeholder",t.t().enterProjectName),c(4),E("ngModel",t.newProject.description),g("placeholder",t.t().enterProjectDescription),c(6),g("ngForOf",t.projectColors),c(5),g("ngForOf",t.projectIcons),c(2),g("disabled",!e.form.valid),c(),h(" ",t.t().createProject," "),c(2),h(" ",t.t().cancel," ")}}function $e(a,i){if(a&1){let e=C();r(0,"div",33),x("click",function(){let n=p(e).$implicit,l=d().ngIf;return m(l.color=n)}),o()}if(a&2){let e=i.$implicit,t=d().ngIf;R("background-color",e),D("selected",t.color===e)}}function Ge(a,i){if(a&1){let e=C();r(0,"div",34),x("click",function(){let n=p(e).$implicit,l=d().ngIf;return m(l.icon=n)}),s(1),o()}if(a&2){let e=i.$implicit,t=d().ngIf;D("selected",t.icon===e),c(),h(" ",e," ")}}function Ue(a,i){if(a&1){let e=C();r(0,"div",20)(1,"form",21,2),x("ngSubmit",function(){p(e);let n=d();return m(n.updateProject())}),r(3,"div",22)(4,"div",23)(5,"label"),s(6,"Project Name"),o(),r(7,"input",35),I("ngModelChange",function(n){let l=p(e).ngIf;return T(l.name,n)||(l.name=n),m(n)}),o()(),r(8,"div",23)(9,"label"),s(10,"Description"),o(),r(11,"input",36),I("ngModelChange",function(n){let l=p(e).ngIf;return T(l.description,n)||(l.description=n),m(n)}),o()()(),r(12,"div",22)(13,"div",23)(14,"label"),s(15,"Color"),o(),r(16,"div",26),v(17,$e,1,4,"div",27),o()(),r(18,"div",23)(19,"label"),s(20,"Icon"),o(),r(21,"div",28),v(22,Ge,2,3,"div",29),o()()(),r(23,"div",30)(24,"button",31),s(25),o(),r(26,"button",32),x("click",function(){p(e);let n=d();return m(n.cancelEdit())}),s(27),o()()()()}if(a&2){let e=i.ngIf,t=F(2),n=d();c(7),E("ngModel",e.name),c(4),E("ngModel",e.description),c(6),g("ngForOf",n.projectColors),c(5),g("ngForOf",n.projectIcons),c(2),g("disabled",!t.form.valid),c(),h(" ",n.t().updateProject," "),c(2),h(" ",n.t().cancel," ")}}function Je(a,i){if(a&1&&(r(0,"h2",37),s(1),o()),a&2){let e=d();c(),u(e.t().activeProjects)}}function Ye(a,i){if(a&1&&(r(0,"p",56),s(1),o()),a&2){let e=d().$implicit;c(),h(" ",e.description," ")}}function qe(a,i){if(a&1){let e=C();r(0,"div",38)(1,"div",39)(2,"div",40),s(3),o(),r(4,"div",41)(5,"h3",42),s(6),o(),v(7,Ye,2,1,"p",43),o(),r(8,"div",44),x("click",function(n){return p(e),m(n.stopPropagation())}),r(9,"button",45),x("click",function(){let n=p(e).$implicit,l=d();return m(l.editProject(n))}),j(),r(10,"svg",46),b(11,"path",47),o()(),y(),r(12,"button",48),x("click",function(){let n=p(e).$implicit,l=d();return m(l.archiveProject(n))}),j(),r(13,"svg",46),b(14,"path",49),o()(),y(),r(15,"button",50),x("click",function(){let n=p(e).$implicit,l=d();return m(l.deleteProject(n))}),j(),r(16,"svg",46),b(17,"path",51),o()()()(),y(),r(18,"div",52)(19,"div",53)(20,"span",54),s(21),o(),r(22,"span",55),s(23),o()(),r(24,"div",53)(25,"span",54),s(26),o(),r(27,"span",55),s(28),o()(),r(29,"div",53)(30,"span",54),s(31),o(),r(32,"span",55),s(33),o()()()()}if(a&2){let e=i.$implicit,t=d();g("routerLink",te(12,fe,e.id)),c(2),R("background-color",e.color),c(),h(" ",e.icon||"\u{1F4CB}"," "),c(3),u(e.name),c(),g("ngIf",e.description),c(14),u(t.getProjectStats(e.id).totalTasks),c(2),u(t.t().tasks),c(3),u(t.getProjectStats(e.id).completedTasks),c(2),u(t.t().done),c(3),u(t.getProjectStats(e.id).activeTasks),c(2),u(t.t().active)}}function Qe(a,i){if(a&1){let e=C();r(0,"div",57)(1,"div",58),s(2,"\u{1F4C1}"),o(),r(3,"h3"),s(4),o(),r(5,"p"),s(6),o(),r(7,"button",10),x("click",function(){p(e);let n=d();return m(n.showCreateForm.set(!0))}),s(8),o()()}if(a&2){let e=d();c(4),u(e.t().noProjectsYet),c(2),u(e.t().createFirstProject),c(2),h(" ",e.t().createProject," ")}}function Ke(a,i){if(a&1&&(r(0,"p",56),s(1),o()),a&2){let e=d().$implicit;c(),h(" ",e.description," ")}}function Xe(a,i){if(a&1){let e=C();r(0,"div",60)(1,"div",39)(2,"div",40),s(3),o(),r(4,"div",41)(5,"h3",42),s(6),o(),v(7,Ke,2,1,"p",43),r(8,"span",61),s(9),o()(),r(10,"div",44),x("click",function(n){return p(e),m(n.stopPropagation())}),r(11,"button",45),x("click",function(){let n=p(e).$implicit,l=d(2);return m(l.editProject(n))}),j(),r(12,"svg",46),b(13,"path",47),o()(),y(),r(14,"button",62),x("click",function(){let n=p(e).$implicit,l=d(2);return m(l.unarchiveProject(n))}),j(),r(15,"svg",46),b(16,"path",63),o()(),y(),r(17,"button",50),x("click",function(){let n=p(e).$implicit,l=d(2);return m(l.deleteProject(n))}),j(),r(18,"svg",46),b(19,"path",51),o()()()(),y(),r(20,"div",52)(21,"div",53)(22,"span",54),s(23),o(),r(24,"span",55),s(25),o()(),r(26,"div",53)(27,"span",54),s(28),o(),r(29,"span",55),s(30),o()(),r(31,"div",53)(32,"span",54),s(33),o(),r(34,"span",55),s(35),o()()()()}if(a&2){let e=i.$implicit,t=d(2);g("routerLink",te(13,fe,e.id)),c(2),R("background-color",e.color),c(),h(" ",e.icon||"\u{1F4CB}"," "),c(3),u(e.name),c(),g("ngIf",e.description),c(2),u(t.t().archived),c(14),u(t.getProjectStats(e.id).totalTasks),c(2),u(t.t().tasks),c(3),u(t.getProjectStats(e.id).completedTasks),c(2),u(t.t().done),c(3),u(t.getProjectStats(e.id).activeTasks),c(2),u(t.t().active)}}function Ze(a,i){a&1&&(r(0,"div",57)(1,"div",58),s(2,"\u{1F4E6}"),o(),r(3,"h3"),s(4,"No Archived Projects"),o(),r(5,"p"),s(6,"Archived projects will appear here"),o()())}function et(a,i){if(a&1&&(r(0,"div",12)(1,"h2",37),s(2),o(),r(3,"div",14),v(4,Xe,36,15,"div",59)(5,Ze,7,0,"div",16),o()()),a&2){let e=d();c(2),u(e.t().archivedProjects),c(2),g("ngForOf",e.projectService.archivedProjects())("ngForTrackBy",e.trackByProjectId),c(),g("ngIf",e.projectService.archivedProjects().length===0)}}var ve=class a{dataDialog;projectService=S(J);todoService=S(Y);confirmationService=S(ue);translationHelper=S(Z);t=this.translationHelper.t;showCreateForm=w(!1);editingProject=w(null);showArchivedProjects=w(!1);projectColors=q;projectIcons=Q;newProject={name:"",description:"",color:q[0],icon:Q[0],isArchived:!1};createProject(){return f(this,null,function*(){if(this.newProject.name.trim())try{yield this.projectService.addProject(this.newProject),this.cancelCreate()}catch(i){console.error("Error creating project:",i)}})}cancelCreate(){this.showCreateForm.set(!1),this.newProject={name:"",description:"",color:q[0],icon:Q[0],isArchived:!1}}editProject(i){this.editingProject.set(O({},i))}updateProject(){return f(this,null,function*(){let i=this.editingProject();if(!(!i||!i.name.trim()))try{yield this.projectService.updateProject(i.id,{name:i.name,description:i.description,color:i.color,icon:i.icon}),this.cancelEdit()}catch(e){console.error("Error updating project:",e)}})}cancelEdit(){this.editingProject.set(null)}archiveProject(i){return f(this,null,function*(){try{yield this.projectService.archiveProject(i.id)}catch(e){console.error("Error archiving project:",e)}})}unarchiveProject(i){return f(this,null,function*(){try{yield this.projectService.unarchiveProject(i.id)}catch(e){console.error("Error unarchiving project:",e)}})}deleteProject(i){return f(this,null,function*(){let e=yield this.confirmationService.open(this.t().deleteProject,`${this.t().deleteProjectConfirm} "${i.name}"?`,this.t().delete,this.t().deleteProjectAndTasks,!0);if(e==="confirm")try{yield this.projectService.deleteProject(i.id)}catch(t){console.error("Error deleting project:",t)}else if(e==="confirm_with_tasks")try{yield this.projectService.deleteProject(i.id),yield this.todoService.deleteTodosByProjectId(i.id)}catch(t){console.error("Error deleting project and tasks:",t)}})}getProjectStats(i){let t=this.todoService.todos().filter(n=>n.projectId===i);return{totalTasks:t.length,completedTasks:t.filter(n=>n.completed).length,activeTasks:t.filter(n=>!n.completed).length,overdueTasks:t.filter(n=>n.dueDate&&!n.completed&&new Date(n.dueDate)<new Date).length,highPriorityTasks:t.filter(n=>n.priority==="high"&&!n.completed).length}}trackByProjectId(i,e){return e.id}openDataDialog(i="export"){this.dataDialog.open(i)}onDataDialogClose(){}onDataImported(){console.log("Data imported successfully")}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-projects"]],viewQuery:function(e,t){if(e&1&&ie(Le,5),e&2){let n;re(n=oe())&&(t.dataDialog=n.first)}},decls:28,vars:13,consts:[["dataDialog",""],["projectForm","ngForm"],["editProjectForm","ngForm"],[1,"projects-container"],[1,"projects-header"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn-icon"],["class","archived-count",4,"ngIf"],["title","Export/Import Data",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],["class","create-form",4,"ngIf"],[1,"projects-section"],["class","section-title",4,"ngIf"],[1,"projects-grid"],["class","project-card",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-state",4,"ngIf"],["class","projects-section",4,"ngIf"],[3,"close","dataImported"],[1,"archived-count"],[1,"create-form"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","name","required","",3,"ngModelChange","ngModel","placeholder"],["type","text","name","description",3,"ngModelChange","ngModel","placeholder"],[1,"color-picker"],["class","color-option",3,"background-color","selected","click",4,"ngFor","ngForOf"],[1,"icon-picker"],["class","icon-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"color-option",3,"click"],[1,"icon-option",3,"click"],["type","text","name","name","placeholder","Enter project name","required","",3,"ngModelChange","ngModel"],["type","text","name","description","placeholder","Optional description",3,"ngModelChange","ngModel"],[1,"section-title"],[1,"project-card",3,"routerLink"],[1,"project-header"],[1,"project-icon"],[1,"project-info"],[1,"project-name"],["class","project-description",4,"ngIf"],[1,"project-actions",3,"click"],["title","Edit",1,"action-btn",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["d","M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61z"],["title","Archive",1,"action-btn","archive-btn",3,"click"],["d","M1.75 2.5h12.5a.75.75 0 010 1.5H1.75a.75.75 0 010-1.5zm1 3v7.75A1.75 1.75 0 004.5 15h7a1.75 1.75 0 001.75-1.75V5.5h-10.5zM6.5 7.25a.75.75 0 011.5 0v4.5a.75.75 0 01-1.5 0v-4.5zm3 0a.75.75 0 011.5 0v4.5a.75.75 0 01-1.5 0v-4.5z"],["title","Delete",1,"action-btn","delete-btn",3,"click"],["d","M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"],[1,"project-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"project-description"],[1,"empty-state"],[1,"empty-icon"],["class","project-card archived-project",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],[1,"project-card","archived-project",3,"routerLink"],[1,"archived-badge"],["title","Unarchive",1,"action-btn","unarchive-btn",3,"click"],["d","M8.75 1a.75.75 0 00-1.5 0v3.25H4a.75.75 0 000 1.5h3.25V9a.75.75 0 001.5 0V5.75H12a.75.75 0 000-1.5H8.75V1z"]],template:function(e,t){if(e&1){let n=C();r(0,"div",3)(1,"header",4)(2,"h1"),s(3),o(),r(4,"div",5)(5,"button",6),x("click",function(){return p(n),m(t.showArchivedProjects.set(!t.showArchivedProjects()))}),r(6,"span",7),s(7),o(),s(8),v(9,Ne,2,1,"span",8),o(),r(10,"button",9),x("click",function(){return p(n),m(t.openDataDialog("export"))}),r(11,"span",7),s(12,"\u{1F4BE}"),o(),s(13),o(),r(14,"button",10),x("click",function(){return p(n),m(t.showCreateForm.set(!0))}),r(15,"span",7),s(16,"+"),o(),s(17),o()()(),v(18,He,28,10,"div",11)(19,Ue,28,7,"div",11),r(20,"div",12),v(21,Je,2,1,"h2",13),r(22,"div",14),v(23,qe,34,14,"div",15)(24,Qe,9,3,"div",16),o()(),v(25,et,6,4,"div",17),r(26,"app-data-export-import-dialog",18,0),x("close",function(){return p(n),m(t.onDataDialogClose())})("dataImported",function(){return p(n),m(t.onDataImported())}),o()()}e&2&&(c(3),u(t.t().projects),c(4),u(t.showArchivedProjects()?"\u{1F4C2}":"\u{1F4C1}"),c(),h(" ",t.showArchivedProjects()?t.t().hideArchived:t.t().showArchived," "),c(),g("ngIf",!t.showArchivedProjects()&&t.projectService.archivedProjects().length>0),c(4),h(" ",t.t().backupRestore," "),c(4),h(" ",t.t().newProject," "),c(),g("ngIf",t.showCreateForm()),c(),g("ngIf",t.editingProject()),c(2),g("ngIf",t.showArchivedProjects()),c(2),g("ngForOf",t.projectService.activeProjects())("ngForTrackBy",t.trackByProjectId),c(),g("ngIf",t.projectService.activeProjects().length===0&&!t.showArchivedProjects()),c(),g("ngIf",t.showArchivedProjects()))},dependencies:[W,N,B,se,ce,U,pe,H,$,le,ge,G,de,X],styles:[".projects-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.projects-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.archived-count[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-left:4px}.projects-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:32px;font-weight:600;color:#1f2937}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s ease;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}.btn-icon[_ngcontent-%COMP%]{font-size:16px}.create-form[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;margin-bottom:30px;box-shadow:0 1px 3px #0000001a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;transition:border-color .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.color-picker[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.color-option[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:all .2s ease}.color-option[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-option.selected[_ngcontent-%COMP%]{border-color:#1f2937;transform:scale(1.1)}.icon-picker[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.icon-option[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:20px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease}.icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#3b82f6;color:#fff}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:24px}.projects-section[_ngcontent-%COMP%]{margin-bottom:40px}.section-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1f2937;margin:0 0 20px;padding-bottom:8px;border-bottom:2px solid #e5e7eb}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px}.project-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;cursor:pointer;transition:all .2s ease;text-decoration:none;color:inherit}.project-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 6px -1px #0000001a;transform:translateY(-2px)}.project-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:20px}.project-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff;flex-shrink:0}.project-info[_ngcontent-%COMP%]{flex:1;min-width:0}.project-name[_ngcontent-%COMP%]{margin:0 0 4px;font-size:18px;font-weight:600;color:#1f2937}.project-description[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280;line-height:1.4}.archived-project[_ngcontent-%COMP%]{opacity:.8;border-color:#d1d5db}.archived-project[_ngcontent-%COMP%]:hover{opacity:1;border-color:#9ca3af}.archived-badge[_ngcontent-%COMP%]{display:inline-block;background:#f3f4f6;color:#6b7280;font-size:12px;font-weight:500;padding:2px 8px;border-radius:12px;margin-top:4px;text-transform:uppercase;letter-spacing:.5px}.project-actions[_ngcontent-%COMP%]{display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.project-card[_ngcontent-%COMP%]:hover   .project-actions[_ngcontent-%COMP%]{opacity:1}.action-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:6px;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.action-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#dc2626}.action-btn.archive-btn[_ngcontent-%COMP%]:hover{background:#fef3c7;color:#d97706}.action-btn.unarchive-btn[_ngcontent-%COMP%]:hover{background:#dcfce7;color:#16a34a}.project-stats[_ngcontent-%COMP%]{display:flex;gap:20px}.stat[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:600;color:#1f2937}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.empty-state[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:60px 20px;background:#fff;border:2px dashed #e5e7eb;border-radius:12px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.7}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1f2937;margin:0 0 12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;margin:0 0 24px}@media (max-width: 768px){.projects-container[_ngcontent-%COMP%]{padding:16px}.projects-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.form-row[_ngcontent-%COMP%], .projects-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.project-stats[_ngcontent-%COMP%]{justify-content:space-around}}"]})};export{ve as ProjectsComponent};
