import{a as K,b as Y,c as Q,d as Z,e as J,f as X,g as $,h as ee,i as te,j as ne,k as ie,l as re,m as oe,n as ae,o as se,q as le}from"./chunk-XW54V2XK.js";import{$ as P,Aa as k,B as T,D as m,Da as u,E as g,Ea as f,F as L,Fa as _,G as F,Ja as O,L as M,M as R,R as d,Ra as B,W as j,Xa as A,Ya as H,Za as z,_ as y,a as b,b as V,bb as U,c as x,ha as p,hb as q,ia as o,ja as a,ka as w,kb as G,lb as ce,mb as de,oa as C,pa as h,qa as s,va as N,x as W,ya as l,za as v}from"./chunk-EZJSWEPC.js";var S=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];var E=class c{indexedDBService=T(ce);tagsSignal=M([]);tags=this.tagsSignal.asReadonly();tagNames=B(()=>this.tagsSignal().map(n=>n.name));constructor(){this.loadTags()}getAllTags(){return this.tagsSignal()}getTagByName(n){return this.tagsSignal().find(e=>e.name.toLowerCase()===n.toLowerCase())}createTag(n,e){return x(this,null,function*(){let i=n.trim();if(!i)throw new Error("Tag name cannot be empty");let t=this.getTagByName(i);if(t)return t;let r=e||this.getNextAvailableColor(),D={name:i,color:r,count:0};return this.tagsSignal.update(I=>[...I,D]),yield this.saveTags(),D})}updateTag(n,e){return x(this,null,function*(){this.tagsSignal.update(i=>i.map(t=>t.name.toLowerCase()===n.toLowerCase()?b(b({},t),e):t)),yield this.saveTags()})}deleteTag(n){return x(this,null,function*(){this.tagsSignal.update(e=>e.filter(i=>i.name.toLowerCase()!==n.toLowerCase())),yield this.saveTags()})}updateTagCounts(n){let e=new Map,i=t=>{for(let r of t){if(r.tags&&Array.isArray(r.tags))for(let D of r.tags)e.set(D.toLowerCase(),(e.get(D.toLowerCase())||0)+1);r.subtasks&&r.subtasks.length>0&&i(r.subtasks)}};i(n),this.tagsSignal.update(t=>t.map(r=>V(b({},r),{count:e.get(r.name.toLowerCase())||0})))}getNextAvailableColor(){let n=new Set(this.tagsSignal().map(e=>e.color));for(let e of S)if(!n.has(e))return e;return S[Math.floor(Math.random()*S.length)]}parseTagsFromText(n){let e=/#([a-zA-Z0-9_-]+)/g,i=n.match(e);return i?i.map(t=>t.substring(1)):[]}autoCreateTags(n){return x(this,null,function*(){for(let e of n){let i=e.trim();i&&!this.getTagByName(i)&&(yield this.createTag(i))}})}getTagsWithStats(){return this.tagsSignal().sort((n,e)=>(e.count||0)-(n.count||0))}searchTags(n){let e=n.toLowerCase();return this.tagsSignal().filter(i=>i.name.toLowerCase().includes(e))}saveTags(){return x(this,null,function*(){try{yield this.indexedDBService.saveTags(this.tagsSignal())}catch(n){console.error("Error saving tags to IndexedDB:",n)}})}loadTags(){return x(this,null,function*(){try{let n=yield this.indexedDBService.loadTags();this.tagsSignal.set(n)}catch(n){console.error("Error loading tags from IndexedDB:",n)}})}static \u0275fac=function(e){return new(e||c)};static \u0275prov=W({token:c,factory:c.\u0275fac,providedIn:"root"})};var pe=c=>["/project",c],ue=c=>({highlightTask:c});function fe(c,n){if(c&1){let e=C();o(0,"span",47),l(1),o(2,"button",48),h("click",function(){let t=m(e).index,r=s(2);return g(r.removeTag(t))}),l(3,"\xD7"),a()()}if(c&2){let e=n.$implicit,i=s(2);N("background-color",i.getTagColor(e))("color",i.getTagTextColor(e)),d(),k(" ",e," ")}}function _e(c,n){if(c&1&&w(0,"option",49),c&2){let e=n.$implicit;p("value",e.name)}}function he(c,n){if(c&1&&(o(0,"option",51),l(1),a()),c&2){let e=n.$implicit;p("ngValue",e.id),d(),v(e.name)}}function xe(c,n){c&1&&(o(0,"small",26),l(1,"Subtasks use their parent's project"),a())}function ye(c,n){if(c&1){let e=C();o(0,"div",14)(1,"div",10)(2,"label",11),l(3,"Project"),a(),o(4,"select",50),_("ngModelChange",function(t){m(e);let r=s(2);return f(r.formData.projectId,t)||(r.formData.projectId=t),g(t)}),o(5,"option",51),l(6,"No project"),a(),y(7,he,2,2,"option",52),a(),y(8,xe,2,0,"small",53),a()()}if(c&2){let e=s(2);d(4),u("ngModel",e.formData.projectId),p("disabled",e.isSubtask),d(),p("ngValue",void 0),d(2),p("ngForOf",e.projectService.activeProjects()),d(),p("ngIf",e.isSubtask)}}function De(c,n){if(c&1){let e=C();o(0,"div",59)(1,"div",14)(2,"div",10)(3,"label",11),l(4,"Repeat every"),a(),o(5,"div",60)(6,"input",61),_("ngModelChange",function(t){m(e);let r=s(3);return f(r.formData.recurrenceInterval,t)||(r.formData.recurrenceInterval=t),g(t)}),a(),o(7,"select",62),_("ngModelChange",function(t){m(e);let r=s(3);return f(r.formData.recurrenceType,t)||(r.formData.recurrenceType=t),g(t)}),o(8,"option",63),l(9),a(),o(10,"option",64),l(11),a(),o(12,"option",65),l(13),a()()()()(),o(14,"div",14)(15,"div",10)(16,"label",11),l(17,"End recurrence (optional)"),a(),o(18,"input",66),_("ngModelChange",function(t){m(e);let r=s(3);return f(r.formData.recurrenceEndDate,t)||(r.formData.recurrenceEndDate=t),g(t)}),a()(),o(19,"div",10)(20,"label",11),l(21,"Max occurrences (optional)"),a(),o(22,"input",67),_("ngModelChange",function(t){m(e);let r=s(3);return f(r.formData.recurrenceMaxOccurrences,t)||(r.formData.recurrenceMaxOccurrences=t),g(t)}),a()()(),o(23,"small",26),l(24),a()()}if(c&2){let e=s(3);d(6),u("ngModel",e.formData.recurrenceInterval),d(),u("ngModel",e.formData.recurrenceType),d(2),v(e.formData.recurrenceInterval===1?"Day":"Days"),d(2),v(e.formData.recurrenceInterval===1?"Week":"Weeks"),d(2),v(e.formData.recurrenceInterval===1?"Month":"Months"),d(5),u("ngModel",e.formData.recurrenceEndDate),d(4),u("ngModel",e.formData.recurrenceMaxOccurrences),d(2),k(" \u{1F4C5} ",e.getRecurrencePreview()," ")}}function Ce(c,n){if(c&1){let e=C();o(0,"div",10)(1,"div",54)(2,"label",55)(3,"input",56),_("ngModelChange",function(t){m(e);let r=s(2);return f(r.formData.isRecurring,t)||(r.formData.isRecurring=t),g(t)}),h("change",function(){m(e);let t=s(2);return g(t.onRecurringToggle())}),a(),w(4,"span",57),l(5," \u{1F504} Make this a recurring task "),a()(),y(6,De,25,8,"div",58),a()}if(c&2){let e=s(2);d(3),u("ngModel",e.formData.isRecurring),d(3),p("ngIf",e.formData.isRecurring)}}function Te(c,n){if(c&1){let e=C();o(0,"a",68),h("click",function(){m(e);let t=s(2);return g(t.onClose())}),l(1," Go to Project \u2192 "),a()}if(c&2){let e=s(2);p("routerLink",O(2,pe,e.todo==null?null:e.todo.projectId))("queryParams",O(4,ue,e.todo==null?null:e.todo.id))}}function ve(c,n){if(c&1){let e=C();o(0,"div",2),h("click",function(t){m(e);let r=s();return g(r.onOverlayClick(t))}),o(1,"div",3),h("click",function(t){return m(e),g(t.stopPropagation())}),o(2,"div",4)(3,"h2",5),l(4),a(),o(5,"button",6),h("click",function(){m(e);let t=s();return g(t.onClose())}),L(),o(6,"svg",7),w(7,"path",8),a()()(),F(),o(8,"form",9),h("ngSubmit",function(){m(e);let t=s();return g(t.onSubmit())}),o(9,"div",10)(10,"label",11),l(11,"Task Title *"),a(),o(12,"input",12,0),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.title,t)||(r.formData.title=t),g(t)}),a()(),o(14,"div",10)(15,"label",11),l(16,"Description"),a(),o(17,"textarea",13),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.description,t)||(r.formData.description=t),g(t)}),a()(),o(18,"div",14)(19,"div",10)(20,"label",11),l(21,"Priority"),a(),o(22,"select",15),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.priority,t)||(r.formData.priority=t),g(t)}),h("ngModelChange",function(t){m(e);let r=s();return g(r.onPriorityChange(t))}),o(23,"option",16),l(24,"\u{1F7E2} Low"),a(),o(25,"option",17),l(26,"\u{1F7E1} Medium"),a(),o(27,"option",18),l(28,"\u{1F534} High"),a()()(),o(29,"div",10)(30,"label",11),l(31,"Due Date"),a(),o(32,"input",19),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.dueDate,t)||(r.formData.dueDate=t),g(t)}),a()()(),o(33,"div",14)(34,"div",10)(35,"label",11),l(36,"Start Date Time"),a(),o(37,"input",20),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.startDateTime,t)||(r.formData.startDateTime=t),g(t)}),h("change",function(){m(e);let t=s();return g(t.onStartDateTimeChange())}),a()(),o(38,"div",10)(39,"label",11),l(40,"End Date Time"),a(),o(41,"input",21),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.endDateTime,t)||(r.formData.endDateTime=t),g(t)}),h("change",function(){m(e);let t=s();return g(t.onEndDateTimeChange())}),a()()(),o(42,"div",14)(43,"div",10)(44,"label",11),l(45,"Duration"),a(),o(46,"div",22)(47,"input",23),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.durationHours,t)||(r.formData.durationHours=t),g(t)}),h("change",function(){m(e);let t=s();return g(t.onDurationChange())}),a(),o(48,"span",24),l(49,"hours"),a(),o(50,"input",25),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.durationMinutes,t)||(r.formData.durationMinutes=t),g(t)}),h("change",function(){m(e);let t=s();return g(t.onDurationChange())}),a(),o(51,"span",24),l(52,"minutes"),a()(),o(53,"small",26),l(54,"Duration will auto-calculate from start/end times, or you can set it manually"),a()()(),o(55,"div",10)(56,"label",11),l(57,"Category"),a(),o(58,"input",27),_("ngModelChange",function(t){m(e);let r=s();return f(r.formData.category,t)||(r.formData.category=t),g(t)}),a(),o(59,"datalist",28),w(60,"option",29)(61,"option",30)(62,"option",31)(63,"option",32)(64,"option",33)(65,"option",34),a()(),o(66,"div",10)(67,"label",11),l(68,"Tags"),a(),o(69,"div",35)(70,"div",36),y(71,fe,4,5,"span",37),a(),o(72,"input",38),_("ngModelChange",function(t){m(e);let r=s();return f(r.tagInput,t)||(r.tagInput=t),g(t)}),h("keydown",function(t){m(e);let r=s();return g(r.onTagInputKeydown(t))})("blur",function(){m(e);let t=s();return g(t.addTagFromInput())}),a(),o(73,"datalist",39),y(74,_e,1,1,"option",40),a()(),o(75,"small",26),l(76,"Type tag names and press Enter or comma to add. Use # prefix for quick entry (e.g., #urgent #work)"),a()(),y(77,ye,9,5,"div",41)(78,Ce,7,2,"div",42),o(79,"div",43),y(80,Te,2,6,"a",44),o(81,"button",45),h("click",function(){m(e);let t=s();return g(t.onClose())}),l(82," Cancel "),a(),o(83,"button",46),l(84),a()()()()()}if(c&2){let e=s();d(4),v(e.isEditing?"Edit Task":"Create Task"),d(8),u("ngModel",e.formData.title),d(5),u("ngModel",e.formData.description),d(5),p("ngClass","priority-"+e.formData.priority),u("ngModel",e.formData.priority),d(10),u("ngModel",e.formData.dueDate),p("min",e.today),d(5),u("ngModel",e.formData.startDateTime),p("min",e.today),d(4),u("ngModel",e.formData.endDateTime),p("min",e.formData.startDateTime||e.today),d(6),u("ngModel",e.formData.durationHours),d(3),u("ngModel",e.formData.durationMinutes),d(8),u("ngModel",e.formData.category),d(13),p("ngForOf",e.formData.tags),d(),u("ngModel",e.tagInput),d(2),p("ngForOf",e.tagsService.tags()),d(3),p("ngIf",!e.isSubtask||e.todo),d(),p("ngIf",!e.isSubtask),d(2),p("ngIf",e.todo==null?null:e.todo.projectId),d(3),p("disabled",!e.formData.title.trim()),d(),k(" ",e.isEditing?"Update Task":"Create Task"," ")}}var me=class c{projectService=T(de);tagsService=T(E);recurringTasksService=T(le);todo=null;isSubtask=!1;defaultProjectId;save=new P;close=new P;isOpenSignal=M(!1);isOpen=this.isOpenSignal.asReadonly();tagInput="";get today(){let n=new Date;return n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().slice(0,16)}isEditing=!1;formData={title:"",description:"",priority:this.getLastUsedPriority(),dueDate:"",startDateTime:"",endDateTime:"",durationHours:0,durationMinutes:0,category:"",completed:!1,archived:!1,tags:[],isRecurring:!1,recurrenceType:"daily",recurrenceInterval:1,recurrenceEndDate:"",recurrenceMaxOccurrences:null};onKeydown(){this.onClose()}onMousedown(n){n.stopPropagation()}ngOnChanges(n){if(n.todo&&n.todo.currentValue){if(this.isEditing=!0,this.todo){let e=this.todo.duration?Math.floor(this.todo.duration/60):0,i=this.todo.duration?this.todo.duration%60:0;this.formData={title:this.todo.title,description:this.todo.description||"",priority:this.todo.priority,dueDate:this.todo.dueDate?this.formatDateForInput(this.todo.dueDate):"",startDateTime:this.todo.startDateTime?this.formatDateForInput(this.todo.startDateTime):"",endDateTime:this.todo.endDateTime?this.formatDateForInput(this.todo.endDateTime):"",durationHours:e,durationMinutes:i,category:this.todo.category||"",projectId:this.todo.projectId,completed:this.todo.completed,archived:this.todo.archived,tags:this.todo.tags?[...this.todo.tags]:[],isRecurring:this.todo.isRecurring||!1,recurrenceType:this.todo.recurrencePattern?.type||"daily",recurrenceInterval:this.todo.recurrencePattern?.interval||1,recurrenceEndDate:this.todo.recurrencePattern?.endDate?this.formatDateForInput(this.todo.recurrencePattern.endDate):"",recurrenceMaxOccurrences:this.todo.recurrencePattern?.maxOccurrences||null}}}else this.defaultProjectId?(this.isEditing=!1,this.resetForm(),this.formData.projectId=this.defaultProjectId):(this.isEditing=!1,this.resetForm())}open(){this.isOpenSignal.set(!0),setTimeout(()=>{document.querySelector('.modal-content input[name="title"]')?.focus()},100)}onOverlayClick(n){n.target===n.currentTarget&&this.onClose()}onClose(){this.close.emit(),this.isOpenSignal.set(!1)}onSubmit(){return x(this,null,function*(){if(!this.formData.title.trim())return;let n=(this.formData.durationHours||0)*60+(this.formData.durationMinutes||0),e={title:this.formData.title.trim(),description:this.formData.description.trim()||void 0,priority:this.formData.priority,dueDate:this.formData.dueDate?new Date(this.formData.dueDate):void 0,startDateTime:this.formData.startDateTime?new Date(this.formData.startDateTime):void 0,endDateTime:this.formData.endDateTime?new Date(this.formData.endDateTime):void 0,duration:n>0?n:void 0,category:this.formData.category.trim()||void 0,projectId:this.formData.projectId,completed:this.formData.completed,tags:this.formData.tags.length>0?this.formData.tags:void 0};if(this.formData.isRecurring&&!this.isSubtask){let i={type:this.formData.recurrenceType,interval:this.formData.recurrenceInterval,endDate:this.formData.recurrenceEndDate?new Date(this.formData.recurrenceEndDate):void 0,maxOccurrences:this.formData.recurrenceMaxOccurrences||void 0,currentOccurrences:0};e.isRecurring=!0,e.recurrencePattern=i;let t=e.dueDate||new Date;e.nextDueDate=this.recurringTasksService.calculateNextDueDate(t,i)}else!this.formData.isRecurring&&this.isEditing&&this.todo?.isRecurring&&(e.isRecurring=!1,e.recurrencePattern=void 0,e.nextDueDate=void 0);this.isEditing||this.saveLastUsedPriority(this.formData.priority),this.save.emit(e)})}resetForm(){this.formData={title:"",description:"",priority:this.getLastUsedPriority(),dueDate:"",startDateTime:"",endDateTime:"",durationHours:0,durationMinutes:0,category:"",projectId:void 0,completed:!1,archived:!1,tags:[],isRecurring:!1,recurrenceType:"daily",recurrenceInterval:1,recurrenceEndDate:"",recurrenceMaxOccurrences:null}}getLastUsedPriority(){try{let n=localStorage.getItem("taskEditor.lastPriority");if(n&&["low","medium","high"].includes(n))return n}catch(n){console.warn("Failed to load last used priority from localStorage:",n)}return"medium"}saveLastUsedPriority(n){try{localStorage.setItem("taskEditor.lastPriority",n)}catch(e){console.warn("Failed to save last used priority to localStorage:",e)}}closeAndReset(){this.isOpenSignal.set(!1),this.resetForm()}onStartDateTimeChange(){if(!this.formData.startDateTime){this.formData.endDateTime="";return}this.calculateDurationFromDates()}onEndDateTimeChange(){this.calculateDurationFromDates()}onDurationChange(){if(this.formData.startDateTime&&(this.formData.durationHours||this.formData.durationMinutes)){let n=new Date(this.formData.startDateTime),e=(this.formData.durationHours||0)*60+(this.formData.durationMinutes||0),i=new Date(n.getTime()+e*6e4),t=new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,16);this.formData.endDateTime=t}}onPriorityChange(n){this.isEditing||this.saveLastUsedPriority(n)}calculateDurationFromDates(){if(this.formData.startDateTime&&this.formData.endDateTime){let n=new Date(this.formData.startDateTime),e=new Date(this.formData.endDateTime);if(e>n){let i=e.getTime()-n.getTime(),t=Math.floor(i/(1e3*60));this.formData.durationHours=Math.floor(t/60),this.formData.durationMinutes=t%60}}}formatDateForInput(n){let e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)}onTagInputKeydown(n){(n.key==="Enter"||n.key===",")&&(n.preventDefault(),this.addTagFromInput())}addTagFromInput(){if(!this.tagInput.trim())return;let n=[];this.tagInput.includes("#")?n=this.tagsService.parseTagsFromText(this.tagInput):n=this.tagInput.split(",").map(e=>e.trim()).filter(e=>e.length>0);for(let e of n)this.addTag(e);this.tagInput=""}addTag(n){let e=n.trim().toLowerCase();e&&!this.formData.tags.includes(e)&&(this.formData.tags.push(e),this.tagsService.autoCreateTags([e]))}removeTag(n){this.formData.tags.splice(n,1)}getTagColor(n){return this.tagsService.getTagByName(n)?.color||"#6b7280"}getTagTextColor(n){let i=this.getTagColor(n).replace("#",""),t=parseInt(i.substr(0,2),16),r=parseInt(i.substr(2,2),16),D=parseInt(i.substr(4,2),16);return(t*299+r*587+D*114)/1e3>128?"#000000":"#ffffff"}onRecurringToggle(){this.formData.isRecurring||(this.formData.recurrenceType="daily",this.formData.recurrenceInterval=1,this.formData.recurrenceEndDate="",this.formData.recurrenceMaxOccurrences=null)}getRecurrencePreview(){if(!this.formData.isRecurring)return"";let n=this.formData.recurrenceInterval===1?"":`${this.formData.recurrenceInterval} `,e=this.formData.recurrenceType==="daily"?"day":this.formData.recurrenceType==="weekly"?"week":"month",i=this.formData.recurrenceInterval===1?"":"s",t=`Repeats every ${n}${e}${i}`;if(this.formData.recurrenceEndDate){let r=new Date(this.formData.recurrenceEndDate).toLocaleDateString();t+=` until ${r}`}return this.formData.recurrenceMaxOccurrences&&(t+=` (max ${this.formData.recurrenceMaxOccurrences} occurrences)`),t}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=j({type:c,selectors:[["app-task-editor"]],hostBindings:function(e,i){e&1&&h("keydown.escape",function(){return i.onKeydown()})("mousedown",function(r){return i.onMousedown(r)})},inputs:{todo:"todo",isSubtask:"isSubtask",defaultProjectId:"defaultProjectId"},outputs:{save:"save",close:"close"},features:[R],decls:1,vars:1,consts:[["titleInput",""],["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close-btn",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor"],["d","M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"],[1,"modal-form",3,"ngSubmit"],[1,"form-group"],[1,"form-label"],["type","text","name","title","placeholder","Enter task title","required","",1,"form-input",3,"ngModelChange","ngModel"],["name","description","placeholder","Add task description...","rows","3",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-row"],["name","priority",1,"form-input","priority-select",3,"ngModelChange","ngClass","ngModel"],["value","low"],["value","medium"],["value","high"],["type","datetime-local","name","dueDate",1,"form-input",3,"ngModelChange","ngModel","min"],["type","datetime-local","name","startDateTime",1,"form-input",3,"ngModelChange","change","ngModel","min"],["type","datetime-local","name","endDateTime",1,"form-input",3,"ngModelChange","change","ngModel","min"],[1,"duration-input-group"],["type","number","name","durationHours","placeholder","0","min","0","max","23",1,"form-input","duration-input",3,"ngModelChange","change","ngModel"],[1,"duration-label"],["type","number","name","durationMinutes","placeholder","0","min","0","max","59",1,"form-input","duration-input",3,"ngModelChange","change","ngModel"],[1,"form-hint"],["type","text","name","category","placeholder","e.g., Work, Personal","list","categories",1,"form-input",3,"ngModelChange","ngModel"],["id","categories"],["value","Work"],["value","Personal"],["value","Development"],["value","Design"],["value","Meeting"],["value","Research"],[1,"tags-input-container"],[1,"tags-display"],["class","tag-chip",3,"background-color","color",4,"ngFor","ngForOf"],["type","text","name","tagInput","placeholder","Add tags (press Enter or comma to add)","list","existing-tags",1,"form-input","tags-input",3,"ngModelChange","keydown","blur","ngModel"],["id","existing-tags"],[3,"value",4,"ngFor","ngForOf"],["class","form-row",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"modal-actions"],["class","btn btn-secondary",3,"routerLink","queryParams","click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"tag-chip"],["type","button","title","Remove tag",1,"tag-remove",3,"click"],[3,"value"],["name","projectId","title","Subtasks use their parent's project",1,"form-input",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-hint",4,"ngIf"],[1,"checkbox-group"],[1,"checkbox-label"],["type","checkbox","name","isRecurring",3,"ngModelChange","change","ngModel"],[1,"checkmark"],["class","recurring-options",4,"ngIf"],[1,"recurring-options"],[1,"repeat-input-group"],["type","number","name","recurrenceInterval","min","1","max","365",1,"form-input","repeat-interval",3,"ngModelChange","ngModel"],["name","recurrenceType",1,"form-input","repeat-type",3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","monthly"],["type","date","name","recurrenceEndDate","placeholder","No end date",1,"form-input",3,"ngModelChange","ngModel"],["type","number","name","recurrenceMaxOccurrences","min","1","placeholder","Unlimited",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary",3,"click","routerLink","queryParams"]],template:function(e,i){e&1&&y(0,ve,85,22,"div",1),e&2&&p("ngIf",i.isOpen())},dependencies:[U,A,H,z,se,$,ne,ie,Y,ee,K,te,Q,Z,ae,oe,re,X,J,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:100%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px -12px #00000040;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:scale(.95) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #e5e7eb;margin-bottom:24px}.modal-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#111827;margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:8px;border-radius:6px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.modal-form[_ngcontent-%COMP%]{padding:0 24px 24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.duration-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.duration-input[_ngcontent-%COMP%]{width:60px!important;text-align:center}.duration-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:500}.form-hint[_ngcontent-%COMP%]{display:block;margin-top:4px;font-size:11px;color:#6b7280;font-style:italic}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#374151;font-size:14px}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;transition:all .2s ease;background:#fff;box-sizing:border-box;font-family:inherit}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px;line-height:1.5}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}select.form-input[_ngcontent-%COMP%]{cursor:pointer}.priority-select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;padding-right:2rem}.priority-select.priority-low[_ngcontent-%COMP%]{border-color:#10b981;box-shadow:0 0 0 2px #10b98126}.priority-select.priority-medium[_ngcontent-%COMP%]{border-color:#f59e0b;box-shadow:0 0 0 2px #f59e0b26}.priority-select.priority-high[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 2px #ef444426}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:32px;padding-top:20px;border-top:1px solid #e5e7eb}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;min-width:100px;justify-content:center}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;box-shadow:0 1px 2px #0000000d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.btn-primary[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed;box-shadow:none}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb;border-color:#9ca3af}.tags-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.tags-display[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;min-height:24px}.tag-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:12px;font-size:.75rem;font-weight:500;white-space:nowrap;border:1px solid rgba(255,255,255,.2)}.tag-remove[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;font-size:.875rem;font-weight:700;padding:0;margin:0;width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;transition:opacity .2s ease}.tag-remove[_ngcontent-%COMP%]:hover{opacity:1;background:#fff3}.tags-input[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 640px){.modal-overlay[_ngcontent-%COMP%]{padding:10px}.modal-content[_ngcontent-%COMP%]{max-width:100%;border-radius:8px}.modal-header[_ngcontent-%COMP%]{padding:20px 20px 0}.modal-form[_ngcontent-%COMP%]{padding:0 20px 20px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:1rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-weight:500;color:var(--text-primary);gap:.5rem}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0;width:18px;height:18px;accent-color:var(--primary-color);cursor:pointer}.checkmark[_ngcontent-%COMP%]{font-size:1rem}.recurring-options[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin-top:.75rem;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.repeat-input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.repeat-interval[_ngcontent-%COMP%]{width:80px;flex-shrink:0}.repeat-type[_ngcontent-%COMP%]{flex:1;min-width:120px}.recurring-options[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{color:#059669;font-weight:500;background:#10b9811a;padding:.5rem;border-radius:4px;border-left:3px solid #10b981;margin-top:.75rem}"]})};export{me as a};
