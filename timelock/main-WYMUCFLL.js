import{A as Ct,B as I,C as N,a as ct,c as lt,e as dt,f as pt,g as gt,h as mt,k as ft,n as xt,r as ut,s as _t,t as vt,x as bt}from"./chunk-VMC4RC4D.js";import{$a as K,Ab as _,Bb as p,Ca as o,Kb as ot,Na as y,Pb as at,Ra as v,Rb as rt,Tb as w,V as J,_ as h,c as S,cb as g,da as m,db as e,ea as f,eb as n,fa as M,fb as u,ga as k,kc as st,lc as E,ma as Z,mb as P,mc as D,na as O,nb as x,ob as d,qc as T,sb as X,tb as tt,ub as et,vb as nt,wb as z,wc as ht,xb as C,xc as j,yb as it,yc as V,zb as c}from"./chunk-L2PMUJ2L.js";var Mt=[{path:"",redirectTo:"/projects",pathMatch:"full"},{path:"projects",loadComponent:()=>import("./chunk-KQCWI7GA.js").then(r=>r.ProjectsComponent)},{path:"project/:id",loadComponent:()=>import("./chunk-JMZURQM4.js").then(r=>r.ProjectDetailComponent)},{path:"calendar",loadComponent:()=>import("./chunk-HR7CNPPD.js").then(r=>r.CalendarComponent)},{path:"timetable",loadComponent:()=>import("./chunk-OUQXIPYT.js").then(r=>r.TimetableComponent)},{path:"upcoming",loadComponent:()=>import("./chunk-6IW4ODVT.js").then(r=>r.UpcomingComponent)},{path:"search",loadComponent:()=>import("./chunk-K5VUFWBG.js").then(r=>r.SearchComponent)},{path:"focus",loadComponent:()=>import("./chunk-JBGDRSNF.js").then(r=>r.FocusComponent)},{path:"time-tracking",loadComponent:()=>import("./chunk-UQACEVF4.js").then(r=>r.TimeTrackingPageComponent)},{path:"**",redirectTo:"/projects"}];var Pt={providers:[Z(),rt({eventCoalescing:!0}),gt(Mt)]};var L=class r{version;constructor(){this.version="1.18.0"}getVersion(){return this.version}getVersionWithPrefix(){return`v${this.version}`}getVersionParts(){let i=this.version.split(".").map(Number);return{major:i[0]||0,minor:i[1]||0,patch:i[2]||0}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ot(r,i){if(r&1){let t=P();e(0,"div",7),x("click",function(){m(t);let s=d();return f(s.closePanel())}),n()}}function St(r,i){if(r&1&&(e(0,"span",8),c(1),n()),r&2){let t=d();o(),p(" ",t.notificationService.unreadCount," ")}}function yt(r,i){if(r&1){let t=P();e(0,"button",18),x("click",function(){m(t);let s=d(2);return f(s.markAllAsRead())}),c(1," \u2713 "),n()}}function wt(r,i){if(r&1){let t=P();e(0,"button",19),x("click",function(){m(t);let s=d(2);return f(s.clearHistory())}),c(1," \u{1F5D1}\uFE0F "),n()}}function Tt(r,i){r&1&&(e(0,"span"),c(1,"\u23F0"),n())}function It(r,i){r&1&&(e(0,"span"),c(1,"\u25B6\uFE0F"),n())}function Et(r,i){r&1&&(e(0,"div",32)(1,"span",33),c(2,"Click to view task"),n()())}function Dt(r,i){r&1&&(e(0,"div",34),u(1,"span",35),n())}function jt(r,i){if(r&1){let t=P();e(0,"div",22),x("click",function(){let s=m(t).$implicit,l=d(3);return f(l.onNotificationClick(s))}),e(1,"div",23),v(2,Tt,2,0,"span",24)(3,It,2,0,"span",24),n(),e(4,"div",25)(5,"div",26),c(6),n(),e(7,"div",27)(8,"span",28),c(9),n(),e(10,"span",29),c(11),n()(),v(12,Et,3,0,"div",30),n(),v(13,Dt,2,0,"div",31),n()}if(r&2){let t=i.$implicit,a=d(3);C("unread",!t.read),o(2),g("ngIf",t.type==="due"),o(),g("ngIf",t.type==="starting"),o(3),_(t.taskTitle),o(3),p(" ",a.getNotificationTypeText(t)," "),o(2),p(" ",a.formatTime(t.timestamp)," "),o(),g("ngIf",!t.read),o(),g("ngIf",!t.read)}}function Vt(r,i){if(r&1&&(e(0,"div",20),v(1,jt,14,9,"div",21),n()),r&2){let t=d(2);o(),g("ngForOf",t.notificationService.history())}}function Nt(r,i){r&1&&(e(0,"div",36)(1,"div",37),c(2,"\u{1F515}"),n(),e(3,"div",38),c(4,"No notifications yet"),n(),e(5,"div",39),c(6,"You'll see task notifications here"),n()())}function zt(r,i){if(r&1){let t=P();e(0,"div",9),x("click",function(s){return m(t),f(s.stopPropagation())}),e(1,"div",10)(2,"h3",11),c(3,"Notifications"),n(),e(4,"div",12),v(5,yt,2,0,"button",13)(6,wt,2,0,"button",14),e(7,"button",15),x("click",function(){m(t);let s=d();return f(s.closePanel())}),c(8," \u2715 "),n()()(),e(9,"div",16),v(10,Vt,2,1,"div",17)(11,Nt,7,0,"ng-template",null,0,at),n()()}if(r&2){let t=nt(12),a=d();o(5),g("ngIf",a.notificationService.unreadCount>0),o(),g("ngIf",a.notificationService.history().length>0),o(4),g("ngIf",a.notificationService.history().length>0)("ngIfElse",t)}}var H=class r{notificationService=h(I);isOpen=O(!1);togglePanel(){this.isOpen.set(!this.isOpen())}closePanel(){this.isOpen.set(!1)}onNotificationClick(i){this.markAsRead(i.id),this.notificationService.navigateToTask(i.taskId,i.projectId),this.closePanel()}markAsRead(i){this.notificationService.markAsRead(i)}markAllAsRead(){this.notificationService.markAllAsRead()}clearHistory(){confirm("Are you sure you want to clear all notifications?")&&this.notificationService.clearHistory()}getNotificationTypeText(i){let a=new Date().getTime()-i.timestamp.getTime(),s=Math.floor(a/6e4),l=Math.floor(s/60);if(s<=2)return i.type==="due"?"Due now":"Starting now";if(l>0){let b=l===1?"1 hour ago":`${l} hours ago`;return i.type==="due"?`Due ${b}`:`Started ${b}`}else{let b=s===1?"1 minute ago":`${s} minutes ago`;return i.type==="due"?`Due ${b}`:`Started ${b}`}}formatTime(i){let a=new Date().getTime()-i.getTime(),s=Math.floor(a/6e4),l=Math.floor(s/60),b=Math.floor(l/24);return b>0?`${b}d ago`:l>0?`${l}h ago`:s>0?`${s}m ago`:"Just now"}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-notification-history"]],decls:7,vars:6,consts:[["emptyState",""],["class","panel-backdrop",3,"click",4,"ngIf"],[1,"notification-panel"],[1,"panel-toggle",3,"click","title"],[1,"toggle-icon"],["class","unread-badge",4,"ngIf"],["class","notification-full-panel",3,"click",4,"ngIf"],[1,"panel-backdrop",3,"click"],[1,"unread-badge"],[1,"notification-full-panel",3,"click"],[1,"panel-header"],[1,"panel-title"],[1,"panel-actions"],["class","action-btn","title","Mark all as read",3,"click",4,"ngIf"],["class","action-btn","title","Clear all notifications",3,"click",4,"ngIf"],["title","Close panel",1,"action-btn","close-btn",3,"click"],[1,"panel-body"],["class","notification-list",4,"ngIf","ngIfElse"],["title","Mark all as read",1,"action-btn",3,"click"],["title","Clear all notifications",1,"action-btn",3,"click"],[1,"notification-list"],["class","notification-item",3,"unread","click",4,"ngFor","ngForOf"],[1,"notification-item",3,"click"],[1,"notification-icon"],[4,"ngIf"],[1,"notification-content"],[1,"notification-title"],[1,"notification-meta"],[1,"notification-type"],[1,"notification-time"],["class","notification-action",4,"ngIf"],["class","notification-status",4,"ngIf"],[1,"notification-action"],[1,"action-hint"],[1,"notification-status"],[1,"unread-dot"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-text"],[1,"empty-subtext"]],template:function(t,a){t&1&&(v(0,Ot,1,0,"div",1),e(1,"div",2)(2,"button",3),x("click",function(){return a.togglePanel()}),e(3,"span",4),c(4,"\u{1F514}"),n(),v(5,St,2,1,"span",5),n()(),v(6,zt,13,4,"div",6)),t&2&&(g("ngIf",a.isOpen()),o(),C("has-notifications",a.notificationService.unreadCount>0),o(),g("title","Show notifications"),o(3),g("ngIf",a.notificationService.unreadCount>0),o(),g("ngIf",a.isOpen()))},dependencies:[T,E,D],styles:[".notification-panel[_ngcontent-%COMP%]{position:fixed;top:20px;right:-30px;height:auto;width:auto;z-index:1000;transition:transform .3s ease}.notification-panel.has-notifications[_ngcontent-%COMP%], .notification-panel[_ngcontent-%COMP%]:hover{transform:translate(-50px)}.panel-toggle[_ngcontent-%COMP%]{position:relative;top:0;left:10px;width:50px;height:44px;background:#fff;border:1px solid #e2e8f0;border-radius:8px 0 0 8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;box-shadow:-2px 2px 8px #0000001a;border-right:none}.panel-toggle[_ngcontent-%COMP%]:hover{background:#f8fafc;box-shadow:-4px 4px 12px #00000026}.toggle-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7280}.unread-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background:#ef4444;color:#fff;font-size:.75rem;font-weight:600;padding:2px 6px;border-radius:10px;min-width:18px;text-align:center;line-height:1.2}.panel-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0000004d;z-index:999;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s ease forwards}@keyframes _ngcontent-%COMP%_fadeIn{to{opacity:1}}.notification-full-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;width:350px;background:#fff;border-left:1px solid #e2e8f0;box-shadow:-2px 0 8px #0000001a;z-index:1001;display:flex;flex-direction:column;transform:translate(0);animation:_ngcontent-%COMP%_slideIn .3s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}.panel-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e2e8f0;background:#fff;display:flex;align-items:center;justify-content:space-between}.panel-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1f2937}.panel-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #e2e8f0;background:#fff;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.875rem;transition:all .2s ease;color:#6b7280}.action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#3b82f6;color:#3b82f6}.action-btn.close-btn[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#ef4444;color:#ef4444}.panel-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0}.notification-list[_ngcontent-%COMP%]{padding:0}.notification-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px 20px;border-bottom:1px solid #f1f5f9;cursor:pointer;transition:all .2s ease;position:relative}.notification-item[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translate(2px);box-shadow:0 2px 4px #0000000d}.notification-item.unread[_ngcontent-%COMP%]{background:#fefbff;border-left:3px solid #3b82f6}.notification-icon[_ngcontent-%COMP%]{font-size:1.25rem;margin-top:2px;flex-shrink:0}.notification-content[_ngcontent-%COMP%]{flex:1;min-width:0}.notification-title[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;margin-bottom:4px;word-wrap:break-word;line-height:1.4}.notification-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.notification-type[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.notification-time[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.notification-action[_ngcontent-%COMP%]{margin-top:4px}.action-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#3b82f6;font-weight:500;opacity:0;transition:opacity .2s ease}.notification-item[_ngcontent-%COMP%]:hover   .action-hint[_ngcontent-%COMP%]{opacity:1}.notification-status[_ngcontent-%COMP%]{flex-shrink:0;margin-top:8px}.unread-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#3b82f6;border-radius:50%;display:block}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#6b7280;margin-bottom:8px}.empty-subtext[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af}@media (max-width: 768px){.notification-panel[_ngcontent-%COMP%]{width:100%;max-width:350px;transform:translate(calc(100% - 50px))}.panel-toggle[_ngcontent-%COMP%]{left:0;width:50px}.notification-panel[_ngcontent-%COMP%]:hover, .notification-panel.hover-expanded[_ngcontent-%COMP%], .notification-panel.open[_ngcontent-%COMP%]{transform:translate(0)}}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.panel-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]})};function Lt(r,i){if(r&1){let t=P();e(0,"div",2),x("click",function(){m(t);let s=d();return f(s.close())}),n()}if(r&2){let t=d();C("active",t.isOpen())}}function At(r,i){if(r&1&&(e(0,"option",44)(1,"span",45),c(2),n(),c(3),n()),r&2){let t=i.$implicit;g("value",t.code),o(2),_(t.flag),o(),p(" ",t.nativeName," ")}}function Ht(r,i){if(r&1){let t=P();e(0,"div",46)(1,"div",14)(2,"div",15)(3,"label",47),c(4),n(),e(5,"p",17),c(6),n()(),e(7,"div",18)(8,"label",26)(9,"input",48),x("change",function(s){m(t);let l=d(2);return f(l.onTaskStartNotificationToggle(s))}),n(),u(10,"span",28),n()()(),e(11,"div",14)(12,"div",15)(13,"label",49),c(14),n(),e(15,"p",17),c(16),n()(),e(17,"div",18)(18,"label",26)(19,"input",50),x("change",function(s){m(t);let l=d(2);return f(l.onTaskDueNotificationToggle(s))}),n(),u(20,"span",28),n()()()()}if(r&2){let t=d(2);o(4),p(" ",t.translations().taskStartNotifications," "),o(2),p(" ",t.translations().taskStartDescription," "),o(3),g("checked",t.settingsService.notifyOnTaskStart),o(5),p(" ",t.translations().taskDueNotifications," "),o(2),p(" ",t.translations().taskDueDescription," "),o(3),g("checked",t.settingsService.notifyOnTaskDue)}}function Ft(r,i){if(r&1){let t=P();e(0,"button",58),x("click",function(){m(t);let s=d(3);return f(s.requestPermission())}),c(1),n()}if(r&2){let t=d(3);o(),p(" ",t.translations().enableBrowserNotifications," ")}}function Wt(r,i){if(r&1&&(e(0,"p",59),c(1),n()),r&2){let t=d(3);o(),p(" ",t.translations().enableNotificationsHelp," ")}}function Bt(r,i){if(r&1&&(e(0,"div",51)(1,"div",52)(2,"span",53),c(3),n(),e(4,"div",54)(5,"span",55),c(6),n(),v(7,Ft,2,1,"button",56)(8,Wt,2,1,"p",57),n()()()),r&2){let t=d(2);o(),it(t.getPermissionStatusClass()),o(2),_(t.getPermissionStatusIcon()),o(3),_(t.getPermissionStatusText()),o(),g("ngIf",t.notificationService.permissionStatus==="default"),o(),g("ngIf",t.notificationService.permissionStatus==="denied")}}function Rt(r,i){if(r&1&&(e(0,"div",72)(1,"span",63),c(2),n(),e(3,"span",64),c(4),n()()),r&2){let t=d(3);o(2),p("",t.translations().estimatedQuota,":"),o(2),_(t.formatBytes(t.storageInfo().estimatedQuota))}}function $t(r,i){if(r&1&&(e(0,"div",73)(1,"div",74),u(2,"div",75),n(),e(3,"span",76),c(4),n()()),r&2){let t=d(3);o(2),z("width",t.storageInfo().usagePercentage,"%"),o(2),p("",t.storageInfo().usagePercentage.toFixed(2),"% used")}}function Gt(r,i){if(r&1&&(e(0,"div",60)(1,"div",61)(2,"div",62)(3,"span",63),c(4),n(),e(5,"span",64),c(6),n()(),v(7,Rt,5,2,"div",65)(8,$t,5,3,"div",66),n(),e(9,"div",67)(10,"div",68)(11,"span",69),c(12,"\u{1F4C1}"),n(),e(13,"span",70),c(14),n(),e(15,"span",71),c(16),n()(),e(17,"div",68)(18,"span",69),c(19,"\u2705"),n(),e(20,"span",70),c(21),n(),e(22,"span",71),c(23),n()(),e(24,"div",68)(25,"span",69),c(26,"\u2699\uFE0F"),n(),e(27,"span",70),c(28),n(),e(29,"span",71),c(30),n()(),e(31,"div",68)(32,"span",69),c(33,"\u{1F514}"),n(),e(34,"span",70),c(35),n(),e(36,"span",71),c(37),n()(),e(38,"div",68)(39,"span",69),c(40,"\u23F1\uFE0F"),n(),e(41,"span",70),c(42),n(),e(43,"span",71),c(44),n()()()()),r&2){let t=d(2);o(4),p("",t.translations().totalUsed,":"),o(2),_(t.formatBytes(t.storageInfo().totalSize)),o(),g("ngIf",t.storageInfo().estimatedQuota>0),o(),g("ngIf",t.storageInfo().usagePercentage>0),o(6),p("",t.translations().storageProjects,":"),o(2),_(t.formatBytes(t.storageInfo().projectsSize)),o(5),p("",t.translations().storageTasks,":"),o(2),_(t.formatBytes(t.storageInfo().todosSize)),o(5),p("",t.translations().storageSettings,":"),o(2),_(t.formatBytes(t.storageInfo().settingsSize)),o(5),p("",t.translations().storageNotifications,":"),o(2),_(t.formatBytes(t.storageInfo().notificationsSize)),o(5),p("",t.translations().storageTimeTracking,":"),o(2),_(t.formatBytes(t.storageInfo().timeTrackingSize))}}function Ut(r,i){r&1&&(e(0,"div",77)(1,"span",78),c(2,"\u26A0\uFE0F"),n(),e(3,"span",79),c(4,"Unable to calculate storage metrics"),n()())}function Qt(r,i){if(r&1){let t=P();e(0,"div",3)(1,"div",4)(2,"h2",5)(3,"span",6),c(4,"\u2699\uFE0F"),n(),c(5),n(),e(6,"button",7),x("click",function(){m(t);let s=d();return f(s.close())}),M(),e(7,"svg",8),u(8,"path",9),n()()(),k(),e(9,"div",10)(10,"div",11)(11,"h3",12)(12,"span",13),c(13,"\u{1F30D}"),n(),c(14),n(),e(15,"div",14)(16,"div",15)(17,"label",16),c(18),n(),e(19,"p",17),c(20),n()(),e(21,"div",18)(22,"div",19)(23,"select",20),x("change",function(s){m(t);let l=d();return f(l.onLanguageChange(s))}),v(24,At,4,3,"option",21),n(),e(25,"div",22),M(),e(26,"svg",23),u(27,"path",24),n()()()()()(),k(),e(28,"div",11)(29,"h3",12)(30,"span",13),c(31,"\u{1F514}"),n(),c(32),n(),e(33,"div",14)(34,"div",15)(35,"label",25),c(36),n(),e(37,"p",17),c(38),n()(),e(39,"div",18)(40,"label",26)(41,"input",27),x("change",function(s){m(t);let l=d();return f(l.onNotificationToggle(s))}),n(),u(42,"span",28),n()()(),v(43,Ht,21,6,"div",29)(44,Bt,9,6,"div",30),n(),e(45,"div",11)(46,"h3",12)(47,"span",13),c(48,"\u{1F3A8}"),n(),c(49),n(),e(50,"div",31)(51,"div",15)(52,"label",16),c(53),n(),e(54,"p",17),c(55),n()(),e(56,"div",18)(57,"span",32),c(58),n()()()(),e(59,"div",11)(60,"h3",12)(61,"span",13),c(62,"\u23F0"),n(),c(63),n(),e(64,"div",14)(65,"div",15)(66,"label",33),c(67),n(),e(68,"p",17),c(69),n()(),e(70,"div",18)(71,"label",26)(72,"input",34),x("change",function(s){m(t);let l=d();return f(l.onUseLastPriorityToggle(s))}),n(),u(73,"span",28),n()()(),e(74,"div",14)(75,"div",15)(76,"label",35),c(77),n(),e(78,"p",17),c(79),n()(),e(80,"div",18)(81,"select",36),x("change",function(s){m(t);let l=d();return f(l.onDefaultPriorityChange(s))}),e(82,"option",37),c(83),n(),e(84,"option",38),c(85),n(),e(86,"option",39),c(87),n()()()()(),e(88,"div",11)(89,"h3",12)(90,"span",13),c(91,"\u{1F4BE}"),n(),c(92),n(),e(93,"div",14)(94,"div",15)(95,"label",16),c(96),n(),e(97,"p",17),c(98),n()(),e(99,"div",18)(100,"button",40),x("click",function(){m(t);let s=d();return f(s.onRefreshStorage())}),c(101),n()()(),v(102,Gt,45,14,"div",41)(103,Ut,5,0,"div",42),n()(),e(104,"div",43)(105,"button",40),x("click",function(){m(t);let s=d();return f(s.close())}),c(106),n()()()}if(r&2){let t=d();C("active",t.isOpen()),o(5),p(" ",t.translations().settings," "),o(),g("title",t.translations().closeSettings),o(8),p(" ",t.translations().language," "),o(4),_(t.translations().language),o(2),_(t.translations().chooseLanguage),o(3),g("ngModel",t.currentLanguage()),o(),g("ngForOf",t.availableLanguages),o(8),p(" ",t.translations().notifications," "),o(4),p(" ",t.translations().enableNotifications," "),o(2),p(" ",t.translations().notificationDescription," "),o(3),g("checked",t.settingsService.notificationsEnabled),o(2),g("ngIf",t.settingsService.notificationsEnabled),o(),g("ngIf",t.settingsService.notificationsEnabled),o(5),p(" ",t.translations().appearance," "),o(4),_(t.translations().theme),o(2),_(t.translations().themeDescription),o(3),_(t.translations().comingSoon),o(5),p(" ",t.translations().tasks," "),o(4),p(" ",t.translations().useLastPriority," "),o(2),p(" ",t.translations().useLastPriorityDescription," "),o(3),g("checked",t.settingsService.useLastChosenPriority),o(2),C("disabled",t.settingsService.useLastChosenPriority),o(3),p(" ",t.translations().defaultPriority," "),o(2),p(" ",t.translations().defaultPriorityDescription," "),o(2),g("ngClass","priority-"+t.settingsService.defaultPriority)("value",t.settingsService.defaultPriority)("disabled",t.settingsService.useLastChosenPriority),o(2),p("\u{1F7E2} ",t.translations().priorityLow),o(2),p("\u{1F7E1} ",t.translations().priorityMedium),o(2),p("\u{1F534} ",t.translations().priorityHigh),o(5),p(" ",t.translations().storage," "),o(4),_(t.translations().storageUsage),o(2),_(t.translations().storageDescription),o(3),p(" ",t.translations().refreshStorage," "),o(),g("ngIf",t.storageInfo()),o(),g("ngIf",!t.storageInfo()),o(3),p(" ",t.translations().close," ")}}var F=class r{settingsService=h(Ct);notificationService=h(I);translationService=h(V);indexedDBService=h(ht);projectService=h(j);todoService=h(N);isOpen=O(!1);availableLanguages=this.translationService.getAvailableLanguages();currentLanguage=w(()=>this.settingsService.settings().language);storageInfo=O(null);ngOnInit(){this.calculateStorageMetrics()}translations=w(()=>({settings:this.translationService.translate("settings.settings"),closeSettings:this.translationService.translate("settings.closeSettings"),language:this.translationService.translate("settings.language"),chooseLanguage:this.translationService.translate("settings.chooseLanguage"),notifications:this.translationService.translate("settings.notifications"),enableNotifications:this.translationService.translate("settings.enableNotifications"),notificationDescription:this.translationService.translate("settings.notificationDescription"),taskStartNotifications:this.translationService.translate("settings.taskStartNotifications"),taskStartDescription:this.translationService.translate("settings.taskStartDescription"),taskDueNotifications:this.translationService.translate("settings.taskDueNotifications"),taskDueDescription:this.translationService.translate("settings.taskDueDescription"),enableBrowserNotifications:this.translationService.translate("settings.enableBrowserNotifications"),enableNotificationsHelp:this.translationService.translate("settings.enableNotificationsHelp"),appearance:this.translationService.translate("settings.appearance"),theme:this.translationService.translate("settings.theme"),themeDescription:this.translationService.translate("settings.themeDescription"),comingSoon:this.translationService.translate("settings.comingSoon"),tasks:this.translationService.translate("settings.tasks"),useLastPriority:this.translationService.translate("settings.useLastPriority"),useLastPriorityDescription:this.translationService.translate("settings.useLastPriorityDescription"),defaultPriority:this.translationService.translate("settings.defaultPriority"),defaultPriorityDescription:this.translationService.translate("settings.defaultPriorityDescription"),close:this.translationService.translate("settings.close"),priorityLow:this.translationService.translate("priority.low"),priorityMedium:this.translationService.translate("priority.medium"),priorityHigh:this.translationService.translate("priority.high"),browserNotificationsEnabled:this.translationService.translate("settings.browserNotificationsEnabled"),browserNotificationsBlocked:this.translationService.translate("settings.browserNotificationsBlocked"),browserNotificationsNeedPermission:this.translationService.translate("settings.browserNotificationsNeedPermission"),browserNotificationsNotAvailable:this.translationService.translate("settings.browserNotificationsNotAvailable"),storage:"Storage",storageUsage:"Storage Usage",storageDescription:"Information about local data storage usage",totalUsed:"Total Used",storageProjects:"Projects",storageTasks:"Tasks",storageSettings:"Settings",storageNotifications:"Notifications",storageTimeTracking:"Time Tracking",estimatedQuota:"Estimated Quota",refreshStorage:"Refresh"}));open(){this.isOpen.set(!0),this.calculateStorageMetrics()}close(){this.isOpen.set(!1)}onNotificationToggle(i){let t=i.target;this.settingsService.setNotificationsEnabled(t.checked),t.checked&&this.notificationService.permissionStatus==="default"&&this.requestPermission()}onTaskStartNotificationToggle(i){let t=i.target;this.settingsService.setNotifyOnTaskStart(t.checked)}onTaskDueNotificationToggle(i){let t=i.target;this.settingsService.setNotifyOnTaskDue(t.checked)}onUseLastPriorityToggle(i){let t=i.target;this.settingsService.setUseLastChosenPriority(t.checked)}onDefaultPriorityChange(i){let a=i.target.value;this.settingsService.setDefaultPriority(a)}requestPermission(){return S(this,null,function*(){yield this.notificationService.requestPermission()})}getPermissionStatusClass(){switch(this.notificationService.permissionStatus){case"granted":return"status-success";case"denied":return"status-error";case"default":return"status-warning";default:return"status-neutral"}}getPermissionStatusIcon(){switch(this.notificationService.permissionStatus){case"granted":return"\u2705";case"denied":return"\u274C";case"default":return"\u26A0\uFE0F";default:return"\u2753"}}getPermissionStatusText(){switch(this.notificationService.permissionStatus){case"granted":return this.translations().browserNotificationsEnabled;case"denied":return this.translations().browserNotificationsBlocked;case"default":return this.translations().browserNotificationsNeedPermission;default:return this.translations().browserNotificationsNotAvailable}}onLanguageChange(i){let a=i.target.value;this.settingsService.setLanguage(a)}calculateStorageMetrics(){return S(this,null,function*(){try{let i=0;"storage"in navigator&&"estimate"in navigator.storage&&(i=(yield navigator.storage.estimate()).quota||0);let t=this.projectService.projects(),a=this.todoService.todos(),s=this.settingsService.settings(),l=this.notificationService.history(),b=this.estimateDataSize(t),G=this.estimateDataSize(a),U=this.estimateDataSize(s),Q=this.estimateDataSize(l),q=Math.max(a.length*100,5e3),Y=b+G+U+Q+q,kt=i>0?Y/i*100:0;this.storageInfo.set({totalSize:Y,projectsSize:b,todosSize:G,settingsSize:U,notificationsSize:Q,timeTrackingSize:q,estimatedQuota:i,usagePercentage:kt})}catch(i){console.error("Error calculating storage metrics:",i),this.storageInfo.set(null)}})}estimateDataSize(i){try{return new Blob([JSON.stringify(i)]).size}catch{return 0}}formatBytes(i){if(i===0)return"0 B";let t=1024,a=["B","KB","MB","GB"],s=Math.floor(Math.log(i)/Math.log(t));return parseFloat((i/Math.pow(t,s)).toFixed(1))+" "+a[s]}onRefreshStorage(){this.calculateStorageMetrics()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-settings-modal"]],decls:2,vars:2,consts:[["class","modal-backdrop",3,"active","click",4,"ngIf"],["class","settings-modal",3,"active",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"settings-modal"],[1,"modal-header"],[1,"modal-title"],[1,"settings-icon"],[1,"close-btn",3,"click","title"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"modal-body"],[1,"settings-section"],[1,"section-title"],[1,"section-icon"],[1,"setting-item"],[1,"setting-info"],[1,"setting-label"],[1,"setting-description"],[1,"setting-control"],[1,"language-dropdown"],[1,"language-select",3,"change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"dropdown-icon"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["fill-rule","evenodd","d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06z"],["for","notifications-toggle",1,"setting-label"],[1,"toggle-switch"],["type","checkbox","id","notifications-toggle",3,"change","checked"],[1,"toggle-slider"],["class","notification-types",4,"ngIf"],["class","notification-status",4,"ngIf"],[1,"setting-item","disabled"],[1,"coming-soon"],["for","use-last-priority-toggle",1,"setting-label"],["type","checkbox","id","use-last-priority-toggle",3,"change","checked"],["for","default-priority-select",1,"setting-label"],["id","default-priority-select",1,"form-select","priority-select",3,"change","ngClass","value","disabled"],["value","low"],["value","medium"],["value","high"],[1,"btn","btn-secondary",3,"click"],["class","storage-metrics",4,"ngIf"],["class","storage-error",4,"ngIf"],[1,"modal-footer"],[3,"value"],[1,"flag"],[1,"notification-types"],["for","notify-task-start-toggle",1,"setting-label"],["type","checkbox","id","notify-task-start-toggle",3,"change","checked"],["for","notify-task-due-toggle",1,"setting-label"],["type","checkbox","id","notify-task-due-toggle",3,"change","checked"],[1,"notification-status"],[1,"status-item"],[1,"status-icon"],[1,"status-info"],[1,"status-text"],["class","permission-btn",3,"click",4,"ngIf"],["class","status-help",4,"ngIf"],[1,"permission-btn",3,"click"],[1,"status-help"],[1,"storage-metrics"],[1,"storage-overview"],[1,"storage-total"],[1,"storage-label"],[1,"storage-value"],["class","storage-quota",4,"ngIf"],["class","storage-percentage",4,"ngIf"],[1,"storage-breakdown"],[1,"storage-item"],[1,"item-icon"],[1,"item-label"],[1,"item-value"],[1,"storage-quota"],[1,"storage-percentage"],[1,"progress-bar"],[1,"progress-fill"],[1,"percentage-text"],[1,"storage-error"],[1,"error-icon"],[1,"error-text"]],template:function(t,a){t&1&&v(0,Lt,1,2,"div",0)(1,Qt,107,40,"div",1),t&2&&(g("ngIf",a.isOpen()),o(),g("ngIf",a.isOpen()))},dependencies:[T,st,E,D,bt,_t,vt,ut,ft,xt],styles:['.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:2000;opacity:0;visibility:hidden;transition:all .3s ease}.modal-backdrop.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.settings-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.9);width:90%;max-width:600px;max-height:80vh;background:#fff;border-radius:12px;box-shadow:0 20px 40px #00000026;z-index:2001;opacity:0;visibility:hidden;transition:all .3s ease;overflow:hidden;display:flex;flex-direction:column}.settings-modal.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translate(-50%,-50%) scale(1)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 16px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1f2937;display:flex;align-items:center;gap:8px}.settings-icon[_ngcontent-%COMP%]{font-size:1.25rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;border-radius:6px;color:#6b7280;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.settings-section[_ngcontent-%COMP%]{margin-bottom:32px}.settings-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0 0 16px;display:flex;align-items:center;gap:8px}.section-icon[_ngcontent-%COMP%]{font-size:1rem}.setting-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e2e8f0;border-radius:8px;margin-bottom:12px;transition:all .2s ease}.setting-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.setting-item[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#3b82f6;background:#fafbff}.setting-item.disabled[_ngcontent-%COMP%]{opacity:.6;background:#f9fafb}.setting-info[_ngcontent-%COMP%]{flex:1;margin-right:16px}.setting-label[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;margin-bottom:4px;display:block;cursor:pointer}.setting-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;line-height:1.4}.setting-control[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center}.coming-soon[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;font-weight:500;padding:4px 8px;background:#f3f4f6;border-radius:4px}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:24px;cursor:pointer}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#cbd5e1;transition:.3s ease;border-radius:24px}.toggle-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s ease;border-radius:50%;box-shadow:0 2px 4px #0003}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background-color:#3b82f6}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.toggle-switch[_ngcontent-%COMP%]:hover   .toggle-slider[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #3b82f61a}.notification-status[_ngcontent-%COMP%]{margin-top:16px;padding:12px;border-radius:8px;background:#f8fafc}.status-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.status-icon[_ngcontent-%COMP%]{font-size:1.25rem;margin-top:2px}.status-info[_ngcontent-%COMP%]{flex:1}.status-text[_ngcontent-%COMP%]{font-weight:500;color:#374151;display:block;margin-bottom:8px}.permission-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.permission-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.status-help[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;line-height:1.4}.status-success[_ngcontent-%COMP%]{background:#22c55e1a;border:1px solid rgba(34,197,94,.2)}.status-error[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.2)}.status-warning[_ngcontent-%COMP%]{background:#f59e0b1a;border:1px solid rgba(245,158,11,.2)}.status-neutral[_ngcontent-%COMP%]{background:#6b72801a;border:1px solid rgba(107,114,128,.2)}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e2e8f0;background:#f8fafc;display:flex;justify-content:flex-end;gap:12px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease;border:1px solid transparent}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border-color:#d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb;border-color:#9ca3af}@media (max-width: 768px){.settings-modal[_ngcontent-%COMP%]{width:95%;max-height:90vh}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.setting-info[_ngcontent-%COMP%]{margin-right:0}.setting-control[_ngcontent-%COMP%]{align-self:flex-end}}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.language-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block;min-width:160px}.language-select[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 16px;border:2px solid #e2e8f0;border-radius:8px;background-color:#fff;font-size:14px;font-weight:500;color:#374151;cursor:pointer;transition:all .2s ease;appearance:none;-webkit-appearance:none;-moz-appearance:none}.language-select[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.language-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f633}.dropdown-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none;color:#6b7280;transition:color .2s ease}.language-select[_ngcontent-%COMP%]:hover + .dropdown-icon[_ngcontent-%COMP%]{color:#3b82f6}.language-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px 12px;font-weight:500}.form-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;background-color:#fff;font-size:14px;min-width:120px;transition:all .2s ease}.form-select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed}.priority-select.priority-low[_ngcontent-%COMP%]{border-color:#10b981;background-color:#f0fdf4}.priority-select.priority-medium[_ngcontent-%COMP%]{border-color:#f59e0b;background-color:#fffbeb}.priority-select.priority-high[_ngcontent-%COMP%]{border-color:#ef4444;background-color:#fef2f2}.setting-item.disabled[_ngcontent-%COMP%]{opacity:.6}.setting-item.disabled[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{color:#9ca3af}.notification-types[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background-color:#f8fafc;border:1px solid #e2e8f0;border-radius:8px}.notification-types[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{margin-bottom:12px}.notification-types[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.storage-metrics[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.storage-overview[_ngcontent-%COMP%]{margin-bottom:1.5rem}.storage-total[_ngcontent-%COMP%], .storage-quota[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.storage-label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.storage-value[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.storage-percentage[_ngcontent-%COMP%]{margin-top:1rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#10b981,#f59e0b 70%,#ef4444);transition:width .3s ease}.percentage-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.storage-breakdown[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding-top:1rem}.storage-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 0;font-size:.875rem}.item-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.item-label[_ngcontent-%COMP%]{color:#6b7280;flex:1}.item-value[_ngcontent-%COMP%]{font-weight:500;color:#374151;text-align:right}.storage-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;margin-top:1rem}.error-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#ef4444}.error-text[_ngcontent-%COMP%]{color:#dc2626;font-weight:500}']})};function qt(r,i){if(r&1){let t=P();e(0,"div",2),x("mouseenter",function(){m(t);let s=d();return f(s.showWidget())}),n()}}function Yt(r,i){if(r&1&&(e(0,"span",23),c(1),n()),r&2){let t,a=d(3);o(),_((t=a.activeTask())==null?null:t.category)}}function Jt(r,i){if(r&1&&(e(0,"span",24),c(1),n()),r&2){let t,a=d(3);o(),_(a.getProjectName((t=a.activeTask())==null?null:t.projectId))}}function Zt(r,i){if(r&1&&(e(0,"div",20),v(1,Yt,2,1,"span",21)(2,Jt,2,1,"span",22),n()),r&2){let t,a,s=d(2);o(),g("ngIf",(t=s.activeTask())==null?null:t.category),o(),g("ngIf",(a=s.activeTask())==null?null:a.projectId)}}function Kt(r,i){if(r&1){let t=P();e(0,"div",3),x("mouseenter",function(){m(t);let s=d();return f(s.showWidget())})("mouseleave",function(){m(t);let s=d();return f(s.hideWidget())}),e(1,"div",4),u(2,"div",5),e(3,"span",6),c(4),n()(),e(5,"div",7)(6,"div",8),c(7),n(),v(8,Zt,3,2,"div",9),n(),e(9,"div",10)(10,"span",11),c(11),n()(),e(12,"div",12)(13,"button",13),x("click",function(s){m(t);let l=d();return f(l.onStopWork(s))}),M(),e(14,"svg",14),u(15,"path",15),n()(),k(),e(16,"button",16),x("click",function(s){m(t);let l=d();return f(l.onCompleteTask(s))}),M(),e(17,"svg",14),u(18,"path",17),n()(),k(),e(19,"button",18),x("click",function(s){m(t);let l=d();return f(l.onGoToTask(s))}),M(),e(20,"svg",14),u(21,"path",19),n()()()()}if(r&2){let t,a,s,l=d();C("visible",l.isVisible()),o(4),_(l.translations().currentlyWorking),o(2),g("title",(t=l.activeTask())==null?null:t.title),o(),p(" ",l.truncateTitle(((a=l.activeTask())==null?null:a.title)||"")," "),o(),g("ngIf",((s=l.activeTask())==null?null:s.category)||((s=l.activeTask())==null?null:s.projectId)),o(3),_(l.formatElapsedTime(l.elapsedTime())),o(2),g("title",l.translations().stopWork),o(3),g("title",l.translations().completeTask),o(3),g("title",l.translations().goToTask)}}var W=class r{todoService=h(N);translationService=h(V);notificationService=h(I);projectService=h(j);timerInterval;isVisible=O(!1);elapsedTime=O(0);activeTask=w(()=>{let i=this.todoService.activeTaskId();return i?this.todoService.getTodoById(i):null});translations=w(()=>({currentlyWorking:this.translationService.translate("activeTaskWidget.currentlyWorking"),stopWork:this.translationService.translate("activeTaskWidget.stopWork"),completeTask:this.translationService.translate("activeTaskWidget.finishWork"),goToTask:this.translationService.translate("activeTaskWidget.goTo")}));ngOnInit(){this.startTimer()}ngOnDestroy(){this.stopTimer()}startTimer(){this.stopTimer(),this.updateElapsedTime(),this.timerInterval=window.setInterval(()=>{this.updateElapsedTime()},1e3)}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=void 0)}updateElapsedTime(){let i=this.todoService.activeTaskId();if(i){let t=this.todoService.getElapsedTime(i);this.elapsedTime.set(t)}else this.elapsedTime.set(0)}showWidget(){this.isVisible.set(!0)}hideWidget(){this.isVisible.set(!1)}onStopWork(i){return S(this,null,function*(){if(i.stopPropagation(),this.todoService.activeTaskId())try{yield this.todoService.stopWorking(),this.stopTimer(),this.startTimer()}catch(a){console.error("Failed to stop work:",a)}})}onCompleteTask(i){return S(this,null,function*(){i.stopPropagation();let t=this.todoService.activeTaskId();if(t)try{yield this.todoService.stopWorking(),yield this.todoService.toggleTodo(t),this.stopTimer(),this.startTimer()}catch(a){console.error("Failed to complete task:",a)}})}onGoToTask(i){i.stopPropagation();let t=this.activeTask();t&&this.notificationService.navigateToTask(t.id,t.projectId)}truncateTitle(i,t=30){return i.length<=t?i:i.substring(0,t-3)+"..."}getProjectName(i){return this.projectService.getProjectById(i)?.name||`Project ${i.substring(0,8)}`}formatElapsedTime(i){if(i<60)return`${i}m`;let t=Math.floor(i/60),a=i%60;return a===0?`${t}h`:`${t}h ${a}m`}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-active-task-widget"]],decls:2,vars:2,consts:[["class","task-indicator-bar",3,"mouseenter",4,"ngIf"],["class","active-task-widget",3,"visible","mouseenter","mouseleave",4,"ngIf"],[1,"task-indicator-bar",3,"mouseenter"],[1,"active-task-widget",3,"mouseenter","mouseleave"],[1,"widget-header"],[1,"status-indicator"],[1,"header-text"],[1,"task-info"],[1,"task-title",3,"title"],["class","task-meta",4,"ngIf"],[1,"timer-display"],[1,"elapsed-time"],[1,"widget-actions"],[1,"action-btn","stop-btn",3,"click","title"],["width","14","height","14","viewBox","0 0 16 16","fill","currentColor"],["d","M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"],[1,"action-btn","complete-btn",3,"click","title"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],[1,"action-btn","goto-btn",3,"click","title"],["d","m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"],[1,"task-meta"],["class","category",4,"ngIf"],["class","project",4,"ngIf"],[1,"category"],[1,"project"]],template:function(t,a){t&1&&v(0,qt,1,0,"div",0)(1,Kt,22,10,"div",1),t&2&&(g("ngIf",a.activeTask()&&!a.isVisible()),o(),g("ngIf",a.activeTask()))},dependencies:[T,D],styles:[".task-indicator-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;right:20px;width:320px;height:8px;background:linear-gradient(90deg,#10b981,#059669);border-radius:2px 2px 0 0;z-index:1000;cursor:pointer;box-shadow:0 -2px 8px #10b9814d;animation:_ngcontent-%COMP%_pulse-glow 2s infinite}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{box-shadow:0 -2px 8px #10b9814d}50%{box-shadow:0 -2px 12px #10b98180}}.active-task-widget[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:-340px;width:320px;background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 10px 25px #00000026,0 4px 6px #0000001a;z-index:999;opacity:0;transition:all .3s cubic-bezier(.4,0,.2,1);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;padding:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.active-task-widget.visible[_ngcontent-%COMP%]{right:20px;opacity:1}.widget-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #f1f5f9}.status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;margin-right:8px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.header-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.task-info[_ngcontent-%COMP%]{margin-bottom:12px}.task-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b;line-height:1.4;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.task-meta[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.category[_ngcontent-%COMP%], .project[_ngcontent-%COMP%]{font-size:11px;padding:2px 6px;border-radius:4px;font-weight:500}.category[_ngcontent-%COMP%]{background:#eff6ff;color:#1d4ed8}.project[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534}.timer-display[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;padding:8px;background:#f8fafc;border-radius:8px}.elapsed-time[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1e293b;font-variant-numeric:tabular-nums}.widget-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:4px;padding:8px 12px;border:1px solid #e2e8f0;border-radius:6px;background:#fff;color:#64748b;font-size:11px;font-weight:500;cursor:pointer;transition:all .2s ease;text-align:center;min-height:32px}.action-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1;color:#475569;transform:translateY(-1px)}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.stop-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#ef4444;color:#dc2626}.complete-btn[_ngcontent-%COMP%]:hover{background:#dcfce7;border-color:#22c55e;color:#16a34a}.goto-btn[_ngcontent-%COMP%]:hover{background:#dbeafe;border-color:#3b82f6;color:#2563eb}@media (prefers-color-scheme: dark){.task-indicator-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34d399,#10b981);box-shadow:0 -2px 8px #34d39966}@keyframes pulse-glow{0%,to{box-shadow:0 -2px 8px #34d39966}50%{box-shadow:0 -2px 12px #34d39999}}.active-task-widget[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#e2e8f0}.widget-header[_ngcontent-%COMP%]{border-bottom-color:#334155}.header-text[_ngcontent-%COMP%]{color:#94a3b8}.task-title[_ngcontent-%COMP%]{color:#f1f5f9}.category[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}.project[_ngcontent-%COMP%]{background:#14532d;color:#86efac}.timer-display[_ngcontent-%COMP%]{background:#334155}.elapsed-time[_ngcontent-%COMP%]{color:#f1f5f9}.action-btn[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#94a3b8}.action-btn[_ngcontent-%COMP%]:hover{background:#475569;border-color:#64748b;color:#e2e8f0}}@media (max-width: 768px){.active-task-widget[_ngcontent-%COMP%]{width:280px;right:-300px;bottom:10px}.active-task-widget.visible[_ngcontent-%COMP%]{right:10px}.task-indicator-bar[_ngcontent-%COMP%]{right:10px;width:280px;height:5px}.widget-actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{justify-content:flex-start}}@media (prefers-contrast: high){.active-task-widget[_ngcontent-%COMP%]{border-width:2px;box-shadow:0 4px 8px #0000004d}.action-btn[_ngcontent-%COMP%]{border-width:2px}}@media (prefers-reduced-motion: reduce){.task-indicator-bar[_ngcontent-%COMP%]{animation:none}.active-task-widget[_ngcontent-%COMP%]{transition:none}.status-indicator[_ngcontent-%COMP%]{animation:none}.action-btn[_ngcontent-%COMP%]{transition:none}.action-btn[_ngcontent-%COMP%]:hover{transform:none}}"],changeDetection:0})};var Xt=["settingsModal"],te=r=>["/project",r];function ee(r,i){if(r&1){let t=P();e(0,"a",53),x("dragstart",function(s){let l=m(t).index,b=d();return f(b.onProjectDragStart(l,s))})("dragenter",function(s){let l=m(t).index,b=d();return f(b.onProjectDragEnter(l,s))})("dragover",function(s){let l=m(t).index,b=d();return f(b.onProjectDragOver(l,s))})("dragleave",function(s){let l=m(t).index,b=d();return f(b.onProjectDragLeave(l,s))})("drop",function(s){let l=m(t).index,b=d();return f(b.onProjectDrop(l,s))})("dragend",function(){m(t);let s=d();return f(s.onProjectDragEnd())})("click",function(s){m(t);let l=d();return f(l.onProjectClick(s))}),e(1,"span",54),c(2),n(),e(3,"span",55),c(4),n()()}if(r&2){let t=i.$implicit,a=i.index,s=d();C("dragging",s.draggingIndex()===a)("drag-over",s.dragOverIndex()===a&&s.draggingIndex()!==a),g("routerLink",ot(9,te,t.id)),o(),z("color",t.color),o(),p(" ",t.icon||"\u{1F4CB}"," "),o(2),_(t.name)}}var B=class r{draggingIndex=O(null);dragOverIndex=O(null);projectService=h(j);todoService=h(N);notificationService=h(I);versionService=h(L);translationService=h(V);sidebarOpen=O(!1);projectsExpanded=O(!0);translations=w(()=>({focus:this.translationService.translate("nav.focus"),search:this.translationService.translate("nav.search"),upcoming:this.translationService.translate("nav.upcoming"),calendar:this.translationService.translate("nav.calendar"),timetable:this.translationService.translate("nav.timetable"),timeTracking:this.translationService.translate("nav.timeTracking"),projects:this.translationService.translate("nav.projects")}));settingsModal;toggleSidebar(){this.sidebarOpen.set(!this.sidebarOpen())}closeSidebar(){this.sidebarOpen.set(!1)}closeSidebarOnMobile(){window.innerWidth<=768&&this.closeSidebar()}onProjectClick(i){this.draggingIndex()!==null?(i.preventDefault(),i.stopPropagation()):this.closeSidebarOnMobile()}onProjectDragStart(i,t){this.draggingIndex.set(i),this.dragOverIndex.set(i);try{t.dataTransfer?.setData("text/plain",String(i)),t.dataTransfer?.setDragImage(new Image,0,0),t.dataTransfer.effectAllowed="move"}catch{}}onProjectDragEnter(i,t){t.preventDefault(),this.draggingIndex()!==null&&this.draggingIndex()!==i&&this.dragOverIndex.set(i)}onProjectDragOver(i,t){t.preventDefault(),this.draggingIndex()!==null&&(t.dataTransfer.dropEffect="move",this.dragOverIndex.set(i))}onProjectDragLeave(i,t){t.preventDefault(),this.dragOverIndex()===i&&this.dragOverIndex.set(null)}onProjectDrop(i,t){return S(this,null,function*(){t.preventDefault();let a=this.draggingIndex();a===null||a===i||(yield this.projectService.reorderProjects(a,i),this.draggingIndex.set(null),this.dragOverIndex.set(null))})}onProjectDragEnd(){this.draggingIndex.set(null),this.dragOverIndex.set(null)}toggleProjectsExpanded(){this.projectsExpanded.set(!this.projectsExpanded())}openSettings(){this.settingsModal.open()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-root"]],viewQuery:function(t,a){if(t&1&&X(Xt,5),t&2){let s;tt(s=et())&&(a.settingsModal=s.first)}},decls:85,vars:25,consts:[["settingsModal",""],[1,"app-container"],[1,"sidebar-toggle",3,"click"],[1,"hamburger-line"],[1,"sidebar"],[1,"sidebar-header"],[1,"app-title"],["src","assets/logo.svg","alt","TimeLock logo",1,"app-logo"],[1,"sidebar-nav"],["routerLink","/focus","routerLinkActive","active",1,"nav-item",3,"click"],[1,"nav-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],["cx","12","cy","12","r","6"],["cx","12","cy","12","r","2"],["routerLink","/search","routerLinkActive","active",1,"nav-item",3,"click"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["routerLink","/upcoming","routerLinkActive","active",1,"nav-item",3,"click"],["points","12,6 12,12 16,14"],["d","m17 2 4 4-4 4"],["d","M21 6H9"],["routerLink","/calendar","routerLinkActive","active",1,"nav-item",3,"click"],["d","M8 2v4"],["d","M16 2v4"],["width","18","height","18","x","3","y","4","rx","2"],["d","M3 10h18"],["width","4","height","4","x","8","y","14","rx","1"],["routerLink","/timetable","routerLinkActive","active",1,"nav-item",3,"click"],["width","18","height","18","x","3","y","3","rx","2"],["d","M3 9h18"],["d","M9 21V9"],["d","M15 21V9"],["routerLink","/time-tracking","routerLinkActive","active",1,"nav-item",3,"click"],["d","M8 2h8"],["d","M12 2v2"],[1,"nav-section"],[1,"nav-item-with-toggle"],["aria-controls","project-list",1,"nav-toggle",3,"click"],["width","16","height","16","viewBox","0 0 20 20","fill","currentColor","focusable","false","aria-hidden","true",1,"chevron"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707A1 1 0 118.707 5.293l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["routerLink","/projects","routerLinkActive","active",1,"nav-item","nav-item-main",3,"click"],["d","M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"],[1,"section-title"],[1,"project-count"],["id","project-list",1,"project-list"],["routerLinkActive","active","class","project-item","draggable","true",3,"routerLink","dragging","drag-over","dragstart","dragenter","dragover","dragleave","drop","dragend","click",4,"ngFor","ngForOf"],[1,"sidebar-footer"],["title","Settings",1,"settings-btn",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],[1,"sidebar-overlay",3,"click"],[1,"app-main"],["routerLinkActive","active","draggable","true",1,"project-item",3,"dragstart","dragenter","dragover","dragleave","drop","dragend","click","routerLink"],[1,"project-icon"],[1,"project-name"]],template:function(t,a){if(t&1){let s=P();e(0,"div",1)(1,"button",2),x("click",function(){return m(s),f(a.toggleSidebar())}),u(2,"span",3)(3,"span",3)(4,"span",3),n(),e(5,"aside",4)(6,"div",5)(7,"h1",6),u(8,"img",7),c(9," TimeLock "),n()(),e(10,"nav",8)(11,"a",9),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(12,"span",10),M(),e(13,"svg",11),u(14,"circle",12)(15,"circle",13)(16,"circle",14),n()(),c(17),n(),k(),e(18,"a",15),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(19,"span",10),M(),e(20,"svg",11),u(21,"circle",16)(22,"path",17),n()(),c(23),n(),k(),e(24,"a",18),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(25,"span",10),M(),e(26,"svg",11),u(27,"circle",12)(28,"polyline",19)(29,"path",20)(30,"path",21),n()(),c(31),n(),k(),e(32,"a",22),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(33,"span",10),M(),e(34,"svg",11),u(35,"path",23)(36,"path",24)(37,"rect",25)(38,"path",26)(39,"rect",27),n()(),c(40),n(),k(),e(41,"a",28),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(42,"span",10),M(),e(43,"svg",11),u(44,"rect",29)(45,"path",30)(46,"path",31)(47,"path",32),n()(),c(48),n(),k(),e(49,"a",33),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(50,"span",10),M(),e(51,"svg",11),u(52,"circle",12)(53,"polyline",19)(54,"path",34)(55,"path",35),n()(),c(56),n(),k(),e(57,"div",36)(58,"div",37)(59,"button",38),x("click",function(){return m(s),f(a.toggleProjectsExpanded())}),M(),e(60,"svg",39),u(61,"path",40),n()(),k(),e(62,"a",41),x("click",function(){return m(s),f(a.closeSidebarOnMobile())}),e(63,"span",10),M(),e(64,"svg",11),u(65,"path",42),n()(),k(),e(66,"span",43),c(67),n(),e(68,"span",44),c(69),n()()(),e(70,"div",45),v(71,ee,5,11,"a",46),n()()(),e(72,"div",47)(73,"p"),c(74),n(),e(75,"button",48),x("click",function(){return m(s),f(a.openSettings())}),M(),e(76,"svg",49),u(77,"path",50),n()()()(),k(),e(78,"div",51),x("click",function(){return m(s),f(a.closeSidebar())}),n(),e(79,"main",52),u(80,"router-outlet"),n(),u(81,"app-notification-history")(82,"app-settings-modal",null,0)(84,"app-active-task-widget"),n()}t&2&&(o(),C("active",a.sidebarOpen()),o(4),C("open",a.sidebarOpen()),o(12),p(" ",a.translations().focus," "),o(6),p(" ",a.translations().search," "),o(8),p(" ",a.translations().upcoming," "),o(9),p(" ",a.translations().calendar," "),o(8),p(" ",a.translations().timetable," "),o(8),p(" ",a.translations().timeTracking," "),o(2),C("expanded",a.projectsExpanded()),o(),K("aria-expanded",a.projectsExpanded()),o(),C("expanded",a.projectsExpanded()),o(7),_(a.translations().projects),o(2),_(a.projectService.activeProjects().length),o(),C("collapsed",!a.projectsExpanded()),o(),g("ngForOf",a.projectService.activeProjects()),o(3),p("Made by Joseph ",a.versionService.getVersionWithPrefix()),o(4),C("active",a.sidebarOpen()),o(),C("sidebar-open",a.sidebarOpen()))},dependencies:[T,E,lt,mt,dt,pt,H,F,W],styles:['.app-container[_ngcontent-%COMP%]{min-height:100vh;background:#f8fafc;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;position:relative}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;z-index:1001;background:#fff;border:1px solid #e2e8f0;border-radius:8px;width:44px;height:44px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#f8fafc;box-shadow:0 4px 12px #00000026}.hamburger-line[_ngcontent-%COMP%]{width:20px;height:2px;background:#374151;border-radius:1px;transition:all .3s ease}.sidebar-toggle.active[_ngcontent-%COMP%]{left:300px}.sidebar-toggle.active[_ngcontent-%COMP%]   .hamburger-line[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(5px,5px)}.sidebar-toggle.active[_ngcontent-%COMP%]   .hamburger-line[_ngcontent-%COMP%]:nth-child(2){opacity:0}.sidebar-toggle.active[_ngcontent-%COMP%]   .hamburger-line[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:280px;height:100vh;background:#fff;border-right:1px solid #e2e8f0;z-index:1000;transform:translate(-100%);transition:transform .3s ease;display:flex;flex-direction:column;box-shadow:2px 0 8px #0000001a;overflow-y:auto}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar-header[_ngcontent-%COMP%]{padding:24px 20px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1f2937;display:flex;align-items:center;gap:8px}.title-icon[_ngcontent-%COMP%]{font-size:1.25rem}.app-logo[_ngcontent-%COMP%]{width:24px;height:24px;display:inline-block}.sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.nav-item-with-toggle[_ngcontent-%COMP%]{position:relative}.nav-item-with-toggle[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{transition:transform .2s ease}.nav-item-with-toggle[_ngcontent-%COMP%]   .chevron.expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.nav-item-with-toggle[_ngcontent-%COMP%]   .nav-item-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;justify-content:space-between}.nav-item-with-toggle[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:1}.nav-item-with-toggle[_ngcontent-%COMP%]   .project-count[_ngcontent-%COMP%]{background:#eef2ff;color:#3730a3;font-weight:700;font-size:.75rem;border-radius:9999px;padding:2px 8px}.project-list[_ngcontent-%COMP%]{margin-left:12px;border-left:2px solid transparent;padding-left:8px}.project-list.collapsed[_ngcontent-%COMP%]{border-left-color:transparent}.project-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:6px;position:relative}.project-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.project-item.active[_ngcontent-%COMP%]{background:#eef2ff}.project-item.dragging[_ngcontent-%COMP%]{opacity:.5}.project-item.drag-over[_ngcontent-%COMP%]:after{content:"";position:absolute;left:6px;right:6px;height:0;border-top:2px solid #3b82f6;top:0}.project-item.drag-over[_ngcontent-%COMP%]:last-child:after{top:auto;bottom:-2px}.project-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{border-top:1px dashed #f1f5f9}.project-list[_ngcontent-%COMP%]{transition:max-height .25s ease,margin .25s ease,padding .25s ease;max-height:600px}.project-list.collapsed[_ngcontent-%COMP%]{max-height:0;margin-top:0;padding-top:0;padding-bottom:0;overflow:hidden}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:20px 0}.nav-section[_ngcontent-%COMP%]{margin:12px 12px 8px;padding:8px 8px 4px;border-radius:8px;background:#fafafa;border:1px solid #f1f5f9}.nav-item-with-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.nav-toggle[_ngcontent-%COMP%]{background:none;border:none;padding:8px;cursor:pointer;color:#6b7280;transition:all .2s ease;border-radius:4px;margin-right:4px;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.nav-toggle[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.toggle-icon[_ngcontent-%COMP%]{font-size:.75rem;transition:transform .2s ease;display:block;line-height:1}.toggle-icon.expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;color:#374151;text-decoration:none;transition:all .2s ease;border-left:3px solid transparent}.nav-item-main[_ngcontent-%COMP%]{flex:1;padding:12px 8px 12px 12px}.nav-item[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#1f2937}.nav-item.active[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb;border-left-color:#2563eb;font-weight:600}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:20px;text-align:center}.project-list[_ngcontent-%COMP%]{margin-left:36px;border-left:2px solid #f1f5f9;padding-left:12px;margin-top:8px;overflow:hidden;transition:all .3s ease;max-height:1000px}.project-list.collapsed[_ngcontent-%COMP%]{max-height:0;margin-top:0;padding-top:0;padding-bottom:0}.sidebar_icon[_ngcontent-%COMP%]{margin-top:3px}.project-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;color:#6b7280;text-decoration:none;transition:all .2s ease;border-radius:6px;font-size:.875rem;margin-bottom:2px}.project-item[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#374151}.project-item.active[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb;font-weight:500}.project-icon[_ngcontent-%COMP%]{font-size:.875rem;width:16px;text-align:center;flex-shrink:0}.project-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sidebar-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e2e8f0;background:#f8fafc;text-align:center;position:relative}.sidebar-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280}.settings-btn[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#6b7280;box-shadow:0 2px 4px #0000000d}.settings-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#3b82f6;color:#3b82f6;transform:rotate(45deg);box-shadow:0 4px 8px #0000001a}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999;opacity:0;visibility:hidden;transition:all .3s ease}.sidebar-overlay.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}.app-main[_ngcontent-%COMP%]{min-height:100vh;padding:80px 20px 20px;transition:margin-left .3s ease,margin-right .3s ease}.app-main.sidebar-open[_ngcontent-%COMP%]{margin-left:280px}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;max-width:320px}.app-main.sidebar-open[_ngcontent-%COMP%]{margin-left:0}.sidebar-overlay.active[_ngcontent-%COMP%]{display:block}.sidebar-toggle.active[_ngcontent-%COMP%]{left:20px}}.notification-status[_ngcontent-%COMP%]{margin-top:1rem}.notification-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;color:#6b7280;font-size:.875rem;cursor:pointer;transition:all .2s ease;width:100%;justify-content:flex-start}.notification-toggle[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#3b82f6}.notification-toggle.enabled[_ngcontent-%COMP%]{background:#22c55e1a;border-color:#22c55e;color:#22c55e}.notification-toggle.disabled[_ngcontent-%COMP%]{background:#ef44441a;border-color:#ef4444;color:#ef4444}.notification-icon[_ngcontent-%COMP%]{font-size:1rem}.notification-text[_ngcontent-%COMP%]{font-weight:500}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:8px;font-size:.875rem;font-weight:600;text-decoration:none;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #0000001a}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;box-shadow:0 4px 12px #3b82f64d}.btn-secondary[_ngcontent-%COMP%]{background:#f8fafc;color:#374151;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626;box-shadow:0 4px 12px #ef44444d}.btn-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#059669;box-shadow:0 4px 12px #10b9814d}.btn-icon[_ngcontent-%COMP%]{font-size:1rem;line-height:1}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:0 1px 3px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#374151;font-size:.875rem}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:.875rem;transition:all .2s ease;background:#fff}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-error[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:4px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.card-body[_ngcontent-%COMP%]{padding:24px}.card-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e2e8f0;background:#f8fafc}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:2000;display:flex;align-items:center;justify-content:center;padding:20px}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.modal-header[_ngcontent-%COMP%]{padding:24px 24px 0;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:#1f2937}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6b7280;padding:4px;border-radius:4px;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-footer[_ngcontent-%COMP%]{padding:0 24px 24px;display:flex;gap:12px;justify-content:flex-end}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.p-1[_ngcontent-%COMP%]{padding:.25rem}.p-2[_ngcontent-%COMP%]{padding:.5rem}.p-3[_ngcontent-%COMP%]{padding:1rem}.p-4[_ngcontent-%COMP%]{padding:1.5rem}.flex[_ngcontent-%COMP%]{display:flex}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.w-full[_ngcontent-%COMP%]{width:100%}.h-full[_ngcontent-%COMP%]{height:100%}.hidden[_ngcontent-%COMP%]{display:none}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .4s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}']})};ct(B,Pt).catch(r=>console.error(r));
