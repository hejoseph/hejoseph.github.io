(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5e3:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ec});var r=s(5155),a=s(7945),n=s(2115);let i=0,o=new Map,l=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),p({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],u={toasts:[]};function p(e){u=d(u,e),c.forEach(e=>{e(u)})}function m(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>p({type:"DISMISS_TOAST",toastId:s});return p({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>p({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=n.useState(u);return n.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>p({type:"DISMISS_TOAST",toastId:e})}}var x=s(5157),g=s(2085),h=s(4416),v=s(2596),y=s(9688);function b(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,y.QP)((0,v.$)(t))}let j=x.Kq,N=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(x.LM,{ref:t,className:b("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...a})});N.displayName=x.LM.displayName;let w=(0,g.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),k=n.forwardRef((e,t)=>{let{className:s,variant:a,...n}=e;return(0,r.jsx)(x.bL,{ref:t,className:b(w({variant:a}),s),...n})});k.displayName=x.bL.displayName,n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(x.rc,{ref:t,className:b("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...a})}).displayName=x.rc.displayName;let S=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(x.bm,{ref:t,className:b("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...a,children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})});S.displayName=x.bm.displayName;let A=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(x.hE,{ref:t,className:b("text-sm font-semibold [&+div]:text-xs",s),...a})});A.displayName=x.hE.displayName;let I=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(x.VY,{ref:t,className:b("text-sm opacity-90",s),...a})});function C(){let{toasts:e}=f();return(0,r.jsxs)(j,{children:[e.map(e=>{let{id:t,title:s,description:a,action:n,...i}=e;return(0,r.jsxs)(k,{...i,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[s&&(0,r.jsx)(A,{children:s}),a&&(0,r.jsx)(I,{children:a})]}),n,(0,r.jsx)(S,{})]},t)}),(0,r.jsx)(N,{})]})}I.displayName=x.VY.displayName;let E=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:b("rounded-xl border bg-card text-card-foreground shadow",s),...a})});E.displayName="Card";let T=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:b("flex flex-col space-y-1.5 p-6",s),...a})});T.displayName="CardHeader";let P=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:b("font-semibold leading-none tracking-tight",s),...a})});P.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:b("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let D=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:b("p-6 pt-0",s),...a})});D.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:b("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter";var R=s(9708);let _=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),G=n.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...o}=e,l=i?R.DX:"button";return(0,r.jsx)(l,{className:b(_({variant:a,size:n,className:s})),ref:t,...o})});G.displayName="Button";let O=n.forwardRef((e,t)=>{let{className:s,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:b("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});O.displayName="Input";var K=s(7484),z=s(5196);let U=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(K.bL,{ref:t,className:b("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(K.C1,{className:b("flex items-center justify-center text-current"),children:(0,r.jsx)(z.A,{className:"h-4 w-4"})})})});async function F(e,t,s){if(!s)return{tasks:[],error:"API key is required"};try{var r,a,n,i,o,l;let d="\n      Break down the following task into 3-5 smaller, more manageable sub-tasks.\n      Each sub-task should be clear, specific, and actionable.\n\n      TASK: ".concat(e,"\n\n      CONTEXT (Parent tasks and related information): ").concat(t,"\n\n      Return only, in the same language as the task, the list of sub-tasks, one per line, without any numbering, prefixes, or extra text.\n      Each line should contain one sub-task.\n    ");console.log(d);let c=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:d}]}]})});if(!c.ok){let e=await c.json();return{tasks:[],error:"API Error: ".concat((null==(l=e.error)?void 0:l.message)||c.statusText)}}return{tasks:((null==(o=(await c.json()).candidates)||null==(i=o[0])||null==(n=i.content)||null==(a=n.parts)||null==(r=a[0])?void 0:r.text)||"").split("\n").map(e=>e.trim()).filter(e=>e.length>0)}}catch(e){return console.error("Error breaking down task:",e),{tasks:[],error:"Failed to break down task: ".concat(e instanceof Error?e.message:"Unknown error")}}}U.displayName=K.bL.displayName;var M=s(1154);function L(e){let{goalId:t,stepId:s,parentStepIds:i,stepText:o}=e,{addMultipleSteps:l,googleApiKey:d,goals:c}=(0,a.Q)(),[u,p]=(0,n.useState)(!1),{toast:m}=f(),x=()=>{let e=c.find(e=>e.id===t),s="";if(i.length>0){let t=null==e?void 0:e.steps;s+="\nParent Tasks:\n";let r=1;for(let e of i){let a=null==t?void 0:t.find(t=>t.id===e);if(!a)break;s+='"'.concat(r++,". ").concat(a.text,'"\n'),t=a.steps}}return s+"\n For the goal: ".concat((null==e?void 0:e.title)||"")},g=async()=>{if(!d)return void m({title:"API Key Required",description:"Please set your Google AI API key first",variant:"destructive"});p(!0);try{let e=x(),r=await F(o,e,d);if(r.error)return void m({title:"Error",description:r.error,variant:"destructive"});if(0===r.tasks.length)return void m({title:"No tasks generated",description:"The AI couldn't generate any tasks. Please try again.",variant:"destructive"});let a=s?[...i,s]:i;l(t,r.tasks,a),m({title:"Tasks Generated",description:"".concat(r.tasks.length," sub-tasks have been created")})}catch(e){console.error("Error breaking down task:",e),m({title:"Error",description:"Failed to break down task. Please try again.",variant:"destructive"})}finally{p(!1)}};return(0,r.jsx)(G,{size:"sm",variant:"outline",className:"h-7 text-xs px-2",onClick:g,disabled:u||!d,children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.A,{className:"mr-1 h-3 w-3 animate-spin"}),"Breaking down..."]}):"AI Breakdown"})}var Q=s(5143),Y=s(402),V=s(8266),B=s(8021);function J(e){var t;let{step:s,goalId:i,parentStepIds:o,onAddSubStep:l}=e,{toggleStepCompletion:d,deleteStep:c}=(0,a.Q)(),[u,p]=(0,n.useState)({}),[m,x]=(0,n.useState)({}),{toast:g}=f(),{attributes:h,listeners:v,setNodeRef:y,transform:b,transition:j,isDragging:N}=(0,Y.gl)({id:s.id}),w={transform:V.Ks.Transform.toString(b),transition:j,opacity:N?.4:1},k=e=>{x(t=>({...t,[e]:!t[e]}))},S=e=>{var t;let s=null==(t=u[e])?void 0:t.trim();if(s){let t=[...o,e];l(e,s,t),p(t=>({...t,[e]:""}))}};return(0,r.jsx)("li",{ref:y,style:w,className:"border-l-2 pl-3 py-1 border-muted",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("div",{...h,...v,className:"cursor-grab mt-1 text-muted-foreground hover:text-foreground",children:(0,r.jsx)(B.A,{className:"h-4 w-4"})}),(0,r.jsx)(U,{id:s.id,checked:s.completed,onCheckedChange:()=>d(i,s.id,o),className:"mt-1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsx)("label",{htmlFor:s.id,className:"text-sm ".concat(s.completed?"line-through text-muted-foreground":""),children:s.text}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(L,{goalId:i,stepId:s.id,parentStepIds:o,stepText:s.text}),s.steps.length>0&&(0,r.jsx)(G,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>k(s.id),children:m[s.id]?"−":"+"}),(0,r.jsx)(G,{variant:"ghost",size:"sm",className:"h-6 px-2 text-muted-foreground hover:text-destructive",onClick:()=>c(i,s.id,o),children:"\xd7"})]})]}),(0,r.jsxs)("div",{className:"mt-1",children:[m[s.id]&&s.steps.length>0&&(0,r.jsx)(q,{goalId:i,steps:s.steps,parentStepIds:[...o,s.id]}),m[s.id]&&(0,r.jsxs)("div",{className:"flex space-x-1 mt-2 pr-2",children:[(0,r.jsx)(O,{placeholder:"Add a sub-step",value:u[s.id]||"",onChange:e=>p(t=>({...t,[s.id]:e.target.value})),className:"h-7 text-xs",onKeyDown:e=>{var t;"Enter"===e.key&&(null==(t=u[s.id])?void 0:t.trim())&&S(s.id)}}),(0,r.jsx)(G,{onClick:()=>S(s.id),disabled:!(null==(t=u[s.id])?void 0:t.trim()),size:"sm",className:"h-7 text-xs px-2",children:"Add"})]}),!m[s.id]&&0===s.steps.length&&(0,r.jsx)(G,{variant:"link",size:"sm",className:"h-6 px-0 text-xs text-muted-foreground",onClick:()=>k(s.id),children:"+ Add sub-steps"})]})]})]})})}function q(e){let{goalId:t,steps:s,parentStepIds:n}=e,{reorderSteps:i,addStep:o}=(0,a.Q)(),l=(0,Q.FR)((0,Q.MS)(Q.AN,{activationConstraint:{distance:8}})),d=(e,s,r)=>{s&&o(t,s,r)};return 0===s.length?null:(0,r.jsx)(Q.Mp,{sensors:l,collisionDetection:Q.fp,onDragEnd:e=>{let{active:r,over:a}=e;a&&r.id!==a.id&&i(t,n,s.findIndex(e=>e.id===r.id),s.findIndex(e=>e.id===a.id))},children:(0,r.jsx)(Y.gB,{items:s.map(e=>e.id),strategy:Y._G,children:(0,r.jsx)("ul",{className:"space-y-2 ml-1",children:s.map(e=>(0,r.jsx)(J,{step:e,goalId:t,parentStepIds:n,onAddSubStep:d},e.id))})})})}function X(e){var t;let{goal:s,onAddStep:n,stepInputs:i,onStepInputChange:o}=e,{deleteGoal:l}=(0,a.Q)(),{attributes:d,listeners:c,setNodeRef:u,transform:p,transition:m,isDragging:f}=(0,Y.gl)({id:s.id}),x={transform:V.Ks.Transform.toString(p),transition:m,opacity:f?.4:1};return(0,r.jsxs)(E,{className:"shadow-sm",ref:u,style:x,children:[(0,r.jsxs)(T,{className:"pb-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{...d,...c,className:"cursor-grab text-muted-foreground hover:text-foreground",children:(0,r.jsx)(B.A,{className:"h-5 w-5"})}),(0,r.jsx)(P,{children:s.title})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(L,{goalId:s.id,parentStepIds:[],stepText:s.title+(s.description?" - ".concat(s.description):"")}),(0,r.jsx)(G,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground hover:text-destructive",onClick:()=>l(s.id),children:"Delete"})]})]}),s.description&&(0,r.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:s.description})]}),(0,r.jsx)(D,{className:"pb-2",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(q,{goalId:s.id,steps:s.steps,parentStepIds:[]}),(0,r.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,r.jsx)(O,{placeholder:"Add a new step",value:i[s.id]||"",onChange:e=>o(s.id,e.target.value),onKeyDown:e=>{var t;"Enter"===e.key&&(null==(t=i[s.id])?void 0:t.trim())&&n(s.id,i[s.id])}}),(0,r.jsx)(G,{onClick:()=>n(s.id,i[s.id]),disabled:!(null==(t=i[s.id])?void 0:t.trim()),size:"sm",children:"Add"})]})]})})]},s.id)}function H(e){let{goals:t}=e,{addStep:s,reorderGoals:i}=(0,a.Q)(),[o,l]=(0,n.useState)({}),d=(0,Q.FR)((0,Q.MS)(Q.AN,{activationConstraint:{distance:8}})),c=(e,t)=>{let r=null==t?void 0:t.trim();r&&(s(e,r,[]),l(t=>({...t,[e]:""})))},u=(e,t)=>{l(s=>({...s,[e]:t}))};return(0,r.jsx)(Q.Mp,{sensors:d,collisionDetection:Q.fp,onDragEnd:e=>{let{active:s,over:r}=e;r&&s.id!==r.id&&i(t.findIndex(e=>e.id===s.id),t.findIndex(e=>e.id===r.id))},children:(0,r.jsx)(Y.gB,{items:t.map(e=>e.id),strategy:Y._G,children:(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsx)(X,{goal:e,onAddStep:c,stepInputs:o,onStepInputChange:u},e.id))})})})}function Z(){let{addGoal:e}=(0,a.Q)(),[t,s]=(0,n.useState)(""),[i,o]=(0,n.useState)("");return(0,r.jsxs)("form",{className:"space-y-4 p-4 border rounded-lg bg-card",onSubmit:r=>{r.preventDefault(),t.trim()&&(e(t.trim(),i.trim()),s(""),o(""))},children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Add New Project Goal"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"title",className:"text-sm font-medium",children:"Goal Title"}),(0,r.jsx)(O,{id:"title",value:t,onChange:e=>s(e.target.value),placeholder:"Enter goal title",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description (optional)"}),(0,r.jsx)(O,{id:"description",value:i,onChange:e=>o(e.target.value),placeholder:"Enter goal description"})]}),(0,r.jsx)(G,{type:"submit",disabled:!t.trim(),children:"Add Goal"})]})}var $=s(7234);let W=$.bL,ee=$.l9,et=$.ZL;$.bm;let es=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)($.hJ,{ref:t,className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});es.displayName=$.hJ.displayName;let er=n.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(et,{children:[(0,r.jsx)(es,{}),(0,r.jsxs)($.UC,{ref:t,className:b("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[a,(0,r.jsxs)($.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});er.displayName=$.UC.displayName;let ea=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:b("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};ea.displayName="DialogHeader";let en=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:b("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};en.displayName="DialogFooter";let ei=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)($.hE,{ref:t,className:b("text-lg font-semibold leading-none tracking-tight",s),...a})});ei.displayName=$.hE.displayName;let eo=n.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)($.VY,{ref:t,className:b("text-sm text-muted-foreground",s),...a})});function el(e){let{onApiKeyChange:t}=e,[s,a]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),{toast:l}=f();return(0,n.useEffect)(()=>{let e=localStorage.getItem("googleApiKey");e&&(a(e),t(e))},[t]),(0,r.jsxs)(W,{open:i,onOpenChange:o,children:[(0,r.jsx)(ee,{asChild:!0,children:(0,r.jsx)(G,{variant:"outline",size:"sm",className:"h-8",children:s?"Update API Key":"Set API Key"})}),(0,r.jsxs)(er,{children:[(0,r.jsxs)(ea,{children:[(0,r.jsx)(ei,{children:"Google AI API Key"}),(0,r.jsx)(eo,{children:"Enter your Google AI Studio Flash 2.0 API key to enable AI task breakdown. Your API key will be stored locally in your browser."})]}),(0,r.jsxs)("div",{className:"space-y-4 py-2",children:[(0,r.jsx)(O,{placeholder:"Google AI API Key",value:s,onChange:e=>a(e.target.value),type:"password"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You can get an API key from"," ",(0,r.jsx)("a",{href:"https://aistudio.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google AI Studio"})]})]}),(0,r.jsxs)(en,{children:[(0,r.jsx)(G,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),(0,r.jsx)(G,{onClick:()=>{s.trim()?(localStorage.setItem("googleApiKey",s),t(s),o(!1),l({title:"API Key Saved",description:"Your Google AI API key has been saved"})):l({title:"Error",description:"Please enter a valid API key",variant:"destructive"})},children:"Save API Key"})]})]})]})}eo.displayName=$.VY.displayName;let ed={src:"/goTrack/_next/static/media/logo.2693563f.png"};function ec(){let{goals:e,setGoogleApiKey:t}=(0,a.Q)();return(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4 md:px-6",children:[(0,r.jsxs)("header",{className:"mb-8 text-center",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center mb-2",children:[(0,r.jsx)("img",{src:ed.src,alt:"GoTrack Logo",width:150,height:50}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)(el,{onApiKeyChange:t})})]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Set project goals, break them down into steps, and track your progress"})]}),(0,r.jsxs)("div",{className:"grid gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Goals"}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-8 border rounded-lg",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"You don't have any goals yet."}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Create a new goal to get started!"})]}):(0,r.jsx)(H,{goals:e})]}),(0,r.jsx)("div",{children:(0,r.jsx)(Z,{})})]}),(0,r.jsx)(C,{})]})}},6381:(e,t,s)=>{Promise.resolve().then(s.bind(s,5e3))},7945:(e,t,s)=>{"use strict";s.d(t,{GoalsProvider:()=>l,Q:()=>o});var r=s(5155),a=s(2115),n=s(402);let i=(0,a.createContext)({goals:[],addGoal:()=>{},deleteGoal:()=>{},addStep:()=>{},addMultipleSteps:()=>{},toggleStepCompletion:()=>{},deleteStep:()=>{},reorderGoals:()=>{},reorderSteps:()=>{},googleApiKey:"",setGoogleApiKey:()=>{}}),o=()=>(0,a.useContext)(i),l=e=>{let{children:t}=e,[s,o]=(0,a.useState)([]),[l,d]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=localStorage.getItem("goals");if(e)try{o(JSON.parse(e))}catch(e){console.error("Error parsing stored goals:",e),o([])}},[]),(0,a.useEffect)(()=>{localStorage.setItem("goals",JSON.stringify(s))},[s]);let c=(e,t,s,r)=>{if(0===s.length)return e.map(e=>{if(e.id===t){let t=r(e);return null===t?null:t}return e}).filter(Boolean);let a=s[0],n=s.slice(1);return e.map(e=>e.id===a?{...e,steps:c(e.steps,t,n,r)}:e)};return(0,r.jsx)(i.Provider,{value:{goals:s,addGoal:(e,t)=>{o(s=>[...s,{id:crypto.randomUUID(),title:e,description:t,steps:[]}])},deleteGoal:e=>{o(t=>t.filter(t=>t.id!==e))},addStep:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o(r=>r.map(r=>{if(r.id!==e)return r;if(0===s.length)return{...r,steps:[...r.steps,{id:crypto.randomUUID(),text:t,completed:!1,steps:[]}]};let a=[...r.steps],n=(e,s,r)=>r>=s.length?e:e.map(e=>e.id===s[r]?r===s.length-1?{...e,steps:[...e.steps,{id:crypto.randomUUID(),text:t,completed:!1,steps:[]}]}:{...e,steps:n(e.steps,s,r+1)}:e);return{...r,steps:n(a,s,0)}}))},addMultipleSteps:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];0!==t.length&&o(r=>r.map(r=>{if(r.id!==e)return r;if(0===s.length)return{...r,steps:[...r.steps,...t.map(e=>({id:crypto.randomUUID(),text:e,completed:!1,steps:[]}))]};let a=[...r.steps],n=(e,s,r)=>r>=s.length?e:e.map(e=>e.id===s[r]?r===s.length-1?{...e,steps:[...e.steps,...t.map(e=>({id:crypto.randomUUID(),text:e,completed:!1,steps:[]}))]}:{...e,steps:n(e.steps,s,r+1)}:e);return{...r,steps:n(a,s,0)}}))},toggleStepCompletion:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o(r=>r.map(r=>{if(r.id!==e)return r;let a=e=>({...e,completed:!e.completed});return 0===s.length?{...r,steps:r.steps.map(e=>e.id===t?a(e):e)}:{...r,steps:c(r.steps,t,s,a)}}))},deleteStep:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o(r=>r.map(r=>r.id!==e?r:0===s.length?{...r,steps:r.steps.filter(e=>e.id!==t)}:{...r,steps:c(r.steps,t,s,()=>null)}))},reorderGoals:(e,t)=>{o(s=>(0,n.be)(s,e,t))},reorderSteps:(e,t,s,r)=>{o(a=>a.map(a=>{if(a.id!==e)return a;if(0===t.length)return{...a,steps:(0,n.be)(a.steps,s,r)};let i=(e,t,a)=>a>=t.length?e:e.map(e=>e.id===t[a]?a===t.length-1?{...e,steps:(0,n.be)(e.steps,s,r)}:{...e,steps:i(e.steps,t,a+1)}:e);return{...a,steps:i(a.steps,t,0)}}))},googleApiKey:l,setGoogleApiKey:d},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[402,46,441,684,358],()=>t(6381)),_N_E=e.O()}]);