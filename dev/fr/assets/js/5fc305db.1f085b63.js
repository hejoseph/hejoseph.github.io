"use strict";(self.webpackChunkmydevdocs=self.webpackChunkmydevdocs||[]).push([[5579],{3879:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"tech-related/Chatbot/understand-models-max-token","title":"Max Token","description":"Lors de l\u2019utilisation de mod\xe8les d\u2019IA comme GPT via des APIs, comprendre le fonctionnement des tokens est essentiel pour optimiser les performances, ma\xeetriser les co\xfbts et garantir des r\xe9ponses fiables, notamment lors de la g\xe9n\xe9ration de code.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/tech-related/Chatbot/understand-models-max-token.md","sourceDirName":"tech-related/Chatbot","slug":"/tech-related/Chatbot/understand-models-max-token","permalink":"/dev/fr/docs/tech-related/Chatbot/understand-models-max-token","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"API IA","permalink":"/dev/fr/docs/tags/api-ia"},{"inline":true,"label":"tokens","permalink":"/dev/fr/docs/tags/tokens"},{"inline":true,"label":"optimisation des co\xfbts","permalink":"/dev/fr/docs/tags/optimisation-des-couts"}],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Max Token","sidebar_position":6,"tags":["API IA","tokens","optimisation des co\xfbts"]},"sidebar":"tutorialSidebar","previous":{"title":"Gestion des Limites de Tokens","permalink":"/dev/fr/docs/tech-related/Chatbot/optimize-chat-memory-limit-token-reached"},"next":{"title":"Principes Clean Code","permalink":"/dev/fr/docs/tech-related/Clean Code/clean-code-basics"}}');var i=n(4848),r=n(8453);const l={title:"Max Token",sidebar_position:6,tags:["API IA","tokens","optimisation des co\xfbts"]},o="Comprendre les Tokens et max_tokens dans les APIs d\u2019IA",d={},c=[{value:"Qu\u2019est-ce qu\u2019un Token\xa0?",id:"quest-ce-quun-token",level:2},{value:"Qu\u2019est-ce que <code>max_tokens</code>\xa0?",id:"quest-ce-que-max_tokens",level:2},{value:"Points cl\xe9s\xa0:",id:"points-cl\xe9s",level:3},{value:"Pourquoi d\xe9finir <code>max_tokens</code>\xa0?",id:"pourquoi-d\xe9finir-max_tokens",level:2},{value:"Que se passe-t-il si vous ne d\xe9finissez pas <code>max_tokens</code>\xa0?",id:"que-se-passe-t-il-si-vous-ne-d\xe9finissez-pas-max_tokens",level:2},{value:"Pourquoi le code consomme-t-il plus de tokens qu\u2019il n\u2019y para\xeet\xa0?",id:"pourquoi-le-code-consomme-t-il-plus-de-tokens-quil-ny-para\xeet",level:2},{value:"Raisons principales\xa0:",id:"raisons-principales",level:3},{value:"Exemple\xa0:",id:"exemple",level:3},{value:"Bonnes pratiques",id:"bonnes-pratiques",level:2},{value:"Estimer l\u2019utilisation des tokens",id:"estimer-lutilisation-des-tokens",level:2},{value:"R\xe9sum\xe9",id:"r\xe9sum\xe9",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsxs)(s.h1,{id:"comprendre-les-tokens-et-max_tokens-dans-les-apis-dia",children:["Comprendre les Tokens et ",(0,i.jsx)(s.code,{children:"max_tokens"})," dans les APIs d\u2019IA"]})}),"\n",(0,i.jsx)(s.p,{children:"Lors de l\u2019utilisation de mod\xe8les d\u2019IA comme GPT via des APIs, comprendre le fonctionnement des tokens est essentiel pour optimiser les performances, ma\xeetriser les co\xfbts et garantir des r\xe9ponses fiables, notamment lors de la g\xe9n\xe9ration de code."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"quest-ce-quun-token",children:"Qu\u2019est-ce qu\u2019un Token\xa0?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Un ",(0,i.jsx)(s.strong,{children:"token"})," est un fragment de texte\xa0: g\xe9n\xe9ralement un mot, une partie de mot ou un signe de ponctuation."]}),"\n",(0,i.jsxs)(s.li,{children:["Les mod\xe8les traitent les entr\xe9es sous forme de tokens (",(0,i.jsx)(s.code,{children:"prompt tokens"}),") et g\xe9n\xe8rent des sorties (",(0,i.jsx)(s.code,{children:"completion tokens"}),") \xe9galement en tokens."]}),"\n",(0,i.jsx)(s.li,{children:"Chaque mod\xe8le poss\xe8de une limite maximale de tokens (par exemple, GPT-4 peut g\xe9rer jusqu\u2019\xe0 128\xa0000 tokens selon la configuration)."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Exemples\xa0:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'"\xe9l\xe9phant"'})," \u2192 1 token"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'"incroyable"'})," \u2192 2 tokens"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:'"print(i)"'})," \u2192 6 tokens (chaque caract\xe8re ou symbole peut \xeatre un token distinct)"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"quest-ce-que-max_tokens",children:["Qu\u2019est-ce que ",(0,i.jsx)(s.code,{children:"max_tokens"}),"\xa0?"]}),"\n",(0,i.jsxs)(s.p,{children:["Le param\xe8tre ",(0,i.jsx)(s.code,{children:"max_tokens"})," d\xe9finit ",(0,i.jsx)(s.strong,{children:"le nombre maximal de tokens que le mod\xe8le peut g\xe9n\xe9rer dans sa r\xe9ponse"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"points-cl\xe9s",children:"Points cl\xe9s\xa0:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Ce n\u2019est ",(0,i.jsx)(s.strong,{children:"pas une longueur fixe"})," de r\xe9ponse."]}),"\n",(0,i.jsxs)(s.li,{children:["Il ",(0,i.jsx)(s.strong,{children:"limite uniquement la taille maximale"})," de la sortie."]}),"\n",(0,i.jsxs)(s.li,{children:["Le mod\xe8le s\u2019arr\xeate lorsqu\u2019il\xa0:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Atteint une fin naturelle"}),"\n",(0,i.jsx)(s.li,{children:"Rencontre une condition d\u2019arr\xeat"}),"\n",(0,i.jsxs)(s.li,{children:["Atteint la limite ",(0,i.jsx)(s.code,{children:"max_tokens"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"pourquoi-d\xe9finir-max_tokens",children:["Pourquoi d\xe9finir ",(0,i.jsx)(s.code,{children:"max_tokens"}),"\xa0?"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Contr\xf4ler la longueur des r\xe9ponses"}),"\xa0: \xe9viter les r\xe9ponses trop longues."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"G\xe9rer les co\xfbts"}),"\xa0: la facturation se fait par token (entr\xe9e + sortie)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Pr\xe9venir les erreurs"}),"\xa0: rester dans la limite totale de tokens du mod\xe8le."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Comportement pr\xe9visible"}),"\xa0: utile pour des r\xe9ponses de complexit\xe9 ou de longueur connue."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"que-se-passe-t-il-si-vous-ne-d\xe9finissez-pas-max_tokens",children:["Que se passe-t-il si vous ne d\xe9finissez pas ",(0,i.jsx)(s.code,{children:"max_tokens"}),"\xa0?"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Le mod\xe8le utilise une limite interne par d\xe9faut (variable selon le mod\xe8le)."}),"\n",(0,i.jsxs)(s.li,{children:["Risques encourus\xa0:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Temps de r\xe9ponse plus longs"}),"\n",(0,i.jsx)(s.li,{children:"Co\xfbts plus \xe9lev\xe9s"}),"\n",(0,i.jsx)(s.li,{children:"D\xe9passement involontaire de la limite de contexte"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"pourquoi-le-code-consomme-t-il-plus-de-tokens-quil-ny-para\xeet",children:"Pourquoi le code consomme-t-il plus de tokens qu\u2019il n\u2019y para\xeet\xa0?"}),"\n",(0,i.jsx)(s.p,{children:"M\xeame de petits extraits de code peuvent utiliser beaucoup de tokens \xe0 cause de leur structure et de leur syntaxe."}),"\n",(0,i.jsx)(s.h3,{id:"raisons-principales",children:"Raisons principales\xa0:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Densit\xe9 \xe9lev\xe9e de tokens"}),"\xa0: chaque symbole, mot-cl\xe9 ou indentation peut \xeatre un token distinct."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Surcharge de formatage"}),"\xa0: sauts de ligne, indentations, commentaires et structure augmentent le nombre de tokens."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Instructions du prompt"}),"\xa0: demander des commentaires d\xe9taill\xe9s ou plusieurs fonctionnalit\xe9s augmente la sortie."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"exemple",children:"Exemple\xa0:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"for i in range(10):\r\n    print(i)\n"})}),"\n",(0,i.jsxs)(s.p,{children:["Ce code de 3 lignes consomme environ ",(0,i.jsx)(s.strong,{children:"10 tokens"})," ou plus."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"bonnes-pratiques",children:"Bonnes pratiques"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Objectif"}),(0,i.jsx)(s.th,{children:"Recommandation"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"R\xe9ponse courte"}),(0,i.jsxs)(s.td,{children:["D\xe9finir un ",(0,i.jsx)(s.code,{children:"max_tokens"})," bas et pr\xe9ciser \xab\xa0bri\xe8vement\xa0\xbb dans le prompt"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"R\xe9ponse longue et d\xe9taill\xe9e"}),(0,i.jsxs)(s.td,{children:["D\xe9finir un ",(0,i.jsx)(s.code,{children:"max_tokens"})," \xe9lev\xe9 (ex\xa0: 800\u20131000)"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Ma\xeetrise des co\xfbts"}),(0,i.jsxs)(s.td,{children:["Fixer une limite stricte de ",(0,i.jsx)(s.code,{children:"max_tokens"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"R\xe9ponses flexibles"}),(0,i.jsx)(s.td,{children:"D\xe9finir une limite g\xe9n\xe9reuse et laisser le mod\xe8le d\xe9cider"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"G\xe9n\xe9ration de code"}),(0,i.jsx)(s.td,{children:"\xcatre concis dans le prompt et limiter la verbosit\xe9"})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"estimer-lutilisation-des-tokens",children:"Estimer l\u2019utilisation des tokens"}),"\n",(0,i.jsxs)(s.p,{children:["Utilisez des biblioth\xe8ques comme ",(0,i.jsx)(s.code,{children:"tiktoken"})," pour estimer le nombre de tokens dans votre prompt et ajuster votre ",(0,i.jsx)(s.code,{children:"max_tokens"})," en cons\xe9quence."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"r\xe9sum\xe9",children:"R\xe9sum\xe9"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Les ",(0,i.jsx)(s.strong,{children:"tokens"})," sont l\u2019unit\xe9 de base des mod\xe8les d\u2019IA."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"max_tokens"})," d\xe9finit une limite maximale, pas une cible."]}),"\n",(0,i.jsxs)(s.li,{children:["Le code est ",(0,i.jsx)(s.strong,{children:"court visuellement mais dense en tokens"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Ajustez ",(0,i.jsx)(s.code,{children:"max_tokens"})," pour ",(0,i.jsx)(s.strong,{children:"\xe9quilibrer co\xfbt, performance et qualit\xe9"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Une gestion judicieuse des tokens permet d\u2019optimiser le comportement et l\u2019efficacit\xe9 de vos applications IA."})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var t=n(6540);const i={},r=t.createContext(i);function l(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);