"use strict";(self.webpackChunkmydevdocs=self.webpackChunkmydevdocs||[]).push([[5699],{825:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>a,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"javascript/nodejs/export","title":"Diff\xe9rence entre export default et module.exports = {}","description":"En JavaScript, notamment avec Node.js et les outils front-end (Webpack, Babel, etc.), on rencontre deux syst\xe8mes de modules principaux :","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/javascript/nodejs/export.md","sourceDirName":"javascript/nodejs","slug":"/javascript/nodejs/export","permalink":"/dev/fr/docs/javascript/nodejs/export","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"NodeJs","permalink":"/dev/fr/docs/category/nodejs"},"next":{"title":"React","permalink":"/dev/fr/docs/category/react"}}');var r=s(4848),d=s(8453);const o={},l="Diff\xe9rence entre export default et module.exports = {}",t={},c=[{value:"Comparaison de syntaxe",id:"comparaison-de-syntaxe",level:2},{value:"CommonJS",id:"commonjs",level:3},{value:"ES Modules",id:"es-modules",level:3},{value:"Principales diff\xe9rences",id:"principales-diff\xe9rences",level:2},{value:"Quand utiliser chaque option",id:"quand-utiliser-chaque-option",level:2},{value:"Utilisez <code>module.exports</code> lorsque :",id:"utilisez-moduleexports-lorsque-",level:3},{value:"Utilisez <code>export default</code> lorsque :",id:"utilisez-export-default-lorsque-",level:3},{value:"Pour les fichiers de configuration",id:"pour-les-fichiers-de-configuration",level:2},{value:"Utilisez <code>module.exports</code> si :",id:"utilisez-moduleexports-si-",level:3},{value:"Utilisez <code>export default</code> si :",id:"utilisez-export-default-si-",level:3},{value:"Quand <strong>ne pas</strong> utiliser l\u2019un ou l\u2019autre",id:"quand-ne-pas-utiliser-lun-ou-lautre",level:2},{value:"R\xe9sum\xe9",id:"r\xe9sum\xe9",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsxs)(n.h1,{id:"diff\xe9rence-entre-export-default-et-moduleexports--",children:["Diff\xe9rence entre ",(0,r.jsx)(n.code,{children:"export default"})," et ",(0,r.jsx)(n.code,{children:"module.exports = {}"})]})}),"\n",(0,r.jsx)(n.p,{children:"En JavaScript, notamment avec Node.js et les outils front-end (Webpack, Babel, etc.), on rencontre deux syst\xe8mes de modules principaux :"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CommonJS (CJS)"})," \u2013 utilis\xe9 principalement dans Node.js."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ES Modules (ESM)"})," \u2013 le syst\xe8me de modules moderne, pris en charge nativement par les navigateurs r\xe9cents et les versions modernes de Node.js."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"comparaison-de-syntaxe",children:"Comparaison de syntaxe"}),"\n",(0,r.jsx)(n.h3,{id:"commonjs",children:"CommonJS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// config.cjs\r\nmodule.exports = {\r\n  port: 3000,\r\n  db: 'mongo'\r\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"es-modules",children:"ES Modules"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'// config.mjs ou config.js (avec "type": "module" dans package.json)\r\nexport default {\r\n  port: 3000,\r\n  db: \'mongo\'\r\n};\n'})}),"\n",(0,r.jsx)(n.h2,{id:"principales-diff\xe9rences",children:"Principales diff\xe9rences"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Fonctionnalit\xe9"}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.code,{children:"module.exports"})," (CommonJS)"]}),(0,r.jsxs)(n.th,{children:[(0,r.jsx)(n.code,{children:"export default"})," (ESM)"]})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Syst\xe8me de modules"}),(0,r.jsx)(n.td,{children:"CommonJS"}),(0,r.jsx)(n.td,{children:"ES Modules"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Moment d\u2019ex\xe9cution"}),(0,r.jsx)(n.td,{children:"Synchrone"}),(0,r.jsx)(n.td,{children:"Asynchrone"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Extension de fichier"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:".cjs"})," ou ",(0,r.jsx)(n.code,{children:".js"})," (par d\xe9faut dans Node)"]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:".mjs"})," ou ",(0,r.jsx)(n.code,{children:".js"})," (si ",(0,r.jsx)(n.code,{children:'"type": "module"'}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Support de ",(0,r.jsx)(n.code,{children:"require()"})]}),(0,r.jsx)(n.td,{children:"Oui"}),(0,r.jsx)(n.td,{children:"Non"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Support de ",(0,r.jsx)(n.code,{children:"import"})]}),(0,r.jsx)(n.td,{children:"Non"}),(0,r.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"quand-utiliser-chaque-option",children:"Quand utiliser chaque option"}),"\n",(0,r.jsxs)(n.h3,{id:"utilisez-moduleexports-lorsque-",children:["Utilisez ",(0,r.jsx)(n.code,{children:"module.exports"})," lorsque :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Vous \xe9crivez du code pour Node.js en environnement CommonJS."}),"\n",(0,r.jsxs)(n.li,{children:["Vous ou vos d\xe9pendances utilisez ",(0,r.jsx)(n.code,{children:"require()"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Vous ne d\xe9finissez pas ",(0,r.jsx)(n.code,{children:'"type": "module"'})," dans votre ",(0,r.jsx)(n.code,{children:"package.json"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"utilisez-export-default-lorsque-",children:["Utilisez ",(0,r.jsx)(n.code,{children:"export default"})," lorsque :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Vous \xe9crivez du code moderne pour des environnements compatibles ESM (navigateurs, Deno, Node.js ESM)."}),"\n",(0,r.jsxs)(n.li,{children:["Vous avez ",(0,r.jsx)(n.code,{children:'"type": "module"'})," dans votre ",(0,r.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Vous utilisez des outils comme Babel, Webpack ou TypeScript qui prennent en charge ESM."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"pour-les-fichiers-de-configuration",children:"Pour les fichiers de configuration"}),"\n",(0,r.jsxs)(n.h3,{id:"utilisez-moduleexports-si-",children:["Utilisez ",(0,r.jsx)(n.code,{children:"module.exports"})," si :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["L\u2019outil utilis\xe9 (Webpack, ESLint, Mocha\u2026) attend un format CommonJS.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// webpack.config.js\r\nmodule.exports = {\r\n  entry: './src/index.js'\r\n};\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"utilisez-export-default-si-",children:["Utilisez ",(0,r.jsx)(n.code,{children:"export default"})," si :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"L\u2019outil supporte ou attend explicitement le format ESM."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Vous utilisez des fichiers ",(0,r.jsx)(n.code,{children:".mjs"})," ou avez activ\xe9 ",(0,r.jsx)(n.code,{children:'"type": "module"'}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// vite.config.js\r\nexport default {\r\n  root: './src'\r\n};\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"quand-ne-pas-utiliser-lun-ou-lautre",children:["Quand ",(0,r.jsx)(n.strong,{children:"ne pas"})," utiliser l\u2019un ou l\u2019autre"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["N\u2019utilisez pas ",(0,r.jsx)(n.code,{children:"export default"})," dans un environnement uniquement CommonJS"]})," \u2013 cela provoquera une erreur de syntaxe ou un \xe9chec \xe0 l\u2019importation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["N\u2019utilisez pas ",(0,r.jsx)(n.code,{children:"module.exports"})," dans un projet ESM"]})," \u2013 cela peut provoquer des probl\xe8mes de compatibilit\xe9 ou n\xe9cessiter des contournements (",(0,r.jsx)(n.code,{children:"createRequire()"})," par exemple)."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"r\xe9sum\xe9",children:"R\xe9sum\xe9"}),"\n",(0,r.jsx)(n.p,{children:"Faites votre choix en fonction de :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"L\u2019environnement cible (Node.js vs Navigateur)"}),"\n",(0,r.jsx)(n.li,{children:"Les exigences de vos outils"}),"\n",(0,r.jsx)(n.li,{children:"La configuration du syst\xe8me de modules"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\xc9vitez de m\xe9langer ESM et CommonJS autant que possible pour pr\xe9venir les bugs subtils et les probl\xe8mes de compatibilit\xe9."})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(6540);const r={},d=i.createContext(r);function o(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);