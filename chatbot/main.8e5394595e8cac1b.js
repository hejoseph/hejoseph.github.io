"use strict";(self.webpackChunkchatbot=self.webpackChunkchatbot||[]).push([[792],{823:()=>{function Ki(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function pe(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){Ki(o,r,i,s,a,"next",l)}function a(l){Ki(o,r,i,s,a,"throw",l)}s(void 0)})}}let Ne=null,ks=1;const lr=Symbol("SIGNAL");function G(e){const t=Ne;return Ne=e,t}function Dp(e){if((!Zi(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ks)){if(!e.producerMustRecompute(e)&&!_c(e))return e.dirty=!1,void(e.lastCleanEpoch=ks);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ks}}function _c(e){jr(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Dp(n),r!==n.version))return!0}return!1}function Fs(e,t){if(function Tp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),jr(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Fs(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];jr(i),i.producerIndexOfThis[r]=t}}function Zi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function jr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ap=null;function Le(e){return"function"==typeof e}function Pp(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Cc=Pp(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Rs(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class kt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Le(r))try{r()}catch(o){t=o instanceof Cc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Fp(o)}catch(s){t=t??[],s instanceof Cc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Cc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Fp(t);else{if(t instanceof kt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Rs(n,t)}remove(t){const{_finalizers:n}=this;n&&Rs(n,t),t instanceof kt&&t._removeParent(this)}}kt.EMPTY=(()=>{const e=new kt;return e.closed=!0,e})();const xp=kt.EMPTY;function kp(e){return e instanceof kt||e&&"closed"in e&&Le(e.remove)&&Le(e.add)&&Le(e.unsubscribe)}function Fp(e){Le(e)?e():e.unsubscribe()}const cr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ls={setTimeout(e,t,...n){const{delegate:r}=Ls;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ls;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Rp(e){Ls.setTimeout(()=>{const{onUnhandledError:t}=cr;if(!t)throw e;t(e)})}function Vs(){}const bS=wc("C",void 0,void 0);function wc(e,t,n){return{kind:e,value:t,error:n}}let ur=null;function js(e){if(cr.useDeprecatedSynchronousErrorHandling){const t=!ur;if(t&&(ur={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ur;if(ur=null,n)throw r}}else e()}class bc extends kt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,kp(t)&&t.add(this)):this.destination=NS}static create(t,n,r){return new Sc(t,n,r)}next(t){this.isStopped?Mc(function SS(e){return wc("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Mc(function ES(e){return wc("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Mc(bS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IS=Function.prototype.bind;function Ec(e,t){return IS.call(e,t)}class TS{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Bs(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Bs(r)}else Bs(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Bs(n)}}}class Sc extends bc{constructor(t,n,r){let i;if(super(),Le(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&cr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ec(t.next,o),error:t.error&&Ec(t.error,o),complete:t.complete&&Ec(t.complete,o)}):i=t}this.destination=new TS(i)}}function Bs(e){cr.useDeprecatedSynchronousErrorHandling?function MS(e){cr.useDeprecatedSynchronousErrorHandling&&ur&&(ur.errorThrown=!0,ur.error=e)}(e):Rp(e)}function Mc(e,t){const{onStoppedNotification:n}=cr;n&&Ls.setTimeout(()=>n(e,t))}const NS={closed:!0,next:Vs,error:function AS(e){throw e},complete:Vs},Ic="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lp(e){return e}let Ze=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function PS(e){return e&&e instanceof bc||function OS(e){return e&&Le(e.next)&&Le(e.error)&&Le(e.complete)}(e)&&kp(e)}(n)?n:new Sc(n,r,i);return js(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=jp(r))((i,o)=>{const s=new Sc({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ic](){return this}pipe(...n){return function Vp(e){return 0===e.length?Lp:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=jp(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function jp(e){var t;return null!==(t=e??cr.Promise)&&void 0!==t?t:Promise}const xS=Pp(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Br=(()=>{class e extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Bp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xS}next(n){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?xp:(this.currentObservers=null,o.push(n),new kt(()=>{this.currentObservers=null,Rs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ze;return n.source=this,n}}return e.create=(t,n)=>new Bp(t,n),e})();class Bp extends Br{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:xp}}class Hs extends Br{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function dr(e){return t=>{if(function kS(e){return Le(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bn(e,t,n,r,i){return new FS(e,t,n,r,i)}class FS extends bc{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Yi(e,t){return dr((n,r)=>{let i=0;n.subscribe(Bn(r,o=>{r.next(e.call(t,o,i++))}))})}class D extends Error{constructor(t,n){super(function Hr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function En(e){return{toString:e}.toString()}const ae=globalThis;function ue(e){for(let t in e)if(e[t]===ue)return t;throw Error("Could not find renamed property on target object.")}function RS(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function He(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(He).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ac(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const LS=ue({__forward_ref__:ue});function me(e){return e.__forward_ref__=me,e.toString=function(){return He(this())},e}function x(e){return Us(e)?e():e}function Us(e){return"function"==typeof e&&e.hasOwnProperty(LS)&&e.__forward_ref__===me}function K(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function zs(e){return Gp(e,qs)||Gp(e,qp)}function Gp(e,t){return e.hasOwnProperty(t)?e[t]:null}function Gs(e){return e&&(e.hasOwnProperty(Nc)||e.hasOwnProperty($S))?e[Nc]:null}const qs=ue({\u0275prov:ue}),Nc=ue({\u0275inj:ue}),qp=ue({ngInjectableDef:ue}),$S=ue({ngInjectorDef:ue});class A{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fc(e){return e&&!!e.\u0275providers}const Xi=ue({\u0275cmp:ue}),Rc=ue({\u0275dir:ue}),Lc=ue({\u0275pipe:ue}),Mn=ue({\u0275fac:ue}),Ji=ue({__NG_ELEMENT_ID__:ue}),Qp=ue({__NG_ENV_ID__:ue});function j(e){return"string"==typeof e?e:null==e?"":String(e)}function Vc(e,t){throw new D(-201,!1)}var Y=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Y||{});let jc;function Zp(){return jc}function gt(e){const t=jc;return jc=e,t}function Yp(e,t,n){const r=zs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Y.Optional?null:void 0!==t?t:void Vc()}const eo={},Bc="__NG_DI_FLAG__",Ws="ngTempTokenPath",KS=/\n/gm,Xp="__source";let qr;function $n(e){const t=qr;return qr=e,t}function YS(e,t=Y.Default){if(void 0===qr)throw new D(-203,!1);return null===qr?Yp(e,void 0,t):qr.get(e,t&Y.Optional?null:void 0,t)}function Q(e,t=Y.Default){return(Zp()||YS)(x(e),t)}function B(e,t=Y.Default){return Q(e,Ks(t))}function Ks(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hc(e){const t=[];for(let n=0;n<e.length;n++){const r=x(e[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){const a=r[s],l=XS(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(Q(i,o))}else t.push(Q(r))}return t}function XS(e){return e[Bc]}function fr(e,t){return e.hasOwnProperty(Mn)?e[Mn]:null}function Wr(e,t){e.forEach(n=>Array.isArray(n)?Wr(n,t):t(n))}function eg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bt(e,t,n){let r=Kr(e,t);return r>=0?e[1|r]=n:(r=~r,function tg(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Gc(e,t){const n=Kr(e,t);if(n>=0)return e[1|n]}function Kr(e,t){return function ng(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const nn={},J=[],Qr=new A(""),rg=new A("",-1),qc=new A("");class Ys{get(t,n=eo){if(n===eo){const r=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw r.name="NullInjectorError",r}return n}}var Xs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xs||{}),Bt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Bt||{}),Ae=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ae||{});function oM(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Wc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];og(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function ig(e){return 3===e||4===e||6===e}function og(e){return 64===e.charCodeAt(0)}function no(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||sg(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function sg(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const ag="ng-template";function sM(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==oM(t[i+1].toLowerCase(),n,0))return!0}else if(Kc(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function Kc(e){return 4===e.type&&e.value!==ag}function aM(e,t,n){return t===(4!==e.type||n?e.value:ag)}function lM(e,t,n){let r=4;const i=e.attrs,o=null!==i?function dM(e){for(let t=0;t<e.length;t++)if(ig(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!aM(e,l,n)||""===l&&1===t.length){if(Ht(r))return!1;s=!0}}else if(8&r){if(null===i||!sM(e,i,l,n)){if(Ht(r))return!1;s=!0}}else{const c=t[++a],u=cM(l,i,Kc(e),n);if(-1===u){if(Ht(r))return!1;s=!0;continue}if(""!==c){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&c!==d){if(Ht(r))return!1;s=!0}}}}else{if(!s&&!Ht(r)&&!Ht(l))return!1;if(s&&Ht(l))continue;s=!1,r=l|1&r}}return Ht(r)||s}function Ht(e){return!(1&e)}function cM(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function fM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function lg(e,t,n=!1){for(let r=0;r<t.length;r++)if(lM(e,t[r],n))return!0;return!1}function cg(e,t){return e?":not("+t.trim()+")":t}function pM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ht(s)&&(t+=cg(o,i),i=""),r=s,o=o||!Ht(r);n++}return""!==i&&(t+=cg(o,i)),t}function $t(e){return En(()=>{const t=dg(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Bt.Emulated,styles:e.styles||J,_:null,schemas:e.schemas||null,tView:null,id:""};fg(n);const r=e.dependencies;return n.directiveDefs=Js(r,!1),n.pipeDefs=Js(r,!0),n.id=function DM(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function yM(e){return W(e)||$e(e)}function vM(e){return null!==e}function Un(e){return En(()=>({type:e.type,bootstrap:e.bootstrap||J,declarations:e.declarations||J,imports:e.imports||J,exports:e.exports||J,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ug(e,t){if(null==e)return nn;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=Ae.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ae.None?[r,a]:r,t[o]=s):n[o]=r}return n}function $(e){return En(()=>{const t=dg(e);return fg(t),t})}function W(e){return e[Xi]||null}function $e(e){return e[Rc]||null}function Ye(e){return e[Lc]||null}function dg(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||nn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||J,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ug(e.inputs,t),outputs:ug(e.outputs),debugInfo:null}}function fg(e){e.features?.forEach(t=>t(e))}function Js(e,t){if(!e)return null;const n=t?Ye:yM;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(vM)}function hg(...e){return{\u0275providers:Qc(0,e),\u0275fromNgModule:!0}}function Qc(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Wr(t,s=>{const a=s;ta(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&pg(i,o),n}function pg(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Zc(i,o=>{t(o,r)})}}function ta(e,t,n,r){if(!(e=x(e)))return!1;let i=null,o=Gs(e);const s=!o&&W(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=Gs(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)ta(c,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Wr(o.imports,u=>{ta(u,t,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&pg(c,t)}if(!a){const c=fr(i)||(()=>new i);t({provide:i,useFactory:c,deps:J},i),t({provide:qc,useValue:i,multi:!0},i),t({provide:Qr,useValue:()=>Q(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;Zc(l,u=>{t(u,c)})}}}return i!==e&&void 0!==e.providers}function Zc(e,t){for(let n of e)Fc(n)&&(n=n.\u0275providers),Array.isArray(n)?Zc(n,t):t(n)}const CM=ue({provide:String,useValue:ue});function Yc(e){return null!==e&&"object"==typeof e&&CM in e}function pr(e){return"function"==typeof e}const Xc=new A(""),na={},bM={};let Jc;function ra(){return void 0===Jc&&(Jc=new Ys),Jc}class rn{}class Zr extends rn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tu(t,s=>this.processProvider(s)),this.records.set(rg,Yr(void 0,this)),i.has("environment")&&this.records.set(rn,Yr(void 0,this));const o=this.records.get(Xc);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qc,J,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=G(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$n(this),r=gt(void 0);try{return t()}finally{$n(n),gt(r)}}get(t,n=eo,r=Y.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Qp))return t[Qp](this);r=Ks(r);const o=$n(this),s=gt(void 0);try{if(!(r&Y.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function TM(e){return"function"==typeof e||"object"==typeof e&&e instanceof A}(t)&&zs(t);l=c&&this.injectableDefInScope(c)?Yr(eu(t),na):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&Y.Self?ra():this.parent).get(t,n=r&Y.Optional&&n===eo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ws]=a[Ws]||[]).unshift(He(t)),o)throw a;return function JS(e,t,n,r){const i=e[Ws];throw t[Xp]&&i.unshift(t[Xp]),e.message=function eM(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=He(t);if(Array.isArray(t))i=t.map(He).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(KS,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Ws]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{gt(s),$n(o)}}resolveInjectorInitializers(){const t=G(null),n=$n(this),r=gt(void 0);try{const o=this.get(Qr,J,Y.Self);for(const s of o)s()}finally{$n(n),gt(r),G(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(He(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(t){let n=pr(t=x(t))?t:x(t&&t.provide);const r=function SM(e){return Yc(e)?Yr(void 0,e.useValue):Yr(yg(e),na)}(t);if(!pr(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Yr(void 0,na,!0),i.factory=()=>Hc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=G(null);try{return n.value===na&&(n.value=bM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function IM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=x(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function eu(e){const t=zs(e),n=null!==t?t.factory:fr(e);if(null!==n)return n;if(e instanceof A)throw new D(204,!1);if(e instanceof Function)return function EM(e){if(e.length>0)throw new D(204,!1);const n=function HS(e){return e&&(e[qs]||e[qp])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new D(204,!1)}function yg(e,t,n){let r;if(pr(e)){const i=x(e);return fr(i)||eu(i)}if(Yc(e))r=()=>x(e.useValue);else if(function mg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Hc(e.deps||[]));else if(function gg(e){return!(!e||!e.useExisting)}(e))r=()=>Q(x(e.useExisting));else{const i=x(e&&(e.useClass||e.provide));if(!function MM(e){return!!e.deps}(e))return fr(i)||eu(i);r=()=>new i(...Hc(e.deps))}return r}function Yr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function tu(e,t){for(const n of e)Array.isArray(n)?tu(n,t):n&&Fc(n)?tu(n.\u0275providers,t):t(n)}const Ee=0,b=1,T=2,Oe=3,Ut=4,et=5,Et=6,Jr=7,ye=8,Ve=9,zt=10,F=11,io=12,Cg=13,ei=14,Me=15,oo=16,ti=17,In=18,so=19,wg=20,zn=21,sa=22,gr=23,H=25,ru=1,on=7,ni=9,Pe=10;var iu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(iu||{});function tt(e){return Array.isArray(e)&&"object"==typeof e[ru]}function nt(e){return Array.isArray(e)&&!0===e[ru]}function ou(e){return!!(4&e.flags)}function mr(e){return e.componentOffset>-1}function la(e){return!(1&~e.flags)}function Gt(e){return!!e.template}function su(e){return!!(512&e[T])}class HM{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mg(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function sn(){return Ig}function Ig(e){return e.type.prototype.ngOnChanges&&(e.setInput=UM),$M}function $M(){const e=Ag(this),t=e?.current;if(t){const n=e.previous;if(n===nn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function UM(e,t,n,r,i){const o=this.declaredInputs[r],s=Ag(e)||function zM(e,t){return e[Tg]=t}(e,{previous:nn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new HM(c&&c.currentValue,n,l===nn),Mg(e,t,i,n)}sn.ngInherit=!0;const Tg="__ngSimpleChanges__";function Ag(e){return e[Tg]||null}const an=function(e,t,n){},Ng="svg";let Pg=!1;function he(e){for(;Array.isArray(e);)e=e[Ee];return e}function lo(e,t){return he(t[e])}function lt(e,t){return he(t[e.index])}function co(e,t){return e.data[t]}function St(e,t){const n=t[e];return tt(n)?n:n[Ee]}function du(e){return!(128&~e[T])}function ln(e,t){return null==t?null:e[t]}function xg(e){e[ti]=0}function ZM(e){1024&e[T]||(e[T]|=1024,du(e)&&uo(e))}function fu(e){return!!(9216&e[T]||e[gr]?.dirty)}function hu(e){e[zt].changeDetectionScheduler?.notify(1),fu(e)?uo(e):64&e[T]&&(function qM(){return Pg}()?(e[T]|=1024,uo(e)):e[zt].changeDetectionScheduler?.notify())}function uo(e){e[zt].changeDetectionScheduler?.notify();let t=yr(e);for(;null!==t&&!(8192&t[T])&&(t[T]|=8192,du(t));)t=yr(t)}function ca(e,t){if(!(256&~e[T]))throw new D(911,!1);null===e[zn]&&(e[zn]=[]),e[zn].push(t)}function yr(e){const t=e[Oe];return nt(t)?t[Oe]:t}const R={lFrame:Ug(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rg(){return R.bindingsEnabled}function _(){return R.lFrame.lView}function Z(){return R.lFrame.tView}function re(e){return R.lFrame.contextLView=e,e[ye]}function ie(e){return R.lFrame.contextLView=null,e}function de(){let e=Lg();for(;null!==e&&64===e.type;)e=e.parent;return e}function Lg(){return R.lFrame.currentTNode}function cn(e,t){const n=R.lFrame;n.currentTNode=e,n.isParent=t}function gu(){return R.lFrame.isParent}function qt(){return R.lFrame.bindingIndex++}function An(e){const t=R.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function aI(e,t){const n=R.lFrame;n.bindingIndex=n.bindingRootIndex=e,yu(t)}function yu(e){R.lFrame.currentDirectiveIndex=e}function _u(){return R.lFrame.currentQueryIndex}function ua(e){R.lFrame.currentQueryIndex=e}function cI(e){const t=e[b];return 2===t.type?t.declTNode:1===t.type?e[et]:null}function Hg(e,t,n){if(n&Y.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Y.Host||(i=cI(o),null===i||(o=o[ei],10&i.type))););if(null===i)return!1;t=i,e=o}const r=R.lFrame=$g();return r.currentTNode=t,r.lView=e,!0}function Du(e){const t=$g(),n=e[b];R.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function $g(){const e=R.lFrame,t=null===e?null:e.child;return null===t?Ug(e):t}function Ug(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zg(){const e=R.lFrame;return R.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Gg=zg;function Cu(){const e=zg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function rt(){return R.lFrame.selectedIndex}function vr(e){R.lFrame.selectedIndex=e}function ve(){const e=R.lFrame;return co(e.tView,e.selectedIndex)}function _e(){R.lFrame.currentNamespace=Ng}function Nn(){!function fI(){R.lFrame.currentNamespace=null}()}let Wg=!0;function ho(){return Wg}function un(e){Wg=e}function da(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function fa(e,t,n){Kg(e,t,3,n)}function ha(e,t,n,r){(3&e[T])===n&&Kg(e,t,n,r)}function wu(e,t){let n=e[T];(3&n)===t&&(n&=16383,n+=1,e[T]=n)}function Kg(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[ti]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[ti]+=65536),(a<o||-1==o)&&(pI(e,n,t,l),e[ti]=(4294901760&e[ti])+l+2),l++}function Qg(e,t){an(4,e,t);const n=G(null);try{t.call(e)}finally{G(n),an(5,e,t)}}function pI(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[T]>>14<e[ti]>>16&&(3&e[T])===t&&(e[T]+=16384,Qg(a,o)):Qg(a,o)}const oi=-1;class po{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Eu(e){return e!==oi}function go(e){return 32767&e}function mo(e,t){let n=function _I(e){return e>>16}(e),r=t;for(;n>0;)r=r[ei],n--;return r}let Su=!0;function pa(e){const t=Su;return Su=e,t}const Zg=255,Yg=5;let DI=0;const dn={};function ga(e,t){const n=Xg(e,t);if(-1!==n)return n;const r=t[b];r.firstCreatePass&&(e.injectorIndex=t.length,Mu(r.data,e),Mu(t,null),Mu(r.blueprint,null));const i=ma(e,t),o=e.injectorIndex;if(Eu(i)){const s=go(i),a=mo(i,t),l=a[b].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Mu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Xg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ma(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=om(i),null===r)return oi;if(n++,i=i[ei],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return oi}function Iu(e,t,n){!function CI(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ji)&&(r=n[Ji]),null==r&&(r=n[Ji]=DI++);const i=r&Zg;t.data[e+(i>>Yg)]|=1<<i}(e,t,n)}function Jg(e,t,n){if(n&Y.Optional||void 0!==e)return e;Vc()}function em(e,t,n,r){if(n&Y.Optional&&void 0===r&&(r=null),!(n&(Y.Self|Y.Host))){const i=e[Ve],o=gt(void 0);try{return i?i.get(t,r,n&Y.Optional):Yp(t,r,n&Y.Optional)}finally{gt(o)}}return Jg(r,0,n)}function tm(e,t,n,r=Y.Default,i){if(null!==e){if(2048&t[T]&&!(r&Y.Self)){const s=function MI(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[T]&&!(512&s[T]);){const a=nm(o,s,n,r|Y.Self,dn);if(a!==dn)return a;let l=o.parent;if(!l){const c=s[wg];if(c){const u=c.get(n,dn,r);if(u!==dn)return u}l=om(s),s=s[ei]}o=l}return i}(e,t,n,r,dn);if(s!==dn)return s}const o=nm(e,t,n,r,dn);if(o!==dn)return o}return em(t,n,r,i)}function nm(e,t,n,r,i){const o=function EI(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ji)?e[Ji]:void 0;return"number"==typeof t?t>=0?t&Zg:SI:t}(n);if("function"==typeof o){if(!Hg(t,e,r))return r&Y.Host?Jg(i,0,r):em(t,n,r,i);try{let s;if(s=o(r),null!=s||r&Y.Optional)return s;Vc()}finally{Gg()}}else if("number"==typeof o){let s=null,a=Xg(e,t),l=oi,c=r&Y.Host?t[Me][et]:null;for((-1===a||r&Y.SkipSelf)&&(l=-1===a?ma(e,t):t[a+8],l!==oi&&im(r,!1)?(s=t[b],a=go(l),t=mo(l,t)):a=-1);-1!==a;){const u=t[b];if(rm(o,a,u.data)){const d=bI(a,t,n,s,r,c);if(d!==dn)return d}l=t[a+8],l!==oi&&im(r,t[b].data[a+8]===c)&&rm(o,a,t)?(s=u,a=go(l),t=mo(l,t)):a=-1}}return i}function bI(e,t,n,r,i,o){const s=t[b],a=s.data[e+8],u=ya(a,s,n,null==r?mr(a)&&Su:r!=s&&!!(3&a.type),i&Y.Host&&o===a);return null!==u?_r(t,s,u,a):dn}function ya(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&Gt(h)&&h.type===n)return l}return null}function _r(e,t,n,r){let i=e[n];const o=t.data;if(function gI(e){return e instanceof po}(i)){const s=i;s.resolving&&function GS(e,t){throw t&&t.join(" > "),new D(-200,e)}(function ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():j(e)}(o[n]));const a=pa(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?gt(s.injectImpl):null;Hg(e,r,Y.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function hI(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Ig(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==c&&gt(c),pa(a),s.resolving=!1,Gg()}}return i}function rm(e,t,n){return!!(n[t+(e>>Yg)]&1<<e)}function im(e,t){return!(e&Y.Self||e&Y.Host&&t)}class ze{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return tm(this._tNode,this._lView,t,Ks(r),n)}}function SI(){return new ze(de(),_())}function it(e){return En(()=>{const t=e.prototype.constructor,n=t[Mn]||Tu(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Mn]||Tu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tu(e){return Us(e)?()=>{const t=Tu(x(e));return t&&t()}:fr(e)}function om(e){const t=e[b],n=t.type;return 2===n?t.declTNode:1===n?e[et]:null}function um(e,t=null,n=null,r){const i=function dm(e,t=null,n=null,r,i=new Set){const o=[n||J,hg(e)];return r=r||("object"==typeof e?void 0:He(e)),new Zr(o,t||ra(),r||null,i)}(e,t,n,r);return i.resolveInjectorInitializers(),i}let Mt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=eo}static{this.NULL=new Ys}static create(n,r){if(Array.isArray(n))return um({name:""},r,n,"");{const i=n.name??"";return um({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=K({token:e,providedIn:"any",factory:()=>Q(rg)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Nu(e){return e.ngOriginalError}class fn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Nu(t);for(;n&&Nu(n);)n=Nu(n);return n||null}}const hm=new A("",{providedIn:"root",factory:()=>B(fn).handleError.bind(void 0)});let li=(()=>{class e{static{this.__NG_ELEMENT_ID__=FI}static{this.__NG_ENV_ID__=n=>n}}return e})();class kI extends li{constructor(t){super(),this._lView=t}onDestroy(t){return ca(this._lView,t),()=>function pu(e,t){if(null===e[zn])return;const n=e[zn].indexOf(t);-1!==n&&e[zn].splice(n,1)}(this._lView,t)}}function FI(){return new kI(_())}function RI(){return ci(de(),_())}function ci(e,t){return new Wt(lt(e,t))}let Wt=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=RI}}return e})();function gm(e){return e instanceof Wt?e.nativeElement:e}function Ou(e){return t=>{setTimeout(e,void 0,t)}}const le=class LI extends Br{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function _g(){return void 0!==Zp()||null!=function ZS(){return qr}()}()&&(this.destroyRef=B(li,{optional:!0})??void 0)}emit(t){const n=G(null);try{super.next(t)}finally{G(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Ou(o),i&&(i=Ou(i)),s&&(s=Ou(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof kt&&t.add(a),a}};function VI(){return this._results[Symbol.iterator]()}class Pu{get changes(){return this._changes??=new le}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Pu.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=VI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function mt(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function iM(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Da(e){return!(128&~e.flags)}const xu=new Map;let BI=0;const Fu="__ngContext__";function ot(e,t){tt(t)?(e[Fu]=t[so],function $I(e){xu.set(e[so],e)}(t)):e[Fu]=t}function Sm(e){return Im(e[io])}function Mm(e){return Im(e[Ut])}function Im(e){for(;null!==e&&!nt(e);)e=e[Ut];return e}let Ru;const ba=new A("",{providedIn:"root",factory:()=>a0}),a0="ng",Fm=new A(""),ui=new A("",{providedIn:"platform",factory:()=>"unknown"}),Rm=new A(""),Lm=new A("",{providedIn:"root",factory:()=>function Gn(){if(void 0!==Ru)return Ru;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vm=()=>null;function zu(e,t,n=!1){return Vm(e,t,n)}const Um=new A("",{providedIn:"root",factory:()=>!1});class Km{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qn(e){return e instanceof Km?e.changingThisBreaksApplicationSecurity:e}var Wn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Wn||{});let rd;function id(e,t){return rd(e,t)}function mi(e,t,n,r,i){if(null!=r){let o,s=!1;nt(r)?o=r:tt(r)&&(s=!0,r=r[Ee]);const a=he(r);0===e&&null!==n?null==i?my(t,n,a):Dr(t,n,a,i||null,!0):1===e&&null!==n?Dr(t,n,a,i||null,!0):2===e?function To(e,t,n){const r=La(e,t);r&&function pT(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function yT(e,t,n,r,i){const o=n[on];o!==he(n)&&mi(t,e,r,o,i);for(let a=Pe;a<n.length;a++){const l=n[a];ja(l[b],l,e,t,r,o)}}(t,e,o,n,i)}}function Fa(e,t,n){return e.createElement(t,n)}function hy(e,t){t[zt].changeDetectionScheduler?.notify(1),ja(e,t,t[F],2,null,null)}function py(e,t){const n=e[ni],r=n.indexOf(t);n.splice(r,1)}function Mo(e,t){if(e.length<=Pe)return;const n=Pe+t,r=e[n];if(r){const i=r[oo];null!==i&&i!==e&&py(i,r),t>0&&(e[n-1][Ut]=r[Ut]);const o=Qs(e,Pe+t);!function aT(e,t){hy(e,t),t[Ee]=null,t[et]=null}(r[b],r);const s=o[In];null!==s&&s.detachView(o[b]),r[Oe]=null,r[Ut]=null,r[T]&=-129}return r}function Ra(e,t){if(!(256&t[T])){const n=t[F];n.destroyNode&&ja(e,t,n,3,null,null),function cT(e){let t=e[io];if(!t)return ad(e[b],e);for(;t;){let n=null;if(tt(t))n=t[io];else{const r=t[Pe];r&&(n=r)}if(!n){for(;t&&!t[Ut]&&t!==e;)tt(t)&&ad(t[b],t),t=t[Oe];null===t&&(t=e),tt(t)&&ad(t[b],t),n=t&&t[Ut]}t=n}}(t)}}function ad(e,t){if(256&t[T])return;const n=G(null);try{t[T]&=-129,t[T]|=256,t[gr]&&function Mp(e){if(jr(e),Zi(e))for(let t=0;t<e.producerNode.length;t++)Fs(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[gr]),function hT(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof po)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];an(4,a,l);try{l.call(a)}finally{an(5,a,l)}}else{an(4,i,o);try{o.call(i)}finally{an(5,i,o)}}}}}(e,t),function fT(e,t){const n=e.cleanup,r=t[Jr];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Jr]=null);const i=t[zn];if(null!==i){t[zn]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[b].type&&t[F].destroy();const r=t[oo];if(null!==r&&nt(t[Oe])){r!==t[Oe]&&py(r,t);const i=t[In];null!==i&&i.detachView(e)}!function UI(e){xu.delete(e[so])}(t)}finally{G(n)}}function ld(e,t,n){return function gy(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ee];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Bt.None||o===Bt.Emulated)return null}return lt(r,n)}}(e,t.parent,n)}function Dr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function my(e,t,n){e.appendChild(t,n)}function yy(e,t,n,r,i){null!==r?Dr(e,t,n,r,i):my(e,t,n)}function La(e,t){return e.parentNode(t)}let cd,Dy=function _y(e,t,n){return 40&e.type?lt(e,n):null};function Va(e,t,n,r){const i=ld(e,r,t),o=t[F],a=function vy(e,t,n){return Dy(e,t,n)}(r.parent||t[et],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)yy(o,i,n[l],a,!1);else yy(o,i,n,a,!1);void 0!==cd&&cd(o,r,t,n,i)}function Io(e,t){if(null!==t){const n=t.type;if(3&n)return lt(t,e);if(4&n)return ud(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Io(e,r);{const i=e[t.index];return nt(i)?ud(-1,i):he(i)}}if(32&n)return id(t,e)()||he(e[t.index]);{const r=wy(e,t);return null!==r?Array.isArray(r)?r[0]:Io(yr(e[Me]),r):Io(e,t.next)}}return null}function wy(e,t){return null!==t?e[Me][et].projection[t.projection]:null}function ud(e,t){const n=Pe+e+1;if(n<t.length){const r=t[n],i=r[b].firstChild;if(null!==i)return Io(r,i)}return t[on]}function dd(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&ot(he(a),r),n.flags|=2),32&~n.flags)if(8&l)dd(e,t,n.child,r,i,o,!1),mi(t,e,i,a,o);else if(32&l){const c=id(n,r);let u;for(;u=c();)mi(t,e,i,u,o);mi(t,e,i,a,o)}else 16&l?Ey(e,t,r,n,i,o):mi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ja(e,t,n,r,i,o){dd(n,r,e.firstChild,t,i,o,!1)}function Ey(e,t,n,r,i,o){const s=n[Me],l=s[et].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)mi(t,e,i,l[c],o);else{let c=l;const u=s[Oe];Da(r)&&(c.flags|=128),dd(e,t,c,u,i,o,!0)}}function Sy(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function My(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Wc(e,t,r),null!==i&&Sy(e,t,i),null!==o&&function _T(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const U={};function O(e=1){Iy(Z(),_(),rt()+e,!1)}function Iy(e,t,n,r){if(!r)if(3&~t[T]){const o=e.preOrderHooks;null!==o&&ha(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&fa(t,o,n)}vr(n)}function E(e,t=Y.Default){const n=_();return null===n?Q(e,t):tm(de(),n,x(e),t)}function Ty(e,t,n,r,i,o){const s=G(null);try{let a=null;i&Ae.SignalBased&&(a=t[r][lr]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Ae.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),null!==e.setInput?e.setInput(t,a,o,n,r):Mg(t,a,r,o)}finally{G(s)}}function Ba(e,t,n,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[Ee]=i,d[T]=204|r,(null!==c||e&&2048&e[T])&&(d[T]|=2048),xg(d),d[Oe]=d[ei]=e,d[ye]=n,d[zt]=s||e&&e[zt],d[F]=a||e&&e[F],d[Ve]=l||e&&e[Ve]||null,d[et]=o,d[so]=function HI(){return BI++}(),d[Et]=u,d[wg]=c,d[Me]=2==t.type?e[Me]:d,d}function yi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function fd(e,t,n,r,i){const o=Lg(),s=gu(),l=e.data[t]=function TT(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function ii(){return null!==R.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function sI(){return R.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function fo(){const e=R.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return cn(o,!0),o}function Ao(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ay(e,t,n,r,i){const o=rt(),s=2&r;try{vr(-1),s&&t.length>H&&Iy(e,t,H,!1),an(s?2:0,i),n(r,i)}finally{vr(o),an(s?3:1,i)}}function hd(e,t,n){if(ou(t)){const r=G(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{G(r)}}}function pd(e,t,n){Rg()&&(function FT(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;mr(n)&&function $T(e,t,n){const r=lt(t,e),i=Ny(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ha(e,Ba(e,i,null,s,r,t,null,e[zt].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ga(n,t),ot(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=_r(t,e,a,n);ot(c,t),null!==s&&UT(0,a-i,c,l,0,s),Gt(l)&&(St(n.index,t)[ye]=_r(t,e,a,n))}}(e,t,n,lt(n,t)),!(64&~n.flags)&&Fy(e,t,n))}function gd(e,t,n=lt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Ny(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=md(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function md(e,t,n,r,i,o,s,a,l,c,u){const d=H+r,f=d+i,h=function wT(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:U);return n}(d,f),p="function"==typeof c?c():c;return h[b]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let Oy=()=>null;function Py(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;r??={};let a,l=Ae.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===e?xy(r,n,c,a,l):xy(r,n,c,a)}return r}function xy(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],void 0!==i&&o.push(i)}function _t(e,t,n,r,i,o,s,a){const l=lt(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(Cd(e,n,u,r,i),mr(t)&&function OT(e,t){const n=St(t,e);16&n[T]||(n[T]|=64)}(n,t.index)):3&t.type&&(r=function NT(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function yd(e,t,n,r){if(Rg()){const i=null===r?null:{"":-1},o=function LT(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(lg(t,s.selectors,!1))if(r||(r=[]),Gt(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),vd(e,t,a.length)}else r.unshift(s),vd(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ky(e,t,n,s,i,a),i&&function VT(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new D(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=no(n.mergedAttrs,n.attrs)}function ky(e,t,n,r,i,o){for(let c=0;c<r.length;c++)Iu(ga(n,t),e,r[c].type);!function BT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Ao(e,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=no(n.mergedAttrs,u.hostAttrs),HT(e,n,t,l,u),jT(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function AT(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,p=f?f.outputs:null;l=Py(0,d.inputs,u,l,f?f.inputs:null),c=Py(1,d.outputs,u,c,p);const g=null===l||null===s||Kc(t)?null:zT(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function Fy(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function lI(){return R.lFrame.currentDirectiveIndex}();try{vr(o);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];yu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&RT(l,c)}}finally{vr(-1),yu(s)}}function RT(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vd(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function jT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Gt(t)&&(n[""]=e)}}function HT(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=fr(i.type)),s=new po(o,Gt(i),E);e.blueprint[r]=s,n[r]=s,function xT(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function kT(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Ao(e,n,i.hostVars,U),i)}function hn(e,t,n,r,i,o){const s=lt(e,t);!function _d(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?j(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[F],s,o,e.value,n,r,i)}function UT(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)Ty(r,n,s[a++],s[a++],s[a++],s[a++])}function zT(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ry(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Ly(e,t){const n=e.contentQueries;if(null!==n){const r=G(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];ua(n[i]),a.contentQueries(2,t[s],s)}}}finally{G(r)}}}function Ha(e,t){return e[io]?e[Cg][Ut]=t:e[io]=t,e[Cg]=t,t}function Dd(e,t,n){ua(0);const r=G(null);try{t(e,n)}finally{G(r)}}function Vy(e){return e[Jr]||(e[Jr]=[])}function jy(e){return e.cleanup||(e.cleanup=[])}function $a(e,t){const n=e[Ve],r=n?n.get(fn,null):null;r&&r.handleError(t)}function Cd(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];Ty(e.data[s],t[s],r,a,l,i)}}function GT(e,t){const n=St(t,e),r=n[b];!function qT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Ee];null!==i&&null===n[Et]&&(n[Et]=zu(i,n[Ve])),wd(r,n,n[ye])}function wd(e,t,n){Du(t);try{const r=e.viewQuery;null!==r&&Dd(1,r,n);const i=e.template;null!==i&&Ay(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[In]?.finishViewCreation(e),e.staticContentQueries&&Ly(e,t),e.staticViewQueries&&Dd(2,e.viewQuery,n);const o=e.components;null!==o&&function WT(e,t){for(let n=0;n<t.length;n++)GT(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[T]&=-5,Cu()}}function No(e,t,n,r){const i=G(null);try{const o=t.tView,l=Ba(e,o,n,4096&e[T]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[oo]=e[t.index];const u=e[In];return null!==u&&(l[In]=u.createEmbeddedView(o)),wd(o,l,n),l}finally{G(i)}}function Hy(e,t){const n=Pe+t;if(n<e.length)return e[n]}function vi(e,t){return!t||null===t.firstChild||Da(e)}function Oo(e,t,n,r=!0){const i=t[b];if(function uT(e,t,n,r){const i=Pe+r,o=n.length;r>0&&(n[i-1][Ut]=t),r<o-Pe?(t[Ut]=n[i],eg(n,Pe+r,t)):(n.push(t),t[Ut]=null),t[Oe]=n;const s=t[oo];null!==s&&n!==s&&function dT(e,t){const n=e[ni];t[Me]!==t[Oe][Oe][Me]&&(e[T]|=iu.HasTransplantedViews),null===n?e[ni]=[t]:n.push(t)}(s,t);const a=t[In];null!==a&&a.insertView(e),hu(t),t[T]|=128}(i,t,e,n),r){const s=ud(n,e),a=t[F],l=La(a,e[on]);null!==l&&function lT(e,t,n,r,i,o){r[Ee]=i,r[et]=t,ja(e,r,n,1,i,o)}(i,e[et],a,t,l,s)}const o=t[Et];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function bd(e,t){const n=Mo(e,t);return void 0!==n&&Ra(n[b],n),n}function Po(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(he(o)),nt(o)&&$y(o,r);const s=n.type;if(8&s)Po(e,t,n.child,r);else if(32&s){const a=id(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=wy(t,n);if(Array.isArray(a))r.push(...a);else{const l=yr(t[Me]);Po(l[b],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function $y(e,t){for(let n=Pe;n<e.length;n++){const r=e[n],i=r[b].firstChild;null!==i&&Po(r[b],r,i,t)}e[on]!==e[Ee]&&t.push(e[on])}let Uy=[];const YT={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{uo(e.lView)},consumerOnSignalRead(){this.lView[gr]=this}},zy=100;function Ua(e,t=!0,n=0){const r=e[zt],i=r.rendererFactory;i.begin?.();try{!function XT(e,t){Ed(e,t);let n=0;for(;fu(e);){if(n===zy)throw new D(103,!1);n++,Ed(e,1)}}(e,n)}catch(s){throw t&&$a(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function JT(e,t,n,r){const i=t[T];if(!(256&~i))return;t[zt].inlineEffectRunner?.flush(),Du(t);let s=null,a=null;(function eA(e){return 2!==e.type})(e)&&(a=function KT(e){return e[gr]??function QT(e){const t=Uy.pop()??Object.create(YT);return t.lView=e,t}(e)}(t),s=function Ep(e){return e&&(e.nextProducerIndex=0),G(e)}(a));try{xg(t),function jg(e){return R.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ay(e,t,n,2,r);const l=!(3&~i);if(l){const d=e.preOrderCheckHooks;null!==d&&fa(t,d,null)}else{const d=e.preOrderHooks;null!==d&&ha(t,d,0,null),wu(t,0)}if(function tA(e){for(let t=Sm(e);null!==t;t=Mm(t)){if(!(t[T]&iu.HasTransplantedViews))continue;const n=t[ni];for(let r=0;r<n.length;r++){ZM(n[r])}}}(t),Gy(t,0),null!==e.contentQueries&&Ly(e,t),l){const d=e.contentCheckHooks;null!==d&&fa(t,d)}else{const d=e.contentHooks;null!==d&&ha(t,d,1),wu(t,1)}!function CT(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)vr(~i);else{const o=i,s=n[++r],a=n[++r];aI(s,o),a(2,t[o])}}}finally{vr(-1)}}(e,t);const c=e.components;null!==c&&Wy(t,c,0);const u=e.viewQuery;if(null!==u&&Dd(2,u,r),l){const d=e.viewCheckHooks;null!==d&&fa(t,d)}else{const d=e.viewHooks;null!==d&&ha(t,d,2),wu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[sa]){for(const d of t[sa])d();t[sa]=null}t[T]&=-73}catch(l){throw uo(t),l}finally{null!==a&&(function Sp(e,t){if(G(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Zi(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Fs(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function ZT(e){e.lView[gr]!==e&&(e.lView=null,Uy.push(e))}(a)),Cu()}}function Gy(e,t){for(let n=Sm(e);null!==n;n=Mm(n))for(let r=Pe;r<n.length;r++)qy(n[r],t)}function nA(e,t,n){qy(St(t,e),n)}function qy(e,t){du(e)&&Ed(e,t)}function Ed(e,t){const r=e[b],i=e[T],o=e[gr];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!_c(o)),o&&(o.dirty=!1),e[T]&=-9217,s)JT(r,e,r.template,e[ye]);else if(8192&i){Gy(e,1);const a=r.components;null!==a&&Wy(e,a,1)}}function Wy(e,t,n){for(let r=0;r<t.length;r++)nA(e,t[r],n)}function xo(e){for(e[zt].changeDetectionScheduler?.notify();e;){e[T]|=64;const t=yr(e);if(su(e)&&!t)return e;e=t}return null}class ko{get rootNodes(){const t=this._lView,n=t[b];return Po(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ye]}set context(t){this._lView[ye]=t}get destroyed(){return!(256&~this._lView[T])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Oe];if(nt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Mo(t,r),Qs(n,r))}this._attachedToViewContainer=!1}Ra(this._lView[b],this._lView)}onDestroy(t){ca(this._lView,t)}markForCheck(){xo(this._cdRefInjectingView||this._lView)}detach(){this._lView[T]&=-129}reattach(){hu(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,Ua(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,hy(this._lView[b],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t,hu(this._lView)}}let xn=(()=>{class e{static{this.__NG_ELEMENT_ID__=oA}}return e})();const rA=xn,iA=class extends rA{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=No(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new ko(i)}};function oA(){return za(de(),_())}function za(e,t){return 4&e.type?new iA(t,e,ci(e,t)):null}let Jy=()=>null;function _i(e,t){return Jy(e,t)}class Qa{}class AA{}class ev{}class OA{resolveComponentFactory(t){throw function NA(e){const t=Error(`No component factory found for ${He(e)}.`);return t.ngComponent=e,t}(t)}}let Za=(()=>{class e{static{this.NULL=new OA}}return e})();class Nd{}let Cr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function PA(){const e=_(),n=St(de().index,e);return(tt(n)?n:e)[F]}()}}return e})(),xA=(()=>{class e{static{this.\u0275prov=K({token:e,providedIn:"root",factory:()=>null})}}return e})();const Od={},nv=new Set;function pn(e){nv.has(e)||(nv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function rv(...e){}class be{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function kA(){const e="function"==typeof ae.requestAnimationFrame;let t=ae[e?"requestAnimationFrame":"setTimeout"],n=ae[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function LA(e){const t=()=>{!function RA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ae,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,xd(e),e.isCheckStableRunning=!0,Pd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),xd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function VA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return iv(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),ov(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return iv(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),ov(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,xd(e),Pd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!be.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(be.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,FA,rv,rv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const FA={};function Pd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function iv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ov(e){e._nesting--,Pd(e)}let jo=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=K({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Xa(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Ac(i,a):2==o&&(r=Ac(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class fv extends Za{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=W(t);return new $o(n,this.ngModule)}}function hv(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class Ja{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ks(r);const i=this.injector.get(t,Od,r);return i!==Od||n===Od?i:this.parentInjector.get(t,n,r)}}class $o extends ev{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=hv(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function gM(e){return e.map(pM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const o=G(null);try{let s=(i=i||this.ngModule)instanceof rn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Ja(t,s):t,l=a.get(Nd,null);if(null===l)throw new D(407,!1);const c=a.get(xA,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(jo,null),changeDetectionScheduler:a.get(Qa,null)},h=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?function bT(e,t,n,r){const o=r.get(Um,!1)||n===Bt.ShadowDom,s=e.selectRootElement(t,o);return function ET(e){Oy(e)}(s),s}(h,r,this.componentDef.encapsulation,a):Fa(h,p,function zA(e){const t=e.toLowerCase();return"svg"===t?Ng:"math"===t?"math":null}(p));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let v=null;null!==g&&(v=zu(g,a,!0));const y=md(0,null,null,1,0,null,null,null,null,null,null),S=Ba(null,y,null,m,null,null,f,h,a,null,v);let I,z;Du(S);try{const X=this.componentDef;let ce,Re=null;X.findHostDirectiveDefs?(ce=[],Re=new Map,X.findHostDirectiveDefs(X,ce,Re),ce.push(X)):ce=[X];const wn=function qA(e,t){const n=e[b],r=H;return e[r]=t,yi(n,r,2,"#host",null)}(S,g),sr=function WA(e,t,n,r,i,o,s){const a=i[b];!function KA(e,t,n,r){for(const i of e)t.mergedAttrs=no(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Xa(t,t.mergedAttrs,!0),null!==n&&My(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=zu(t,i[Ve]));const c=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Ba(i,Ny(n),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&vd(a,e,r.length-1),Ha(i,d),i[e.index]=d}(wn,g,X,ce,S,f,h);z=co(y,H),g&&function ZA(e,t,n,r){if(r)Wc(e,n,["ng-version","17.3.12"]);else{const{attrs:i,classes:o}=function mM(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ht(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Wc(e,n,i),o&&o.length>0&&Sy(e,n,o.join(" "))}}(h,X,g,r),void 0!==n&&function YA(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(z,this.ngContentSelectors,n),I=function QA(e,t,n,r,i,o){const s=de(),a=i[b],l=lt(s,i);ky(a,i,s,n,null,r);for(let u=0;u<n.length;u++)ot(_r(i,a,s.directiveStart+u,s),i);Fy(a,i,s),l&&ot(l,i);const c=_r(i,a,s.directiveStart+s.componentOffset,s);if(e[ye]=i[ye]=c,null!==o)for(const u of o)u(c,t);return hd(a,s,i),c}(sr,X,ce,Re,S,[XA]),wd(y,S,null)}finally{Cu()}return new GA(this.componentType,I,ci(z,S),S,z)}finally{G(o)}}}class GA extends AA{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ko(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Cd(o[b],o,i,t,n),this.previousInputValues.set(t,n),xo(St(this._tNode.index,o))}}get injector(){return new ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function XA(){const e=de();da(_()[b],e)}let gn=(()=>{class e{static{this.__NG_ELEMENT_ID__=JA}}return e})();function JA(){return mv(de(),_())}const eN=gn,pv=class extends eN{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ci(this._hostTNode,this._hostLView)}get injector(){return new ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=ma(this._hostTNode,this._hostLView);if(Eu(t)){const n=mo(t,this._hostLView),r=go(t);return new ze(n[b].data[r+8],n)}return new ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=gv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=_i(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vi(this._hostTNode,s)),a}createComponent(t,n,r,i,o){const s=t&&!function ro(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=s?t:new $o(W(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?c:this.parentInjector).get(rn,null);g&&(o=g)}const u=W(l.componentType??{}),d=_i(this._lContainer,u?.id??null),h=l.create(c,i,d?.firstChild??null,o);return this.insertImpl(h.hostView,a,vi(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function QM(e){return nt(e[Oe])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=i[Oe],c=new pv(l,l[et],l[Oe]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return Oo(s,i,o,r),t.attachToViewContainerRef(),eg(Ld(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=gv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Mo(this._lContainer,n);r&&(Qs(Ld(this._lContainer),n),Ra(r[b],r))}detach(t){const n=this._adjustIndex(t,-1),r=Mo(this._lContainer,n);return r&&null!=Qs(Ld(this._lContainer),n)?new ko(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function gv(e){return e[8]}function Ld(e){return e[8]||(e[8]=[])}function mv(e,t){let n;const r=t[e.index];return nt(r)?n=r:(n=Ry(r,t,null,e),t[e.index]=n,Ha(t,n)),yv(n,t,e,r),new pv(n,e,t)}let yv=function _v(e,t,n,r){if(e[on])return;let i;i=8&n.type?he(r):function tN(e,t){const n=e[F],r=n.createComment(""),i=lt(t,e);return Dr(n,La(n,i),r,function gT(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[on]=i},Vd=()=>!1;class jd{constructor(t){this.queryList=t,this.matches=null}clone(){return new jd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Bd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Gd(t,n).matches&&this.queries[n].setDirty()}}class Dv{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function cN(e){return e.split(",").map(t=>t.trim())}(t):t}}class Hd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Hd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $d{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new $d(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,oN(n,o)),this.matchTNodeWithReadOption(t,n,ya(n,t,o,!1,!1))}else r===xn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ya(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Wt||i===gn||i===xn&&4&n.type)this.addMatch(n.index,-2);else{const o=ya(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function oN(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function aN(e,t,n,r){return-1===n?function sN(e,t){return 11&e.type?ci(e,t):4&e.type?za(e,t):null}(t,e):-2===n?function lN(e,t,n){return n===Wt?ci(t,e):n===xn?za(t,e):n===gn?mv(t,e):void 0}(e,t,r):_r(e,e[b],n,t)}function Cv(e,t,n,r){const i=t[In].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:aN(t,o[c],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function Ud(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Cv(e,t,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=Pe;d<u.length;d++){const f=u[d];f[oo]===f[Oe]&&Ud(f[b],f,c,r)}if(null!==u[ni]){const d=u[ni];for(let f=0;f<d.length;f++){const h=d[f];Ud(h[b],h,c,r)}}}}}return r}function bv(e,t,n){const r=Z();return r.firstCreatePass&&(function Sv(e,t,n){null===e.queries&&(e.queries=new Hd),e.queries.track(new $d(t,n))}(r,new Dv(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),function wv(e,t,n){const r=new Pu(!(4&~n));return function IT(e,t,n,r){const i=Vy(t);i.push(n),e.firstCreatePass&&jy(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[In]??=new Bd).queries.push(new jd(r))-1}(r,_(),t)}function Gd(e,t){return e.queries.getByIndex(t)}function Mv(e,t){const n=e[b],r=Gd(n,t);return r.crossesNgTemplate?Ud(n,e,t,[]):Cv(n,e,r,t)}function Av(e){return function Iv(e){return"function"==typeof e&&void 0!==e[lr]}(e)&&"function"==typeof e.set}function fe(e){let t=function Bv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Gt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=tl(e.inputs),s.inputTransforms=tl(e.inputTransforms),s.declaredInputs=tl(e.declaredInputs),s.outputs=tl(e.outputs);const a=i.hostBindings;a&&SN(e,a);const l=i.viewQuery,c=i.contentQueries;if(l&&bN(e,l),c&&EN(e,c),CN(e,i),RS(e.outputs,i.outputs),Gt(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===fe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function wN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=no(i.hostAttrs,n=no(n,i.hostAttrs))}}(r)}function CN(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function tl(e){return e===nn?{}:e===J?[]:e}function bN(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function EN(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function SN(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}class Er{}class zv extends Er{constructor(t){super(),this.componentFactoryResolver=new fv(this),this.instance=null;const n=new Zr([...t.providers,{provide:Er,useValue:this},{provide:Za,useValue:this.componentFactoryResolver}],t.parent||ra(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let zo=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Hs(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xe(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ke(e,t,n,r,i,o,s,a){const l=_(),c=Z(),u=e+H,d=c.firstCreatePass?function BN(e,t,n,r,i,o,s,a,l){const c=t.consts,u=yi(t,e,4,s||null,ln(c,a));yd(t,n,u,ln(c,l)),da(t,u);const d=u.tView=md(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,o,s):c.data[u];cn(d,!1);const f=qv(c,l,d,e);ho()&&Va(c,l,f,d),ot(f,l);const h=Ry(f,l,f,d);return l[u]=h,Ha(l,h),function vv(e,t,n){return Vd(e,t,n)}(h,d,l),la(d)&&pd(c,l,d),null!=s&&gd(l,d,a),Ke}let qv=function Wv(e,t,n,r){return un(!0),t[F].createComment("")};function yn(e,t,n,r){const i=_();return xe(i,qt(),t)&&(Z(),hn(ve(),i,e,t,n,r)),yn}function ul(e,t){return e<<17|t<<2}function Zn(e){return e>>17&32767}function sf(e){return 2|e}function Ir(e){return(131068&e)>>2}function af(e,t){return-131069&e|t<<2}function lf(e){return 1|e}function E_(e,t,n,r){const i=e[n+1],o=null===t;let s=r?Zn(i):Ir(i),a=!1;for(;0!==s&&(!1===a||o);){const c=e[s+1];M1(e[s],t)&&(a=!0,e[s+1]=r?lf(c):sf(c)),s=r?Zn(c):Ir(c)}a&&(e[n+1]=r?sf(i):lf(i))}function M1(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Kr(e,t)>=0}const Ge={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S_(e){return e.substring(Ge.key,Ge.keyEnd)}function M_(e,t){const n=Ge.textEnd;return n===t?-1:(t=Ge.keyEnd=function N1(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ge.key=t,n),Ri(e,t,n))}function Ri(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ut(e,t,n){const r=_();return xe(r,qt(),t)&&_t(Z(),ve(),r,e,t,r[F],n,!1),ut}function cf(e,t,n,r,i){const s=i?"class":"style";Cd(e,n,t.inputs[s],s,r)}function qe(e,t){return function Qt(e,t,n,r){const i=_(),o=Z(),s=An(2);o.firstUpdatePass&&x_(o,e,s,r),t!==U&&xe(i,s,t)&&F_(o,o.data[rt()],i,i[F],e,i[s+1]=function H1(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=He(qn(e)))),e}(t,n),r,s)}(e,t,null,!0),qe}function uf(e){!function Zt(e,t,n,r){const i=Z(),o=An(2);i.firstUpdatePass&&x_(i,null,o,r);const s=_();if(n!==U&&xe(s,o,n)){const a=i.data[rt()];if(L_(a,r)&&!P_(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=Ac(l,n||"")),cf(i,a,s,n,r)}else!function B1(e,t,n,r,i,o,s,a){i===U&&(i=J);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&F_(e,t,n,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[F],s[o+1],s[o+1]=function V1(e,t,n){if(null==n||""===n)return J;const r=[],i=qn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(j1,_n,e,!0)}function _n(e,t){for(let n=function T1(e){return function T_(e){Ge.key=0,Ge.keyEnd=0,Ge.value=0,Ge.valueEnd=0,Ge.textEnd=e.length}(e),M_(e,Ri(e,0,Ge.textEnd))}(t);n>=0;n=M_(t,n))bt(e,S_(t),!0)}function P_(e,t){return t>=e.expandoStartIndex}function x_(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[rt()],s=P_(e,n);L_(o,r)&&null===t&&!s&&(t=!1),t=function k1(e,t,n,r){const i=function vu(e){const t=R.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Zo(n=df(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=df(i,e,t,n,r),null===o){let l=function F1(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ir(r))return e[Zn(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=df(null,e,t,l[1],r),l=Zo(l,t.attrs,r),function R1(e,t,n,r){e[Zn(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function L1(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Zo(r,e[o].hostAttrs,n);return Zo(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function E1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Zn(s),l=Ir(s);e[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||Kr(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const f=Zn(e[a+1]);e[r+1]=ul(f,a),0!==f&&(e[f+1]=af(e[f+1],r)),e[a+1]=function w1(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=ul(a,0),0!==a&&(e[a+1]=af(e[a+1],r)),a=r;else e[r+1]=ul(l,0),0===a?a=r:e[l+1]=af(e[l+1],r),l=r;c&&(e[r+1]=sf(e[r+1])),E_(e,u,r,!0),E_(e,u,r,!1),function S1(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Kr(o,t)>=0&&(n[r+1]=lf(n[r+1]))}(t,u,e,r,o),s=ul(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function df(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Zo(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Zo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),bt(e,s,!!n||t[++o]))}return void 0===e?null:e}function j1(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&bt(e,r,n)}function F_(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function b1(e){return!(1&~e)}(c)?R_(l,t,n,i,Ir(c),s):void 0;dl(u)||(dl(o)||function C1(e){return!(2&~e)}(c)&&(o=R_(l,null,n,i,a,s)),function vT(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Wn.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),e.setStyle(n,r,i,o))}}(r,s,lo(rt(),n),i,o))}function R_(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[i+1];f===U&&(f=d?J:void 0);let h=d?Gc(f,r):u===r?f:void 0;if(c&&!dl(h)&&(h=Gc(l,r)),dl(h)&&(a=h,s))return a;const p=e[i+1];i=s?Zn(p):Ir(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Gc(l,r))}return a}function dl(e){return void 0!==e}function L_(e,t){return!!(e.flags&(t?8:16))}class X1{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}}function ff(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function hf(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function V_(e,t,n,r,i){if(hf(e,t,r,n(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function j_(e,t,n,r){const i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}class B_{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}function Xe(e,t,n){pn("NgControlFlow");const r=_(),i=qt(),o=pf(r,H+e);if(xe(r,i,t)){const a=G(null);try{if(bd(o,0),-1!==t){const l=gf(r[b],H+t),c=_i(o,l.tView.ssrId);Oo(o,No(r,l,n,{dehydratedView:c}),0,vi(l,c))}}finally{G(a)}}else{const a=Hy(o,0);void 0!==a&&(a[ye]=n)}}class eO{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Pe}}class rO{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function Yo(e,t,n,r,i,o,s,a,l,c,u,d,f){pn("NgControlFlow");const h=void 0!==l,p=_(),g=a?s.bind(p[Me][ye]):s,m=new rO(h,g);p[H+e]=m,Ke(e+1,t,n,r,i,o),h&&Ke(e+2,l,c,u,d,f)}class iO extends X1{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Pe}at(t){return this.getLView(t)[ye].$implicit}attach(t,n){const r=n[Et];this.needsIndexUpdate||=t!==this.length,Oo(this.lContainer,n,t,vi(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function oO(e,t){return Mo(e,t)}(this.lContainer,t)}create(t,n){const r=_i(this.lContainer,this.templateTNode.tView.ssrId);return No(this.hostLView,this.templateTNode,new eO(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Ra(t[b],t)}updateValue(t,n){this.getLView(t)[ye].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ye].$index=t}getLView(t){return function sO(e,t){return Hy(e,t)}(this.lContainer,t)}}function Xo(e){const t=G(null),n=rt();try{const r=_(),i=r[b],o=r[n];if(void 0===o.liveCollection){const a=n+1,l=pf(r,a),c=gf(i,a);o.liveCollection=new iO(l,r,c)}else o.liveCollection.reset();const s=o.liveCollection;if(function J1(e,t,n){let r,i,o=0,s=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){const l=e.at(o),c=t[o],u=ff(o,l,o,c,n);if(0!==u){u<0&&e.updateValue(o,c),o++;continue}const d=e.at(s),f=t[a],h=ff(s,d,a,f,n);if(0!==h){h<0&&e.updateValue(s,f),s--,a--;continue}const p=n(o,l),g=n(s,d),m=n(o,c);if(Object.is(m,g)){const v=n(a,f);Object.is(v,p)?(e.swap(o,s),e.updateValue(s,f),a--,s--):e.move(s,o),e.updateValue(o,c),o++}else if(r??=new B_,i??=j_(e,o,s,n),hf(e,r,o,m))e.updateValue(o,c),o++,s++;else if(i.has(m))r.set(p,e.detach(o)),s--;else{const v=e.create(o,t[o]);e.attach(o,v),o++,s++}}for(;o<=a;)V_(e,r,n,o,t[o]),o++}else if(null!=t){const a=t[Symbol.iterator]();let l=a.next();for(;!l.done&&o<=s;){const c=e.at(o),u=l.value,d=ff(o,c,o,u,n);if(0!==d)d<0&&e.updateValue(o,u),o++,l=a.next();else{r??=new B_,i??=j_(e,o,s,n);const f=n(o,u);if(hf(e,r,o,f))e.updateValue(o,u),o++,s++,l=a.next();else if(i.has(f)){const h=n(o,c);r.set(h,e.detach(o)),s--}else e.attach(o,e.create(o,u)),o++,s++,l=a.next()}}for(;!l.done;)V_(e,r,n,e.length,l.value),l=a.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(a=>{e.destroy(a)})}(s,e,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=qt(),l=0===s.length;if(xe(r,a,l)){const c=n+2,u=pf(r,c);if(l){const d=gf(i,c),f=_i(u,d.tView.ssrId);Oo(u,No(r,d,void 0,{dehydratedView:f}),0,vi(d,f))}else bd(u,0)}}}finally{G(t)}}function pf(e,t){return e[t]}function gf(e,t){return co(e,t)}function C(e,t,n,r){const i=_(),o=Z(),s=H+e,a=i[F],l=o.firstCreatePass?function aO(e,t,n,r,i,o){const s=t.consts,l=yi(t,e,2,r,ln(s,i));return yd(t,n,l,ln(s,o)),null!==l.attrs&&Xa(l,l.attrs,!1),null!==l.mergedAttrs&&Xa(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],c=H_(o,i,l,a,t,e);i[s]=c;const u=la(l);return cn(l,!0),My(a,c,l),!function qo(e){return!(32&~e.flags)}(l)&&ho()&&Va(o,i,c,l),0===function YM(){return R.lFrame.elementDepthCount}()&&ot(c,i),function XM(){R.lFrame.elementDepthCount++}(),u&&(pd(o,i,l),hd(o,l,i)),null!==r&&gd(i,l),C}function w(){let e=de();gu()?function mu(){R.lFrame.isParent=!1}():(e=e.parent,cn(e,!1));const t=e;(function eI(e){return R.skipHydrationRootTNode===e})(t)&&function iI(){R.skipHydrationRootTNode=null}(),function JM(){R.lFrame.elementDepthCount--}();const n=Z();return n.firstCreatePass&&(da(n,e),ou(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function yI(e){return!!(8&e.flags)}(t)&&cf(n,t,_(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vI(e){return!!(16&e.flags)}(t)&&cf(n,t,_(),t.stylesWithoutHost,!1),w}function te(e,t,n,r){return C(e,t,n,r),w(),te}let H_=(e,t,n,r,i,o)=>(un(!0),Fa(r,i,function qg(){return R.lFrame.currentNamespace}()));function kn(){return _()}const Vi="en-US";let K_=Vi;function q(e,t,n,r){const i=_(),o=Z(),s=de();return Df(o,i,i[F],s,e,t,r),q}function Df(e,t,n,r,i,o,s){const a=la(r),c=e.firstCreatePass&&jy(e),u=t[ye],d=Vy(t);let f=!0;if(3&r.type||s){const g=lt(r,t),m=s?s(g):g,v=d.length,y=s?I=>s(he(I[r.index])):r.index;let S=null;if(!s&&a&&(S=function dP(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Jr],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,f=!1;else{o=wD(r,t,u,o,!1);const I=n.listen(m,i,o);d.push(o,I),c&&c.push(i,y,v,v+1)}}else o=wD(r,t,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const z=t[p[m]][p[m+1]].subscribe(o),X=d.length;d.push(o,z),c&&c.push(i,r.index,X,-(X+1))}}}function CD(e,t,n,r){const i=G(null);try{return an(6,t,n),!1!==n(r)}catch(o){return $a(e,o),!1}finally{an(7,t,n),G(i)}}function wD(e,t,n,r,i){return function o(s){if(s===Function)return r;xo(e.componentOffset>-1?St(e.index,t):t);let l=CD(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=CD(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Ie(e=1){return function uI(e){return(R.lFrame.contextLView=function kg(e,t){for(;e>0;)t=t[ei],e--;return t}(e,R.lFrame.contextLView))[ye]}(e)}function os(e,t,n){bv(e,t,n)}function ss(e){const t=_(),n=Z(),r=_u();ua(r+1);const i=Gd(n,r);if(e.dirty&&function KM(e){return!(4&~e[T])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=Mv(t,r);e.reset(o,gm),e.notifyOnChanges()}return!0}return!1}function as(){return function zd(e,t){return e[In].queries[t].queryList}(_(),_u())}function V(e,t=""){const n=_(),r=Z(),i=e+H,o=r.firstCreatePass?yi(r,i,1,t,null):r.data[i],s=HD(r,n,o,t,e);n[i]=s,ho()&&Va(r,n,s,o),cn(o,!1)}let HD=(e,t,n,r,i)=>(un(!0),function od(e,t){return e.createText(t)}(t[F],r));function At(e){return ji("",e,""),At}function ji(e,t,n){const r=_(),i=function Ti(e,t,n,r){return xe(e,qt(),n)?t+j(n)+r:U}(r,e,t,n);return i!==U&&function Pn(e,t,n){const r=lo(t,e);!function fy(e,t,n){e.setValue(t,n)}(e[F],r,n)}(r,rt(),i),ji}function Bi(e,t,n){Av(t)&&(t=t());const r=_();return xe(r,qt(),t)&&_t(Z(),ve(),r,e,t,r[F],n,!1),Bi}function ls(e,t){const n=Av(e);return n&&e.set(t),n}function Hi(e,t){const n=_(),r=Z(),i=de();return Df(r,n,n[F],i,e,t),Hi}function wf(e,t,n,r,i){if(e=x(e),Array.isArray(e))for(let o=0;o<e.length;o++)wf(e[o],t,n,r,i);else{const o=Z(),s=_(),a=de();let l=pr(e)?e:x(e.provide);const c=yg(e),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(pr(e)||!e.multi){const h=new po(c,i,E),p=Ef(l,t,i?u:u+f,d);-1===p?(Iu(ga(a,s),o,l),bf(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=Ef(l,t,u+f,d),p=Ef(l,t,u,u+f),m=p>=0&&n[p];if(i&&!m||!i&&!(h>=0&&n[h])){Iu(ga(a,s),o,l);const v=function FP(e,t,n,r,i){const o=new po(e,n,E);return o.multi=[],o.index=t,o.componentProviders=0,ZD(o,i,r&&!n),o}(i?kP:xP,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),bf(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else bf(o,e,h>-1?h:p,ZD(n[i?p:h],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function bf(e,t,n,r){const i=pr(t),o=function wM(e){return!!e.useClass}(t);if(i||o){const l=(o?x(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function ZD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ef(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function xP(e,t,n,r){return Sf(this.multi,[])}function kP(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=_r(n,n[b],this.providerFactory.index,r);o=a.slice(0,s),Sf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Sf(i,o);return o}function Sf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Se(e,t=[]){return n=>{n.providersResolver=(r,i)=>function PP(e,t,n){const r=Z();if(r.firstCreatePass){const i=Gt(e);wf(n,r.data,r.blueprint,i,!0),wf(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let RP=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Qc(0,n.type),i=r.length>0?function Gv(e,t,n=null){return new zv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:e,providedIn:"environment",factory:()=>new e(Q(rn))})}}return e})();function Yt(e){pn("NgStandalone"),e.getStandaloneInjector=t=>t.get(RP).getOrCreateStandaloneInjector(e)}const wC=new A(""),Dl=new A("");let xf,Of=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,xf||(function Zx(e){xf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(Q(be),Q(Pf),Q(Dl))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})(),Pf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xf?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Cl(e){return!!e&&"function"==typeof e.then}function bC(e){return!!e&&"function"==typeof e.subscribe}const Yx=new A("");let kf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(Yx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Cl(o))n.push(o);else if(bC(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const EC=new A("");let Ar=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(hm),this.afterRenderEffectManager=B(jo),this.externalTestViews=new Set,this.beforeRender=new Br,this.afterTick=new Br,this.componentTypes=[],this.components=[],this.isStable=B(zo).hasPendingTasks.pipe(Yi(n=>!n)),this._injector=B(rn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof ev;if(!this._injector.get(kf).done)throw!i&&function hr(e){const t=W(e)||$e(e)||Ye(e);return null!==t&&t.standalone}(n),new D(405,!1);let s;s=i?n:this._injector.get(Za).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Xx(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Er),c=s.create(Mt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(wC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),wl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new D(101,!1);const r=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,G(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===zy)throw new D(103,!1);if(n){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)ek(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ff(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ff(o))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(EC,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ek(e,t,n){!t&&!Ff(e)||function tk(e,t,n){let r;n?(r=0,e[T]|=1024):r=64&e[T]?0:1,Ua(e,t,r)}(e,n,t)}function Ff(e){return fu(e)}let ok=(()=>{class e{constructor(){this.zone=B(be),this.applicationRef=B(Ar)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function AC(e){return[{provide:be,useFactory:e},{provide:Qr,multi:!0,useFactory:()=>{const t=B(ok,{optional:!0});return()=>t.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{const t=B(lk);return()=>{t.initialize()}}},{provide:hm,useFactory:sk}]}function sk(){const e=B(be),t=B(fn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function ak(e){return function ea(e){return{\u0275providers:e}}([[],AC(()=>new be(function NC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let lk=(()=>{class e{constructor(){this.subscription=new kt,this.initialized=!1,this.zone=B(be),this.pendingTasks=B(zo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Fn=new A("",{providedIn:"root",factory:()=>B(Fn,Y.Optional|Y.SkipSelf)||function ck(){return typeof $localize<"u"&&$localize.locale||Vi}()}),Rf=new A("");let Yn=null;let Vf=(()=>{class e{static{this.__NG_ELEMENT_ID__=gk}}return e})();function gk(e){return function mk(e,t,n){if(mr(e)&&!n){const r=St(e.index,t);return new ko(r,r)}return 47&e.type?new ko(t[Me],t):null}(de(),_(),!(16&~e))}let Tk=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Q(Ar))}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({})}}return e})();function Uk(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function pk(e=[]){if(Yn)return Yn;const t=function xC(e=[],t){return Mt.create({name:t,providers:[{provide:Xc,useValue:"platform"},{provide:Rf,useValue:new Set([()=>Yn=null])},...e]})}(e);return Yn=t,function SC(){!function vS(e){Ap=e}(()=>{throw new D(600,!1)})}(),function kC(e){e.get(Fm,null)?.forEach(n=>n())}(t),t}(r),o=[ak(),...n||[]],a=new zv({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(be);return l.run(()=>{a.resolveInjectorInitializers();const c=a.get(fn,null);let u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});const d=()=>a.destroy(),f=i.get(Rf);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),function MC(e,t,n){try{const r=n();return Cl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,l,()=>{const h=a.get(kf);return h.runInitializers(),h.donePromise.then(()=>{!function Q_(e){"string"==typeof e&&(K_=e.toLowerCase().replace(/_/g,"-"))}(a.get(Fn,Vi)||Vi);const g=a.get(Ar);return void 0!==t&&g.bootstrap(t),g})})})}catch(t){return Promise.reject(t)}}let hw=null;function gs(){return hw}class dF{}const Xn=new A("");let en=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({})}}return e})();function Aw(e){return"server"===e}class aL extends dF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lh extends aL{static makeCurrent(){!function uF(e){hw??=e}(new lh)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function lL(){return _s=_s||document.querySelector("base"),_s?_s.getAttribute("href"):null}();return null==n?null:function cL(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){_s=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function YF(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let _s=null,dL=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();const ch=new A("");let Vw=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Q(ch),Q(be))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();class jw{constructor(t){this._doc=t}}const uh="ng-app-id";let Bw=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aw(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${uh}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(uh),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(uh,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Q(Xn),Q(ba),Q(Lm,8),Q(ui))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();const dh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fh=/%COMP%/g,gL=new A("",{providedIn:"root",factory:()=>!0});function $w(e,t){return t.map(n=>n.replace(fh,e))}let hh=(()=>{class e{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Aw(a),this.defaultRenderer=new ph(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bt.ShadowDom&&(r={...r,encapsulation:Bt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof zw?i.applyToHost(n):i instanceof gh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Bt.Emulated:o=new zw(l,c,r,this.appId,u,s,a,d);break;case Bt.ShadowDom:return new _L(l,c,n,r,s,a,this.nonce,d);default:o=new gh(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Q(Vw),Q(Bw),Q(ba),Q(gL),Q(Xn),Q(ui),Q(be),Q(Lm))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();class ph{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(dh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Uw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Uw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=dh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=dh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Wn.DashCase|Wn.Important)?t.style.setProperty(n,r,i&Wn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Wn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=gs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Uw(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _L extends ph{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=$w(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gh extends ph{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?$w(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zw extends gh{constructor(t,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(t,n,r,o,s,a,l,c),this.contentAttr=function mL(e){return"_ngcontent-%COMP%".replace(fh,e)}(c),this.hostAttr=function yL(e){return"_nghost-%COMP%".replace(fh,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let DL=(()=>{class e extends jw{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Q(Xn))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();const Gw=["alt","control","meta","shift"],CL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let bL=(()=>{class e extends jw{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gs().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Gw.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=CL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Gw.forEach(s=>{s!==i&&(0,wL[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Q(Xn))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();function qw(e){return{appProviders:[...Kw,...e?.providers??[]],platformProviders:TL}}const TL=[{provide:ui,useValue:"browser"},{provide:Fm,useValue:function SL(){lh.makeCurrent()},multi:!0},{provide:Xn,useFactory:function IL(){return function s0(e){Ru=e}(document),document},deps:[]}],AL=new A(""),Ww=[{provide:Dl,useClass:class uL{addToWindow(t){ae.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new D(5103,!1);return o},ae.getAllAngularTestabilities=()=>t.getAllTestabilities(),ae.getAllAngularRootElements=()=>t.getAllRootElements(),ae.frameworkStabilizers||(ae.frameworkStabilizers=[]),ae.frameworkStabilizers.push(r=>{const i=ae.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?gs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:wC,useClass:Of,deps:[be,Pf,Dl]},{provide:Of,useClass:Of,deps:[be,Pf,Dl]}],Kw=[{provide:Xc,useValue:"root"},{provide:fn,useFactory:function ML(){return new fn},deps:[]},{provide:ch,useClass:DL,multi:!0,deps:[Xn,be,ui]},{provide:ch,useClass:bL,multi:!0,deps:[Xn]},hh,Bw,Vw,{provide:Nd,useExisting:hh},{provide:class xR{},useClass:dL,deps:[]},[]];let NL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ba,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Q(AL,12))}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({providers:[...Kw,...Ww],imports:[en,Tk]})}}return e})();function Jn(e){return this instanceof Jn?(this.v=e,this):new Jn(e)}function tb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function _h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nb=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function rb(e){return Le(e?.then)}function ib(e){return Le(e[Ic])}function ob(e){return Symbol.asyncIterator&&Le(e?.[Symbol.asyncIterator])}function sb(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ab=function sV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lb(e){return Le(e?.[ab])}function cb(e){return function eb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(h){return function(p){return Promise.resolve(p).then(h,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(m,v){o.push([h,g,m,v])>1||l(h,g)})},p&&(i[h]=p(i[h])))}function l(h,p){try{!function c(h){h.value instanceof Jn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}(r[h](p))}catch(g){f(o[0][3],g)}}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Jn(n.read());if(i)return yield Jn(void 0);yield yield Jn(r)}}finally{n.releaseLock()}})}function ub(e){return Le(e?.getReader)}function er(e){if(e instanceof Ze)return e;if(null!=e){if(ib(e))return function aV(e){return new Ze(t=>{const n=e[Ic]();if(Le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(nb(e))return function lV(e){return new Ze(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(rb(e))return function cV(e){return new Ze(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Rp)})}(e);if(ob(e))return db(e);if(lb(e))return function uV(e){return new Ze(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ub(e))return function dV(e){return db(cb(e))}(e)}throw sb(e)}function db(e){return new Ze(t=>{(function fV(e,t){var n,r,i,o;return function Xw(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=tb(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function tr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function fb(e,t=0){return dr((n,r)=>{n.subscribe(Bn(r,i=>tr(r,e,()=>r.next(i),t),()=>tr(r,e,()=>r.complete(),t),i=>tr(r,e,()=>r.error(i),t)))})}function hb(e,t=0){return dr((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function pb(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ze(n=>{tr(n,t,()=>{const r=e[Symbol.asyncIterator]();tr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ch(e,t){return t?function vV(e,t){if(null!=e){if(ib(e))return function hV(e,t){return er(e).pipe(hb(t),fb(t))}(e,t);if(nb(e))return function gV(e,t){return new Ze(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(rb(e))return function pV(e,t){return er(e).pipe(hb(t),fb(t))}(e,t);if(ob(e))return pb(e,t);if(lb(e))return function mV(e,t){return new Ze(n=>{let r;return tr(n,t,()=>{r=e[ab](),tr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Le(r?.return)&&r.return()})}(e,t);if(ub(e))return function yV(e,t){return pb(cb(e),t)}(e,t)}throw sb(e)}(e,t):er(e)}const{isArray:_V}=Array,{getPrototypeOf:DV,prototype:CV,keys:wV}=Object;function gb(e){return e&&Le(e.schedule)}function wh(e){return e[e.length-1]}function mb(e){return gb(wh(e))?e.pop():void 0}const{isArray:MV}=Array;function AV(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function NV(...e){const t=function SV(e){return Le(wh(e))?e.pop():void 0}(e),{args:n,keys:r}=function bV(e){if(1===e.length){const t=e[0];if(_V(t))return{args:t,keys:null};if(function EV(e){return e&&"object"==typeof e&&DV(e)===CV}(t)){const n=wV(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new Ze(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;er(n[u]).subscribe(Bn(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?AV(r,a):a),o.complete())}))}});return t?i.pipe(function TV(e){return Yi(t=>function IV(e,t){return MV(t)?e(...t):e(t)}(e,t))}(t)):i}let yb=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(E(Cr),E(Wt))}}static{this.\u0275dir=$({type:e})}}return e})(),Or=(()=>{class e extends yb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=it(e)))(i||e)}})()}static{this.\u0275dir=$({type:e,features:[fe]})}}return e})();const Dn=new A(""),PV={provide:Dn,useExisting:me(()=>Cs),multi:!0},kV=new A("");let Cs=(()=>{class e extends yb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xV(){const e=gs()?gs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(E(Cr),E(Wt),E(kV,8))}}static{this.\u0275dir=$({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&q("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Se([PV]),fe]})}}return e})();const st=new A(""),rr=new A("");function Tb(e){return null!=e}function Ab(e){return Cl(e)?Ch(e):e}function Nb(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function Ob(e,t){return t.map(n=>n(e))}function Pb(e){return e.map(t=>function RV(e){return!e.validate}(t)?t:n=>t.validate(n))}function bh(e){return null!=e?function xb(e){if(!e)return null;const t=e.filter(Tb);return 0==t.length?null:function(n){return Nb(Ob(n,t))}}(Pb(e)):null}function Eh(e){return null!=e?function kb(e){if(!e)return null;const t=e.filter(Tb);return 0==t.length?null:function(n){return NV(Ob(n,t).map(Ab)).pipe(Yi(Nb))}}(Pb(e)):null}function Fb(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Sh(e){return e?Array.isArray(e)?e:[e]:[]}function Wl(e,t){return Array.isArray(e)?e.includes(t):e===t}function Vb(e,t){const n=Sh(t);return Sh(e).forEach(i=>{Wl(n,i)||n.push(i)}),n}function jb(e,t){return Sh(t).filter(n=>!Wl(e,n))}class Bb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=bh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Eh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class pt extends Bb{get formDirective(){return null}get path(){return null}}class ir extends Bb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hb{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mh=(()=>{class e extends Hb{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(E(ir,2))}}static{this.\u0275dir=$({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&qe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]})}}return e})();const ws="VALID",Ql="INVALID",qi="PENDING",bs="DISABLED";function Zl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Oh{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ws}get invalid(){return this.status===Ql}get pending(){return this.status==qi}get disabled(){return this.status===bs}get enabled(){return this.status!==bs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Vb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Vb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(jb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(jb(t,this._rawAsyncValidators))}hasValidator(t){return Wl(this._rawValidators,t)}hasAsyncValidator(t){return Wl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=bs,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ws,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ws||this.status===qi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bs:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qi,this._hasOwnPendingAsyncValidator=!0;const n=Ab(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?bs:this.errors?Ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qi)?qi:this._anyControlsHaveStatus(Ql)?Ql:ws}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function HV(e){return Array.isArray(e)?bh(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function $V(e){return Array.isArray(e)?Eh(e):e||null}(this._rawAsyncValidators)}}const Pr=new A("CallSetDisabledState",{providedIn:"root",factory:()=>Es}),Es="always";function Ss(e,t,n=Es){(function xh(e,t){const n=function Rb(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Fb(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function Lb(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Fb(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Jl(t._rawValidators,i),Jl(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function GV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Gb(e,t)})}(e,t),function WV(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function qV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Gb(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function zV(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Jl(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Gb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Kb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Qb(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Zb=class extends Oh{constructor(t=null,n,r){super(function Ah(e){return(Zl(e)?e.validators:e)||null}(n),function Nh(e,t){return(Zl(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Qb(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Kb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Kb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Qb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},t2={provide:ir,useExisting:me(()=>tc)},Jb=Promise.resolve();let tc=(()=>{class e extends ir{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Zb,this._registered=!1,this.name="",this.update=new le,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Rh(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Cs?n=o:function ZV(e){return Object.getPrototypeOf(e.constructor)===Or}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Fh(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ss(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Jb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function qf(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);Jb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Yl(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(E(pt,9),E(st,10),E(rr,10),E(Dn,10),E(Vf,8),E(Pr,8))}}static{this.\u0275dir=$({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"],options:[Ae.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Se([t2]),fe,sn]})}}return e})();const Vh=new A(""),f2={provide:Dn,useExisting:me(()=>nc),multi:!0};function sE(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let nc=(()=>{class e extends Or{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=sE(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function h2(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=it(e)))(i||e)}})()}static{this.\u0275dir=$({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&q("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Se([f2]),fe]})}}return e})(),aE=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(sE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(E(Wt),E(Cr),E(nc,9))}}static{this.\u0275dir=$({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const p2={provide:Dn,useExisting:me(()=>$h),multi:!0};function lE(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let $h=(()=>{class e extends Or{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function g2(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=it(e)))(i||e)}})()}static{this.\u0275dir=$({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&q("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Se([p2]),fe]})}}return e})(),cE=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(lE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(lE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(E(Wt),E(Cr),E($h,9))}}static{this.\u0275dir=$({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),_E=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({})}}return e})(),rc=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pr,useValue:n.callSetDisabledState??Es}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({imports:[_E]})}}return e})(),S2=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Vh,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Pr,useValue:n.callSetDisabledState??Es}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({imports:[_E]})}}return e})();function zh(e){return dr((t,n)=>{er(e).subscribe(Bn(n,()=>n.complete(),Vs)),!n.closed&&t.subscribe(n)})}function M2(e,t){1&e&&(_e(),C(0,"svg",7)(1,"circle",8),te(2,"animate",9),w()())}function I2(e,t){1&e&&(_e(),C(0,"svg",7),te(1,"path",10),w())}function T2(e,t){1&e&&(_e(),C(0,"svg",7),te(1,"path",11)(2,"path",12),w())}function A2(e,t){1&e&&(_e(),C(0,"svg",7),te(1,"path",13)(2,"path",14),w())}function N2(e,t){1&e&&(_e(),C(0,"svg",7),te(1,"circle",15)(2,"path",16),w())}function O2(e,t){if(1&e&&(C(0,"span",6),Ke(1,M2,3,0)(2,I2,2,0)(3,T2,3,0)(4,A2,3,0)(5,N2,3,0),w()),2&e){let n;const r=Ie();uf("status-"+r.message.status),O(),Xe(1,"sending"===(n=r.message.status)?1:"sent"===n?2:"delivered"===n?3:"read"===n?4:"error"===n?5:-1)}}let P2=(()=>{class e{formatTime(n){return n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-message-bubble"]],inputs:{message:"message"},standalone:!0,features:[Yt],decls:8,vars:9,consts:[[1,"message-wrapper"],[1,"message-bubble"],[1,"message-content"],[1,"message-meta"],[1,"message-time"],[1,"message-status",3,"class"],[1,"message-status"],["width","12","height","12","viewBox","0 0 12 12","fill","none"],["cx","6","cy","6","r","1","fill","currentColor"],["attributeName","opacity","values","1;0;1","dur","1s","repeatCount","indefinite"],["d","M2 6l3 3 5-6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M1 6l2 2 4-4","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5 6l2 2 4-4","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M1 6l2 2 4-4","stroke","var(--apple-blue)","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M5 6l2 2 4-4","stroke","var(--apple-blue)","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["cx","6","cy","6","r","5","stroke","var(--apple-red)","stroke-width","1.5","fill","none"],["d","M6 3v3M6 8h.01","stroke","var(--apple-red)","stroke-width","1.5","stroke-linecap","round"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div",2),V(3),w(),C(4,"div",3)(5,"span",4),V(6),w(),Ke(7,O2,6,3,"span",5),w()()()),2&r&&(qe("user-message",i.message.isUser),O(),qe("user-bubble",i.message.isUser)("ai-bubble",!i.message.isUser),O(2),ji(" ",i.message.content," "),O(3),At(i.formatTime(i.message.timestamp)),O(),Xe(7,i.message.isUser&&i.message.status?7:-1))},dependencies:[en],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;margin-bottom:var(--spacing-md);animation:_ngcontent-%COMP%_messageSlideIn .3s cubic-bezier(.4,0,.2,1)}.message-wrapper.user-message[_ngcontent-%COMP%]{justify-content:flex-end}.message-bubble[_ngcontent-%COMP%]{max-width:70%;min-width:120px;padding:var(--spacing-md) var(--spacing-md);border-radius:var(--radius-lg);position:relative;word-wrap:break-word;box-shadow:var(--shadow-sm)}.user-bubble[_ngcontent-%COMP%]{background:var(--apple-blue);color:#fff;border-bottom-right-radius:var(--radius-sm)}.ai-bubble[_ngcontent-%COMP%]{background:var(--background-secondary);color:var(--text-primary);border-bottom-left-radius:var(--radius-sm);border:1px solid var(--separator)}.message-content[_ngcontent-%COMP%]{font-size:var(--font-size-body);line-height:1.4;margin-bottom:var(--spacing-xs);white-space:pre-wrap}.message-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:var(--spacing-xs);margin-top:var(--spacing-xs)}.message-time[_ngcontent-%COMP%]{font-size:var(--font-size-caption);opacity:.7;font-weight:400}.user-bubble[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.ai-bubble[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:var(--text-tertiary)}.message-status[_ngcontent-%COMP%]{display:flex;align-items:center;opacity:.8}.status-sending[_ngcontent-%COMP%]{color:#fff9}.status-sent[_ngcontent-%COMP%], .status-delivered[_ngcontent-%COMP%]{color:#fffc}.status-read[_ngcontent-%COMP%]{color:var(--apple-blue-light)}.status-error[_ngcontent-%COMP%]{color:var(--apple-red)}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.message-bubble[_ngcontent-%COMP%]{max-width:85%;padding:var(--spacing-sm) var(--spacing-md)}.message-content[_ngcontent-%COMP%]{font-size:var(--font-size-callout)}}"]})}}return e})(),x2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-typing-indicator"]],standalone:!0,features:[Yt],decls:7,vars:0,consts:[[1,"typing-wrapper"],[1,"typing-bubble"],[1,"typing-content"],[1,"typing-dots"],[1,"dot"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),te(4,"div",4)(5,"div",4)(6,"div",4),w()()()())},dependencies:[en],styles:[".typing-wrapper[_ngcontent-%COMP%]{display:flex;margin-bottom:var(--spacing-md);animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.typing-bubble[_ngcontent-%COMP%]{max-width:70%;padding:var(--spacing-md);border-radius:var(--radius-lg);background:var(--background-secondary);border:1px solid var(--separator);border-bottom-left-radius:var(--radius-sm);box-shadow:var(--shadow-sm)}.typing-content[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:20px}.typing-dots[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--text-tertiary);animation:_ngcontent-%COMP%_typingDot 1.4s infinite ease-in-out}.dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typingDot{0%,60%,to{transform:scale(1);opacity:.4}30%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.typing-bubble[_ngcontent-%COMP%]{max-width:85%;padding:var(--spacing-sm) var(--spacing-md)}}"]})}}return e})();const k2=["messageContainer"],F2=(e,t)=>t.id;function R2(e,t){1&e&&(C(0,"div",4)(1,"div",5),_e(),C(2,"svg",6),te(3,"circle",7)(4,"path",8)(5,"circle",9)(6,"circle",10),w()(),Nn(),C(7,"h3",11),V(8,"Start a conversation"),w(),C(9,"p",12),V(10,"Send a message to begin chatting with your AI assistant."),w()())}function L2(e,t){1&e&&te(0,"app-message-bubble",13),2&e&&ut("message",t.$implicit)}function V2(e,t){1&e&&Yo(0,L2,1,1,"app-message-bubble",13,F2),2&e&&Xo(Ie().messages)}function j2(e,t){1&e&&te(0,"app-typing-indicator")}let B2=(()=>{class e{constructor(){this.messages=[],this.isTyping=!1,this.shouldScrollToBottom=!1}ngOnChanges(){this.shouldScrollToBottom=!0}ngAfterViewChecked(){this.shouldScrollToBottom&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}scrollToBottom(){try{const n=this.messageContainer.nativeElement;n.scrollTop=n.scrollHeight}catch(n){console.error("Error scrolling to bottom:",n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-message-list"]],viewQuery:function(r,i){if(1&r&&os(k2,5),2&r){let o;ss(o=as())&&(i.messageContainer=o.first)}},inputs:{messages:"messages",isTyping:"isTyping"},standalone:!0,features:[sn,Yt],decls:7,vars:2,consts:[["messageContainer",""],[1,"message-list"],[1,"messages-container"],[1,"messages-content"],[1,"empty-state"],[1,"empty-icon"],["width","64","height","64","viewBox","0 0 64 64","fill","none"],["cx","32","cy","32","r","24","stroke","currentColor","stroke-width","2","fill","none"],["d","M24 32c0-4.4 3.6-8 8-8s8 3.6 8 8","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["cx","26","cy","28","r","2","fill","currentColor"],["cx","38","cy","28","r","2","fill","currentColor"],[1,"empty-title"],[1,"empty-description"],[3,"message"]],template:function(r,i){1&r&&(C(0,"div",1,0)(2,"div",2)(3,"div",3),Ke(4,R2,11,0,"div",4)(5,V2,2,0)(6,j2,1,0,"app-typing-indicator"),w()()()),2&r&&(O(4),Xe(4,0===i.messages.length?4:5),O(2),Xe(6,i.isTyping?6:-1))},dependencies:[en,P2,x2],styles:["[_nghost-%COMP%]{flex:1;min-height:0;display:flex;flex-direction:column}.message-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;background:var(--background-primary);position:relative}.messages-container[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;justify-content:flex-end}.messages-content[_ngcontent-%COMP%]{padding:var(--spacing-lg) var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-md);max-width:800px;margin:0 auto;width:100%}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--spacing-xxl);margin:auto;max-width:400px}.empty-icon[_ngcontent-%COMP%]{color:var(--text-tertiary);margin-bottom:var(--spacing-lg);opacity:.6}.empty-title[_ngcontent-%COMP%]{font-size:var(--font-size-title);font-weight:600;color:var(--text-primary);margin:0 0 var(--spacing-sm) 0}.empty-description[_ngcontent-%COMP%]{font-size:var(--font-size-body);color:var(--text-secondary);margin:0;line-height:1.5}.message-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.message-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.message-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--apple-gray);border-radius:3px}.message-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--apple-gray-dark)}@media (max-width: 768px){.messages-content[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-sm)}.empty-state[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.empty-title[_ngcontent-%COMP%]{font-size:var(--font-size-headline)}}"]})}}return e})();const H2=["messageInput"];let $2=(()=>{class e{constructor(){this.disabled=!1,this.messageSent=new le,this.messageText=""}get canSend(){return this.messageText.trim().length>0&&this.messageText.length<=5e3&&!this.disabled}onKeyDown(n){"Enter"===n.key&&!n.shiftKey&&(n.preventDefault(),this.canSend&&this.sendMessage())}onInput(){this.adjustTextareaHeight()}sendMessage(){if(this.canSend){const n=this.messageText.trim();this.messageSent.emit(n),this.messageText="",this.adjustTextareaHeight(),this.focusInput()}}adjustTextareaHeight(){const n=this.messageInput?.nativeElement;n&&(n.style.height="auto",n.style.height=Math.min(n.scrollHeight,120)+"px")}focusInput(){setTimeout(()=>{this.messageInput?.nativeElement.focus()},0)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-message-input"]],viewQuery:function(r,i){if(1&r&&os(H2,5),2&r){let o;ss(o=as())&&(i.messageInput=o.first)}},inputs:{disabled:"disabled"},outputs:{messageSent:"messageSent"},standalone:!0,features:[Yt],decls:12,vars:10,consts:[["messageInput",""],[1,"message-input-container"],[1,"input-wrapper"],[1,"input-field"],["placeholder","Message...","rows","1",1,"message-textarea",3,"ngModelChange","keydown","input","ngModel","disabled"],["type","button","aria-label","Send message",1,"send-button",3,"click","disabled"],["width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M2 10l16-8-8 16-2-6-6-2z","fill","currentColor"],[1,"input-actions"],[1,"character-count"]],template:function(r,i){if(1&r){const o=kn();C(0,"div",1)(1,"div",2)(2,"div",3)(3,"textarea",4,0),Hi("ngModelChange",function(a){return re(o),ls(i.messageText,a)||(i.messageText=a),ie(a)}),q("keydown",function(a){return re(o),ie(i.onKeyDown(a))})("input",function(){return re(o),ie(i.onInput())}),V(5,"          "),w(),C(6,"button",5),q("click",function(){return re(o),ie(i.sendMessage())}),_e(),C(7,"svg",6),te(8,"path",7),w()()(),Nn(),C(9,"div",8)(10,"span",9),V(11),w()()()()}2&r&&(O(3),qe("disabled",i.disabled),Bi("ngModel",i.messageText),ut("disabled",i.disabled),O(3),qe("disabled",!i.canSend),ut("disabled",!i.canSend),O(4),qe("warning",i.messageText.length>4e3),O(),ji(" ",i.messageText.length,"/5000 "))},dependencies:[en,rc,Cs,Mh,tc],styles:[".message-input-container[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-lg);background:var(--background-primary);border-top:1px solid var(--separator);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px)}.input-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;width:100%}.input-field[_ngcontent-%COMP%]{display:flex;align-items:flex-end;background:var(--background-secondary);border:1px solid var(--separator);border-radius:var(--radius-xl);padding:var(--spacing-sm);gap:var(--spacing-sm);transition:all .2s ease;position:relative}.input-field[_ngcontent-%COMP%]:focus-within{border-color:var(--apple-blue);box-shadow:0 0 0 3px #007aff1a}.message-textarea[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;resize:none;font-size:var(--font-size-body);line-height:1.4;padding:var(--spacing-sm) var(--spacing-md);color:var(--text-primary);min-height:20px;max-height:120px;overflow-y:auto;font-family:var(--font-family)}.message-textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.message-textarea.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.send-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;background:var(--apple-blue);color:#fff;transition:all .2s ease;flex-shrink:0}.send-button[_ngcontent-%COMP%]:hover:not(.disabled){background:var(--apple-blue-dark);transform:scale(1.05)}.send-button[_ngcontent-%COMP%]:active:not(.disabled){transform:scale(.95)}.send-button.disabled[_ngcontent-%COMP%]{background:var(--apple-gray);cursor:not-allowed;opacity:.5}.input-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:var(--spacing-xs);padding:0 var(--spacing-sm)}.character-count[_ngcontent-%COMP%]{font-size:var(--font-size-caption);color:var(--text-tertiary);font-weight:400}.character-count.warning[_ngcontent-%COMP%]{color:var(--apple-orange)}.message-textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.message-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.message-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--apple-gray);border-radius:2px}@media (max-width: 768px){.message-input-container[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md)}.message-textarea[_ngcontent-%COMP%]{font-size:var(--font-size-callout)}}"]})}}return e})();const U2=(e,t)=>t.id;function z2(e,t){1&e&&(C(0,"div",7)(1,"p"),V(2,"No conversations yet"),w()())}function G2(e,t){if(1&e){const n=kn();C(0,"div",23),q("click",function(){const i=re(n).$implicit;return ie(Ie(2).sessionSelected.emit(i.id))}),C(1,"div",24)(2,"h3",25),V(3),w(),C(4,"p",26),V(5),w(),C(6,"span",27),V(7),w()(),C(8,"button",28),q("click",function(i){const o=re(n).$implicit;return ie(Ie(2).deleteSession(i,o.id))}),_e(),C(9,"svg",29),te(10,"path",30),w()()()}if(2&e){const n=t.$implicit,r=Ie(2);qe("active",n.isActive),O(3),At(n.title),O(2),At(r.getLastMessage(n)),O(2),At(r.formatTime(n.lastActivity))}}function q2(e,t){1&e&&Yo(0,G2,11,5,"div",22,U2),2&e&&Xo(Ie().sessions)}let W2=(()=>{class e{constructor(){this.sessions=[],this.isVisible=!1,this.sessionSelected=new le,this.newChat=new le,this.sessionDeleted=new le,this.closeSidebar=new le,this.openSettings=new le}getLastMessage(n){if(0===n.messages.length)return"No messages yet";const r=n.messages[n.messages.length-1],i=r.content.length>50?r.content.substring(0,50)+"...":r.content;return r.isUser?`You: ${i}`:i}formatTime(n){const i=((new Date).getTime()-n.getTime())/36e5;return i<1?"Just now":i<24?`${Math.floor(i)}h ago`:i<168?`${Math.floor(i/24)}d ago`:n.toLocaleDateString()}deleteSession(n,r){n.stopPropagation(),this.sessionDeleted.emit(r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-sidebar"]],inputs:{sessions:"sessions",isVisible:"isVisible"},outputs:{sessionSelected:"sessionSelected",newChat:"newChat",sessionDeleted:"sessionDeleted",closeSidebar:"closeSidebar",openSettings:"openSettings"},standalone:!0,features:[Yt],decls:28,vars:3,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-title"],["aria-label","New chat",1,"new-chat-button",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M10 4v12M4 10h12","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"sessions-list"],[1,"empty-sessions"],[1,"sidebar-footer"],[1,"user-info"],[1,"user-avatar"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["cx","12","cy","8","r","4","stroke","currentColor","stroke-width","2"],["d","M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2","stroke","currentColor","stroke-width","2"],[1,"user-details"],[1,"user-name"],[1,"user-status"],["aria-label","Open settings",1,"settings-button",3,"click"],["d","M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z","stroke","currentColor","stroke-width","1.5"],["d","M10 1v2m0 14v2M4.22 4.22l1.42 1.42m8.72 8.72l1.42 1.42M1 10h2m14 0h2M4.22 15.78l1.42-1.42m8.72-8.72l1.42-1.42","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["aria-label","Close sidebar",1,"close-sidebar-button",3,"click"],["d","M15 5L5 15M5 5l10 10","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"session-item",3,"active"],[1,"session-item",3,"click"],[1,"session-content"],[1,"session-title"],[1,"session-preview"],[1,"session-time"],["aria-label","Delete session",1,"delete-session-button",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","none"],["d","M12 4L4 12M4 4l8 8","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"]],template:function(r,i){1&r&&(C(0,"aside",0)(1,"div",1)(2,"h2",2),V(3,"Chats"),w(),C(4,"button",3),q("click",function(){return i.newChat.emit()}),_e(),C(5,"svg",4),te(6,"path",5),w()()(),Nn(),C(7,"div",6),Ke(8,z2,3,0,"div",7)(9,q2,2,0),w(),C(10,"div",8)(11,"div",9)(12,"div",10),_e(),C(13,"svg",11),te(14,"circle",12)(15,"path",13),w()(),Nn(),C(16,"div",14)(17,"span",15),V(18,"User"),w(),C(19,"span",16),V(20,"Online"),w()(),C(21,"button",17),q("click",function(){return i.openSettings.emit()}),_e(),C(22,"svg",4),te(23,"path",18)(24,"path",19),w()()()(),Nn(),C(25,"button",20),q("click",function(){return i.closeSidebar.emit()}),_e(),C(26,"svg",4),te(27,"path",21),w()()()),2&r&&(qe("visible",i.isVisible),O(8),Xe(8,0===i.sessions.length?8:9))},dependencies:[en],styles:[".sidebar[_ngcontent-%COMP%]{width:280px;height:100vh;background:var(--background-secondary);border-right:1px solid var(--separator);display:flex;flex-direction:column;position:fixed;left:-280px;top:0;z-index:999;transition:left .3s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px)}.sidebar.visible[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-lg) var(--spacing-md);border-bottom:1px solid var(--separator)}.sidebar-title[_ngcontent-%COMP%]{font-size:var(--font-size-title);font-weight:700;color:var(--text-primary);margin:0}.new-chat-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:var(--radius-sm);background:var(--apple-blue);color:#fff;transition:all .2s ease}.new-chat-button[_ngcontent-%COMP%]:hover{background:var(--apple-blue-dark);transform:scale(1.05)}.new-chat-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.sessions-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--spacing-sm) 0}.empty-sessions[_ngcontent-%COMP%]{padding:var(--spacing-xl) var(--spacing-md);text-align:center;color:var(--text-tertiary);font-size:var(--font-size-subhead)}.session-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--spacing-md);margin:0 var(--spacing-sm);border-radius:var(--radius-md);cursor:pointer;transition:all .2s ease;position:relative;gap:var(--spacing-sm)}.session-item[_ngcontent-%COMP%]:hover{background:var(--background-tertiary)}.session-item.active[_ngcontent-%COMP%]{background:var(--apple-blue);color:#fff}.session-content[_ngcontent-%COMP%]{flex:1;min-width:0}.session-title[_ngcontent-%COMP%]{font-size:var(--font-size-callout);font-weight:600;margin:0 0 var(--spacing-xs) 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:inherit}.session-preview[_ngcontent-%COMP%]{font-size:var(--font-size-footnote);margin:0 0 var(--spacing-xs) 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.7;color:inherit}.session-time[_ngcontent-%COMP%]{font-size:var(--font-size-caption);opacity:.6;color:inherit}.delete-session-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:var(--radius-sm);color:var(--text-tertiary);opacity:0;transition:all .2s ease;flex-shrink:0}.session-item[_ngcontent-%COMP%]:hover   .delete-session-button[_ngcontent-%COMP%]{opacity:1}.delete-session-button[_ngcontent-%COMP%]:hover{background:var(--apple-red);color:#fff}.session-item.active[_ngcontent-%COMP%]   .delete-session-button[_ngcontent-%COMP%]{color:#ffffffb3}.session-item.active[_ngcontent-%COMP%]   .delete-session-button[_ngcontent-%COMP%]:hover{background:#fff3;color:#fff}.sidebar-footer[_ngcontent-%COMP%]{padding:var(--spacing-md);border-top:1px solid var(--separator)}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md)}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--apple-blue);color:#fff;display:flex;align-items:center;justify-content:center}.user-details[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{display:block;font-size:var(--font-size-callout);font-weight:600;color:var(--text-primary)}.user-status[_ngcontent-%COMP%]{display:block;font-size:var(--font-size-footnote);color:var(--apple-green)}.settings-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:var(--radius-sm);color:var(--text-secondary);transition:all .2s ease;flex-shrink:0}.settings-button[_ngcontent-%COMP%]:hover{background:var(--background-tertiary);color:var(--text-primary)}.close-sidebar-button[_ngcontent-%COMP%]{position:absolute;top:var(--spacing-md);right:var(--spacing-md);width:32px;height:32px;border-radius:var(--radius-sm);color:var(--text-secondary);display:none;align-items:center;justify-content:center;transition:all .2s ease}.close-sidebar-button[_ngcontent-%COMP%]:hover{background:var(--background-tertiary);color:var(--text-primary)}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--apple-gray);border-radius:3px}@media (max-width: 768px){.close-sidebar-button[_ngcontent-%COMP%]{display:flex}.sidebar-header[_ngcontent-%COMP%]{padding-right:60px}}@media (min-width: 769px){.sidebar[_ngcontent-%COMP%]{position:fixed;left:-280px}.sidebar.visible[_ngcontent-%COMP%]{left:0}}"]})}}return e})();const K2=(e,t)=>t.id;function Q2(e,t){1&e&&(C(0,"div",12)(1,"p"),V(2,"No API keys configured"),w()())}function Z2(e,t){1&e&&(C(0,"span",49),V(1,"\u2713"),w(),V(2," API key is valid "))}function Y2(e,t){1&e&&(C(0,"span",49),V(1,"\u2717"),w(),V(2," API key failed "))}function X2(e,t){if(1&e&&(C(0,"span",48),V(1),w()),2&e){const n=Ie(2).$implicit,r=Ie(2);O(),ji(" - Tested ",r.formatTestTime(n.lastTested),"")}}function J2(e,t){if(1&e&&(C(0,"div",47),Ke(1,Z2,3,0)(2,Y2,3,0)(3,X2,2,1,"span",48),w()),2&e){const n=Ie().$implicit;uf("status-"+n.testStatus),O(),Xe(1,"success"===n.testStatus?1:"error"===n.testStatus?2:-1),O(2),Xe(3,n.lastTested?3:-1)}}function ej(e,t){1&e&&(_e(),C(0,"svg",43),te(1,"path",50),w())}function tj(e,t){1&e&&(_e(),C(0,"svg",27),te(1,"path",51),w())}function nj(e,t){1&e&&(_e(),C(0,"svg",27),te(1,"circle",52),w())}function rj(e,t){1&e&&(_e(),C(0,"svg",27),te(1,"circle",53),w())}function ij(e,t){if(1&e){const n=kn();C(0,"div",33)(1,"div",34)(2,"div",35)(3,"span",36),V(4),w(),C(5,"span",37),V(6),w()(),C(7,"div",38)(8,"input",39),q("input",function(i){const o=re(n).$implicit;return ie(Ie(2).updateApiKey(o.id,"apiKey",i))}),w(),Ke(9,J2,4,4,"div",40),w()(),C(10,"div",41)(11,"button",42),q("click",function(){const i=re(n).$implicit;return ie(Ie(2).testApiKey(i))}),Ke(12,ej,2,0,":svg:svg",43)(13,tj,2,0),w(),C(14,"button",44),q("click",function(){const i=re(n).$implicit;return ie(Ie(2).toggleApiKey(i.id))}),Ke(15,nj,2,0,":svg:svg",27)(16,rj,2,0),w(),C(17,"button",45),q("click",function(){const i=re(n).$implicit;return ie(Ie(2).deleteApiKey(i.id))}),_e(),C(18,"svg",27),te(19,"path",46),w()()()()}if(2&e){const n=t.$implicit,r=Ie(2);qe("active",n.isActive),O(4),At(n.name),O(2),At(n.provider),O(2),ut("value",n.apiKey),O(),Xe(9,n.testStatus?9:-1),O(2),ut("disabled",r.testingKeys[n.id]),O(),Xe(12,r.testingKeys[n.id]?12:13),O(2),qe("active",n.isActive),yn("aria-label",n.isActive?"Deactivate":"Activate"),O(),Xe(15,n.isActive?15:16)}}function oj(e,t){1&e&&Yo(0,ij,20,12,"div",32,K2),2&e&&Xo(Ie().apiKeys)}let sj=(()=>{class e{constructor(){this.isVisible=!1,this.closeModal=new le,this.settingsSaved=new le,this.apiKeys=[],this.testingKeys={},this.newApiKey={name:"",provider:"",apiKey:""}}ngOnInit(){this.loadApiKeys()}loadApiKeys(){const n=localStorage.getItem("llm-api-keys");n&&(this.apiKeys=JSON.parse(n))}saveApiKeys(){localStorage.setItem("llm-api-keys",JSON.stringify(this.apiKeys))}addApiKey(){if(this.canAddApiKey()){const n={id:Date.now().toString(),name:this.newApiKey.name,provider:this.newApiKey.provider,apiKey:this.newApiKey.apiKey,isActive:0===this.apiKeys.length,testStatus:"untested"};this.apiKeys.push(n),this.newApiKey={name:"",provider:"",apiKey:""}}}canAddApiKey(){return!!(this.newApiKey.name&&this.newApiKey.provider&&this.newApiKey.apiKey)}updateApiKey(n,r,i){const o=this.apiKeys.find(s=>s.id===n);o&&(o[r]=i.target.value,"apiKey"===r&&(o.testStatus="untested",o.lastTested=void 0))}toggleApiKey(n){this.apiKeys.forEach(i=>i.isActive=!1);const r=this.apiKeys.find(i=>i.id===n);r&&(r.isActive=!0)}deleteApiKey(n){const r=this.apiKeys.findIndex(i=>i.id===n);if(r>-1){const i=this.apiKeys[r].isActive;this.apiKeys.splice(r,1),i&&this.apiKeys.length>0&&(this.apiKeys[0].isActive=!0)}}testApiKey(n){var r=this;return pe(function*(){r.testingKeys[n.id]=!0;try{const i=yield r.performApiTest(n);n.testStatus=i?"success":"error",n.lastTested=new Date}catch(i){n.testStatus="error",n.lastTested=new Date,console.error("API test failed:",i)}finally{r.testingKeys[n.id]=!1}})()}performApiTest(n){var r=this;return pe(function*(){return new Promise(o=>{"Google Gemini Flash 2.5"===n.provider||"Google Gemini"===n.provider?r.testGoogleGeminiApi(n.apiKey).then(o).catch(()=>o(!1)):"OpenAI"===n.provider?r.testOpenAIApi(n.apiKey).then(o).catch(()=>o(!1)):"Anthropic"===n.provider?r.testAnthropicApi(n.apiKey).then(o).catch(()=>o(!1)):setTimeout(()=>o(Math.random()>.3),1e3)})})()}testGoogleGeminiApi(n){return pe(function*(){try{const r=yield fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hello, this is a test. Please respond with 'API test successful'."}]}]})});if(r.ok){const i=yield r.json();return i.candidates&&i.candidates.length>0}return!1}catch(r){return console.error("Google Gemini API test failed:",r),!1}})()}testOpenAIApi(n){return pe(function*(){try{return(yield fetch("https://api.openai.com/v1/models",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).ok}catch(r){return console.error("OpenAI API test failed:",r),!1}})()}testAnthropicApi(n){return pe(function*(){try{return(yield fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":n,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:10,messages:[{role:"user",content:"Test"}]})})).ok}catch(r){return console.error("Anthropic API test failed:",r),!1}})()}formatTestTime(n){const i=((new Date).getTime()-n.getTime())/6e4;return i<1?"just now":i<60?`${Math.floor(i)}m ago`:i<1440?`${Math.floor(i/60)}h ago`:n.toLocaleDateString()}saveSettings(){this.saveApiKeys(),this.settingsSaved.emit(this.apiKeys),this.closeModal.emit()}onOverlayClick(n){n.target===n.currentTarget&&this.closeModal.emit()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-settings-modal"]],inputs:{isVisible:"isVisible"},outputs:{closeModal:"closeModal",settingsSaved:"settingsSaved"},standalone:!0,features:[Yt],decls:48,vars:7,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close settings",1,"close-button",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M15 5L5 15M5 5l10 10","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-body"],[1,"settings-section"],[1,"section-title"],[1,"section-description"],[1,"api-keys-list"],[1,"empty-state"],[1,"add-api-key-form"],[1,"form-row"],["type","text","placeholder","API Key Name (e.g., OpenAI GPT-4)",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","OpenAI"],["value","Anthropic"],["value","Google Gemini"],["value","Google Gemini Flash 2.5"],["value","Cohere"],["value","Hugging Face"],["value","Other"],["type","password","placeholder","Enter API key",1,"form-input","full-width",3,"ngModelChange","ngModel"],["type","button",1,"add-button",3,"click","disabled"],["width","16","height","16","viewBox","0 0 16 16","fill","none"],["d","M8 3v10M3 8h10","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"modal-footer"],[1,"cancel-button",3,"click"],[1,"save-button",3,"click"],[1,"api-key-item",3,"active"],[1,"api-key-item"],[1,"api-key-info"],[1,"api-key-header"],[1,"api-key-name"],[1,"api-key-provider"],[1,"api-key-value"],["type","password","placeholder","Enter API key",1,"api-key-input",3,"input","value"],[1,"test-status",3,"class"],[1,"api-key-actions"],["aria-label","Test API key",1,"test-button",3,"click","disabled"],["width","16","height","16","viewBox","0 0 16 16","fill","none",1,"spinning"],[1,"toggle-button",3,"click"],["aria-label","Delete API key",1,"delete-button",3,"click"],["d","M12 4L4 12M4 4l8 8","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],[1,"test-status"],[1,"test-time"],[1,"status-icon"],["d","M8 2v4M8 10v4M2 8h4M10 8h4","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["d","M13 3L6 10l-3-3","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","8","cy","8","r","6","fill","currentColor"],["cx","8","cy","8","r","6","stroke","currentColor","stroke-width","2"]],template:function(r,i){1&r&&(C(0,"div",0),q("click",function(s){return i.onOverlayClick(s)}),C(1,"div",1),q("click",function(s){return s.stopPropagation()}),C(2,"div",2)(3,"h2",3),V(4,"Settings"),w(),C(5,"button",4),q("click",function(){return i.closeModal.emit()}),_e(),C(6,"svg",5),te(7,"path",6),w()()(),Nn(),C(8,"div",7)(9,"div",8)(10,"h3",9),V(11,"LLM API Keys"),w(),C(12,"p",10),V(13,"Manage your AI model API keys"),w(),C(14,"div",11),Ke(15,Q2,3,0,"div",12)(16,oj,2,0),w(),C(17,"div",13)(18,"div",14)(19,"input",15),Hi("ngModelChange",function(s){return ls(i.newApiKey.name,s)||(i.newApiKey.name=s),s}),w(),C(20,"select",16),Hi("ngModelChange",function(s){return ls(i.newApiKey.provider,s)||(i.newApiKey.provider=s),s}),C(21,"option",17),V(22,"Select Provider"),w(),C(23,"option",18),V(24,"OpenAI"),w(),C(25,"option",19),V(26,"Anthropic"),w(),C(27,"option",20),V(28,"Google Gemini"),w(),C(29,"option",21),V(30,"Google Gemini Flash 2.5"),w(),C(31,"option",22),V(32,"Cohere"),w(),C(33,"option",23),V(34,"Hugging Face"),w(),C(35,"option",24),V(36,"Other"),w()()(),C(37,"div",14)(38,"input",25),Hi("ngModelChange",function(s){return ls(i.newApiKey.apiKey,s)||(i.newApiKey.apiKey=s),s}),w()(),C(39,"button",26),q("click",function(){return i.addApiKey()}),_e(),C(40,"svg",27),te(41,"path",28),w(),V(42," Add API Key "),w()()()(),Nn(),C(43,"div",29)(44,"button",30),q("click",function(){return i.closeModal.emit()}),V(45,"Cancel"),w(),C(46,"button",31),q("click",function(){return i.saveSettings()}),V(47,"Save Settings"),w()()()()),2&r&&(qe("visible",i.isVisible),O(15),Xe(15,0===i.apiKeys.length?15:16),O(4),Bi("ngModel",i.newApiKey.name),O(),Bi("ngModel",i.newApiKey.provider),O(18),Bi("ngModel",i.newApiKey.apiKey),O(),ut("disabled",!i.canAddApiKey()))},dependencies:[en,rc,aE,cE,Cs,nc,Mh,tc],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:var(--overlay);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.4,0,.2,1)}.modal-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-content[_ngcontent-%COMP%]{background:var(--background-primary);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);width:90vw;max-width:600px;max-height:80vh;display:flex;flex-direction:column;transform:scale(.9);transition:transform .3s cubic-bezier(.4,0,.2,1)}.modal-overlay.visible[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:scale(1)}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-lg);border-bottom:1px solid var(--separator)}.modal-title[_ngcontent-%COMP%]{font-size:var(--font-size-title);font-weight:700;color:var(--text-primary);margin:0}.close-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:var(--radius-sm);color:var(--text-secondary);transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{background:var(--background-tertiary);color:var(--text-primary)}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--spacing-lg)}.settings-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.section-title[_ngcontent-%COMP%]{font-size:var(--font-size-headline);font-weight:600;color:var(--text-primary);margin:0 0 var(--spacing-xs) 0}.section-description[_ngcontent-%COMP%]{font-size:var(--font-size-subhead);color:var(--text-secondary);margin:0 0 var(--spacing-lg) 0}.api-keys-list[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-xl);color:var(--text-tertiary);font-size:var(--font-size-subhead)}.api-key-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);border:1px solid var(--separator);border-radius:var(--radius-md);margin-bottom:var(--spacing-sm);transition:all .2s ease}.api-key-item[_ngcontent-%COMP%]:hover{background:var(--background-secondary)}.api-key-item.active[_ngcontent-%COMP%]{border-color:var(--apple-blue);background:#007aff0d}.api-key-info[_ngcontent-%COMP%]{flex:1;min-width:0}.api-key-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.api-key-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.api-key-provider[_ngcontent-%COMP%]{font-size:var(--font-size-footnote);color:var(--text-tertiary);background:var(--background-secondary);padding:2px 6px;border-radius:4px}.api-key-input[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-xs) var(--spacing-sm);border:1px solid var(--separator);border-radius:var(--radius-sm);background:var(--background-secondary);color:var(--text-primary);font-size:var(--font-size-subhead)}.api-key-input[_ngcontent-%COMP%]:focus{border-color:var(--apple-blue);background:var(--background-primary)}.test-status[_ngcontent-%COMP%]{font-size:var(--font-size-caption);margin-top:var(--spacing-xs);padding:2px 6px;border-radius:4px}.test-status.status-success[_ngcontent-%COMP%]{color:var(--apple-green);background:#34c7591a}.test-status.status-error[_ngcontent-%COMP%]{color:var(--apple-red);background:#ff3b301a}.test-time[_ngcontent-%COMP%]{opacity:.7;font-size:var(--font-size-caption)}.api-key-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.test-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:var(--radius-sm);color:var(--text-tertiary);transition:all .2s ease}.test-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--apple-green);color:#fff}.test-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.test-button[_ngcontent-%COMP%]   .spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.toggle-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:var(--radius-sm);color:var(--text-tertiary);transition:all .2s ease}.toggle-button[_ngcontent-%COMP%]:hover{background:var(--background-tertiary)}.toggle-button.active[_ngcontent-%COMP%]{color:var(--apple-blue)}.delete-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:var(--radius-sm);color:var(--text-tertiary);transition:all .2s ease}.delete-button[_ngcontent-%COMP%]:hover{background:var(--apple-red);color:#fff}.add-api-key-form[_ngcontent-%COMP%]{padding:var(--spacing-lg);background:var(--background-secondary);border-radius:var(--radius-md)}.form-row[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--separator);border-radius:var(--radius-sm);background:var(--background-primary);color:var(--text-primary);font-size:var(--font-size-subhead)}.form-input.full-width[_ngcontent-%COMP%]{width:100%}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:var(--apple-blue)}.add-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--apple-blue);color:#fff;border-radius:var(--radius-sm);font-weight:600;transition:all .2s ease}.add-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--apple-blue-dark)}.add-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-sm);padding:var(--spacing-lg);border-top:1px solid var(--separator)}.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--radius-sm);font-weight:600;transition:all .2s ease}.cancel-button[_ngcontent-%COMP%]{color:var(--text-secondary)}.cancel-button[_ngcontent-%COMP%]:hover{background:var(--background-tertiary);color:var(--text-primary)}.save-button[_ngcontent-%COMP%]{background:var(--apple-blue);color:#fff}.save-button[_ngcontent-%COMP%]:hover{background:var(--apple-blue-dark)}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--apple-gray);border-radius:3px}"]})}}return e})();const aj=(e,t)=>t.id;function lj(e,t){if(1&e&&(C(0,"div",3)(1,"span",8),V(2),w(),C(3,"span",9),V(4),w()()),2&e){const n=Ie();O(2),At(n.selectedApiKey.name),O(2),At(n.selectedApiKey.provider)}}function cj(e,t){1&e&&(C(0,"div",3)(1,"span",8),V(2,"No LLM Selected"),w(),C(3,"span",9),V(4,"Configure in settings"),w()())}function uj(e,t){if(1&e){const n=kn();C(0,"div",10)(1,"span"),V(2,"No API keys configured"),w(),C(3,"button",11),q("click",function(){return re(n),ie(Ie(2).openSettings.emit())}),V(4," Configure in Settings "),w()()}}function dj(e,t){1&e&&(_e(),C(0,"svg",18),te(1,"circle",19)(2,"path",20),w())}function fj(e,t){1&e&&(_e(),C(0,"svg",21),te(1,"circle",22)(2,"path",23),w())}function hj(e,t){1&e&&(_e(),C(0,"svg",24),te(1,"circle",25)(2,"path",26),w())}function pj(e,t){if(1&e){const n=kn();C(0,"button",13),q("click",function(){const i=re(n).$implicit;return ie(Ie(3).selectApiKey(i))}),C(1,"div",14)(2,"span",15),V(3),w(),C(4,"span",16),V(5),w()(),C(6,"div",17),Ke(7,dj,3,0,":svg:svg",18)(8,fj,3,0)(9,hj,3,0),w()()}if(2&e){const n=t.$implicit,r=Ie(3);qe("active",(null==r.selectedApiKey?null:r.selectedApiKey.id)===n.id)("tested","success"===n.testStatus)("error","error"===n.testStatus),O(3),At(n.name),O(2),At(n.provider),O(2),Xe(7,"success"===n.testStatus?7:"error"===n.testStatus?8:9)}}function gj(e,t){1&e&&Yo(0,pj,10,9,"button",12,aj),2&e&&Xo(Ie(2).availableApiKeys)}function mj(e,t){if(1&e&&(C(0,"div",6),Ke(1,uj,5,0,"div",10)(2,gj,2,0),w()),2&e){const n=Ie();O(),Xe(1,0===n.availableApiKeys.length?1:2)}}function yj(e,t){if(1&e){const n=kn();C(0,"div",27),q("click",function(){return re(n),ie(Ie().closeDropdown())}),w()}}let vj=(()=>{class e{constructor(){this.disabled=!1,this.llmSelected=new le,this.openSettings=new le,this.availableApiKeys=[],this.selectedApiKey=null,this.isDropdownOpen=!1}ngOnInit(){this.loadApiKeys()}loadApiKeys(){const n=localStorage.getItem("llm-api-keys");n&&(this.availableApiKeys=JSON.parse(n),this.selectedApiKey=this.availableApiKeys.find(r=>r.isActive)||null,this.selectedApiKey&&this.llmSelected.emit(this.selectedApiKey))}toggleDropdown(){this.disabled||(this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&this.loadApiKeys())}closeDropdown(){this.isDropdownOpen=!1}selectApiKey(n){this.selectedApiKey=n,this.llmSelected.emit(n),this.closeDropdown(),this.availableApiKeys.forEach(r=>r.isActive=!1),n.isActive=!0,localStorage.setItem("llm-api-keys",JSON.stringify(this.availableApiKeys))}refreshApiKeys(){this.loadApiKeys()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-llm-selector"]],inputs:{disabled:"disabled"},outputs:{llmSelected:"llmSelected",openSettings:"openSettings"},standalone:!0,features:[Yt],decls:9,vars:8,consts:[[1,"llm-selector"],["aria-label","Select LLM",1,"selector-button",3,"click","disabled"],[1,"selected-llm"],[1,"llm-info"],["width","16","height","16","viewBox","0 0 16 16","fill","none",1,"dropdown-icon"],["d","M4 6l4 4 4-4","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"dropdown-menu"],[1,"dropdown-overlay"],[1,"llm-name"],[1,"llm-provider"],[1,"empty-state"],[1,"configure-button",3,"click"],[1,"dropdown-item",3,"active","tested","error"],[1,"dropdown-item",3,"click"],[1,"api-key-info"],[1,"api-key-name"],[1,"api-key-provider"],[1,"api-key-status"],["width","16","height","16","viewBox","0 0 16 16","fill","none",1,"status-icon","success"],["cx","8","cy","8","r","8","fill","var(--apple-green)"],["d","M5 8l2 2 4-4","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","16","height","16","viewBox","0 0 16 16","fill","none",1,"status-icon","error"],["cx","8","cy","8","r","8","fill","var(--apple-red)"],["d","M6 6l4 4M10 6l-4 4","stroke","white","stroke-width","2","stroke-linecap","round"],["width","16","height","16","viewBox","0 0 16 16","fill","none",1,"status-icon","untested"],["cx","8","cy","8","r","8","fill","var(--apple-gray)"],["d","M8 5v3M8 11h.01","stroke","white","stroke-width","2","stroke-linecap","round"],[1,"dropdown-overlay",3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"button",1),q("click",function(){return i.toggleDropdown()}),C(2,"div",2),Ke(3,lj,5,2,"div",3)(4,cj,5,0),w(),_e(),C(5,"svg",4),te(6,"path",5),w()(),Ke(7,mj,3,1,"div",6)(8,yj,1,0,"div",7),w()),2&r&&(qe("disabled",i.disabled),O(),ut("disabled",i.disabled),O(2),Xe(3,i.selectedApiKey?3:4),O(2),qe("rotated",i.isDropdownOpen),O(2),Xe(7,i.isDropdownOpen?7:-1),O(),Xe(8,i.isDropdownOpen?8:-1))},dependencies:[en],styles:[".llm-selector[_ngcontent-%COMP%]{position:relative;min-width:200px}.llm-selector.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.selector-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:var(--spacing-xs) var(--spacing-sm);background:var(--background-secondary);border:1px solid var(--separator);border-radius:var(--radius-sm);color:var(--text-primary);transition:all .2s ease;gap:var(--spacing-sm)}.selector-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--background-tertiary);border-color:var(--apple-blue)}.selector-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.selected-llm[_ngcontent-%COMP%]{flex:1;min-width:0}.llm-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:2px}.llm-name[_ngcontent-%COMP%]{font-size:var(--font-size-subhead);font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.llm-provider[_ngcontent-%COMP%]{font-size:var(--font-size-caption);color:var(--text-tertiary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.dropdown-icon[_ngcontent-%COMP%]{transition:transform .2s ease;color:var(--text-secondary);flex-shrink:0}.dropdown-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:998}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:var(--background-primary);border:1px solid var(--separator);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);z-index:999;margin-top:var(--spacing-xs);max-height:300px;overflow-y:auto}.empty-state[_ngcontent-%COMP%]{padding:var(--spacing-lg);text-align:center;color:var(--text-tertiary)}.configure-button[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--apple-blue);color:#fff;border-radius:var(--radius-sm);font-size:var(--font-size-footnote);transition:all .2s ease}.configure-button[_ngcontent-%COMP%]:hover{background:var(--apple-blue-dark)}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:var(--spacing-sm) var(--spacing-md);text-align:left;transition:all .2s ease;border-bottom:1px solid var(--separator);gap:var(--spacing-sm)}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dropdown-item[_ngcontent-%COMP%]:hover{background:var(--background-secondary)}.dropdown-item.active[_ngcontent-%COMP%]{background:var(--apple-blue);color:#fff}.dropdown-item.active[_ngcontent-%COMP%]   .llm-name[_ngcontent-%COMP%], .dropdown-item.active[_ngcontent-%COMP%]   .llm-provider[_ngcontent-%COMP%]{color:#fff}.api-key-info[_ngcontent-%COMP%]{flex:1;min-width:0}.api-key-name[_ngcontent-%COMP%]{display:block;font-size:var(--font-size-subhead);font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.api-key-provider[_ngcontent-%COMP%]{display:block;font-size:var(--font-size-caption);color:var(--text-tertiary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.api-key-status[_ngcontent-%COMP%]{flex-shrink:0}.status-icon[_ngcontent-%COMP%]{width:16px;height:16px}.dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--apple-gray);border-radius:3px}@media (max-width: 768px){.llm-selector[_ngcontent-%COMP%]{min-width:150px}.llm-name[_ngcontent-%COMP%], .llm-provider[_ngcontent-%COMP%]{max-width:100px}}"]})}}return e})();const _j=["llmSelector"];let Dj=(()=>{class e{constructor(){this.currentSession=null,this.menuToggle=new le,this.clearChat=new le,this.llmSelected=new le,this.openSettings=new le}onLLMSelected(n){this.llmSelected.emit(n)}refreshLLMSelector(){this.llmSelector?.refreshApiKeys()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-chat-header"]],viewQuery:function(r,i){if(1&r&&os(_j,5),2&r){let o;ss(o=as())&&(i.llmSelector=o.first)}},inputs:{currentSession:"currentSession"},outputs:{menuToggle:"menuToggle",clearChat:"clearChat",llmSelected:"llmSelected",openSettings:"openSettings"},standalone:!0,features:[Yt],decls:17,vars:2,consts:[["llmSelector",""],[1,"chat-header"],[1,"header-left"],["aria-label","Toggle menu",1,"menu-button",3,"click"],["width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M3 6h14M3 12h14M3 18h14","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"session-info"],[1,"session-title"],[1,"session-subtitle"],[1,"header-center"],[3,"llmSelected","openSettings","disabled"],[1,"header-right"],["aria-label","Clear chat",1,"action-button",3,"click"],["d","M4 7h12m0 0l-1.5 9a2 2 0 01-2 1.5h-5a2 2 0 01-2-1.5L4 7m4-3V2a1 1 0 011-1h2a1 1 0 011 1v2m-4 0h4","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"]],template:function(r,i){if(1&r){const o=kn();C(0,"header",1)(1,"div",2)(2,"button",3),q("click",function(){return re(o),ie(i.menuToggle.emit())}),_e(),C(3,"svg",4),te(4,"path",5),w()(),Nn(),C(5,"div",6)(6,"h1",7),V(7),w(),C(8,"span",8),V(9,"AI Assistant"),w()()(),C(10,"div",9)(11,"app-llm-selector",10,0),q("llmSelected",function(a){return re(o),ie(i.onLLMSelected(a))})("openSettings",function(){return re(o),ie(i.openSettings.emit())}),w()(),C(13,"div",11)(14,"button",12),q("click",function(){return re(o),ie(i.clearChat.emit())}),_e(),C(15,"svg",4),te(16,"path",13),w()()()()}2&r&&(O(7),At((null==i.currentSession?null:i.currentSession.title)||"Chat"),O(4),ut("disabled",!1))},dependencies:[en,vj],styles:[".chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md) var(--spacing-lg);background:var(--background-primary);border-bottom:1px solid var(--separator);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);position:sticky;top:0;z-index:100;min-height:64px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);flex:1;min-width:0}.header-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:0 0 auto;margin:0 var(--spacing-md)}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.menu-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:var(--radius-sm);color:var(--text-secondary);transition:all .2s ease;background:transparent}.menu-button[_ngcontent-%COMP%]:hover{background:var(--background-secondary);color:var(--text-primary)}.menu-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.session-info[_ngcontent-%COMP%]{flex:1;min-width:0}.session-title[_ngcontent-%COMP%]{font-size:var(--font-size-headline);font-weight:600;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2}.session-subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-footnote);color:var(--text-tertiary);font-weight:400}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:var(--radius-sm);color:var(--text-secondary);transition:all .2s ease;background:transparent}.action-button[_ngcontent-%COMP%]:hover{background:var(--background-secondary);color:var(--apple-red)}.action-button[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 768px){.chat-header[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md)}.session-title[_ngcontent-%COMP%]{font-size:var(--font-size-body)}}"]})}}return e})();function DE(...e){return Ch(e,mb(e))}class Cj extends kt{constructor(t,n){super()}schedule(t,n=0){return this}}const ic={setInterval(e,t,...n){const{delegate:r}=ic;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=ic;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},CE={now:()=>(CE.delegate||Date).now(),delegate:void 0};class Is{constructor(t,n=Is.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Is.now=CE.now;const wE=new class bj extends Is{constructor(t,n=Is.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class wj extends Cj{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ic.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ic.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rs(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),Ej=wE;function Gh(e,t,n=1/0){return Le(t)?Gh((r,i)=>Yi((o,s)=>t(r,o,i,s))(er(e(r,i))),n):("number"==typeof t&&(n=t),dr((r,i)=>function Sj(e,t,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let m=!1;er(n(g,u++)).subscribe(Bn(t,v=>{i?.(v),o?h(v):t.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const v=l.shift();s?tr(t,s,()=>p(v)):p(v)}f()}catch(v){t.error(v)}}))};return e.subscribe(Bn(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}const bE=new Ze(e=>e.complete());function EE(e){return e<=0?()=>bE:dr((t,n)=>{let r=0;t.subscribe(Bn(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function SE(e,t){return t?n=>function Tj(...e){return function Ij(){return function Mj(e=1/0){return Gh(Lp,e)}(1)}()(Ch(e,mb(e)))}(t.pipe(EE(1),function Nj(){return dr((e,t)=>{e.subscribe(Bn(t,Vs))})}()),n.pipe(SE(e))):Gh((n,r)=>er(e(n,r)).pipe(EE(1),function Oj(e){return Yi(()=>e)}(n)))}function ME(e,t=wE){const n=function xj(e=0,t,n=Ej){let r=-1;return null!=t&&(gb(t)?n=t:r=t),new Ze(i=>{let o=function Pj(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(e,t);return SE(()=>n)}let kj=(()=>{class e{constructor(){this.dbName="ChatAppDB",this.dbVersion=1,this.db=null,this.initDB()}initDB(){var n=this;return pe(function*(){return new Promise((r,i)=>{const o=indexedDB.open(n.dbName,n.dbVersion);o.onerror=()=>{console.error("Error opening IndexedDB:",o.error),i(o.error)},o.onsuccess=()=>{n.db=o.result,console.log("IndexedDB opened successfully"),r()},o.onupgradeneeded=s=>{const a=s.target.result;if(!a.objectStoreNames.contains("sessions")){const l=a.createObjectStore("sessions",{keyPath:"id"});l.createIndex("lastActivity","lastActivity",{unique:!1}),l.createIndex("isActive","isActive",{unique:!1})}if(!a.objectStoreNames.contains("messages")){const l=a.createObjectStore("messages",{keyPath:"id"});l.createIndex("sessionId","sessionId",{unique:!1}),l.createIndex("timestamp","timestamp",{unique:!1})}a.objectStoreNames.contains("settings")||a.createObjectStore("settings",{keyPath:"key"}),console.log("IndexedDB schema created/updated")}})})()}ensureDB(){var n=this;return pe(function*(){if(n.db||(yield n.initDB()),!n.db)throw new Error("Failed to initialize IndexedDB");return n.db})()}saveSessions(n){var r=this;return pe(function*(){const s=(yield r.ensureDB()).transaction(["sessions"],"readwrite").objectStore("sessions");yield new Promise((l,c)=>{const u=s.clear();u.onsuccess=()=>l(),u.onerror=()=>c(u.error)});const a=n.map(l=>new Promise((c,u)=>{const d=s.add({...l,lastActivity:l.lastActivity.toISOString(),messages:l.messages.map(f=>({...f,timestamp:f.timestamp.toISOString()}))});d.onsuccess=()=>c(),d.onerror=()=>u(d.error)}));yield Promise.all(a)})()}loadSessions(){var n=this;return pe(function*(){const o=(yield n.ensureDB()).transaction(["sessions"],"readonly").objectStore("sessions");return new Promise((s,a)=>{const l=o.getAll();l.onsuccess=()=>{const c=l.result.map(u=>({...u,lastActivity:new Date(u.lastActivity),messages:u.messages.map(d=>({...d,timestamp:new Date(d.timestamp)}))}));c.sort((u,d)=>d.lastActivity.getTime()-u.lastActivity.getTime()),s(c)},l.onerror=()=>a(l.error)})})()}saveSession(n){var r=this;return pe(function*(){const s=(yield r.ensureDB()).transaction(["sessions"],"readwrite").objectStore("sessions");return new Promise((a,l)=>{const c=s.put({...n,lastActivity:n.lastActivity.toISOString(),messages:n.messages.map(u=>({...u,timestamp:u.timestamp.toISOString()}))});c.onsuccess=()=>a(),c.onerror=()=>l(c.error)})})()}deleteSession(n){var r=this;return pe(function*(){const s=(yield r.ensureDB()).transaction(["sessions"],"readwrite").objectStore("sessions");return new Promise((a,l)=>{const c=s.delete(n);c.onsuccess=()=>a(),c.onerror=()=>l(c.error)})})()}saveSetting(n,r){var i=this;return pe(function*(){const a=(yield i.ensureDB()).transaction(["settings"],"readwrite").objectStore("settings");return new Promise((l,c)=>{const u=a.put({key:n,value:r});u.onsuccess=()=>l(),u.onerror=()=>c(u.error)})})()}loadSetting(n){var r=this;return pe(function*(){const s=(yield r.ensureDB()).transaction(["settings"],"readonly").objectStore("settings");return new Promise((a,l)=>{const c=s.get(n);c.onsuccess=()=>{a(c.result?.value||null)},c.onerror=()=>l(c.error)})})()}clearAllData(){var n=this;return pe(function*(){const i=(yield n.ensureDB()).transaction(["sessions","settings"],"readwrite"),o=[new Promise((s,a)=>{const l=i.objectStore("sessions").clear();l.onsuccess=()=>s(),l.onerror=()=>a(l.error)}),new Promise((s,a)=>{const l=i.objectStore("settings").clear();l.onsuccess=()=>s(),l.onerror=()=>a(l.error)})];yield Promise.all(o)})()}exportData(){var n=this;return pe(function*(){return{sessions:yield n.loadSessions(),settings:{}}})()}importData(n){var r=this;return pe(function*(){if(n.sessions&&(yield r.saveSessions(n.sessions)),n.settings){const s=(yield r.ensureDB()).transaction(["settings"],"readwrite").objectStore("settings");for(const[a,l]of Object.entries(n.settings))yield new Promise((c,u)=>{const d=s.put({key:a,value:l});d.onsuccess=()=>c(),d.onerror=()=>u(d.error)})}})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fj=(()=>{class e{constructor(n){this.indexedDBService=n,this.messagesSubject=new Hs([]),this.typingSubject=new Hs(!1),this.sessionsSubject=new Hs([]),this.messages$=this.messagesSubject.asObservable(),this.isTyping$=this.typingSubject.asObservable(),this.sessions$=this.sessionsSubject.asObservable(),this.currentSessionId="default",this.messageIdCounter=1,this.selectedLLM=null,this.initializeApp()}initializeApp(){var n=this;return pe(function*(){try{const r=yield n.indexedDBService.loadSessions();if(r.length>0){n.sessionsSubject.next(r);const i=r.find(a=>a.isActive)||r[0];n.currentSessionId=i.id,n.messagesSubject.next(i.messages);const o=r.flatMap(a=>a.messages),s=Math.max(...o.map(a=>parseInt(a.id)||0),0);n.messageIdCounter=s}else n.initializeDefaultSession()}catch(r){console.error("Error loading sessions from IndexedDB:",r),n.initializeDefaultSession()}})()}initializeDefaultSession(){const n={id:"default",title:"New Chat",messages:[{id:"1",content:"Hello! I'm your AI assistant. How can I help you today?",timestamp:new Date,isUser:!1,status:"read"}],lastActivity:new Date,isActive:!0};this.sessionsSubject.next([n]),this.messagesSubject.next(n.messages),this.saveSessionsToStorage()}sendMessage(n){const r={id:(++this.messageIdCounter).toString(),content:n.trim(),timestamp:new Date,isUser:!0,status:"sending"};this.messagesSubject.next([...this.messagesSubject.value,r]),setTimeout(()=>{this.updateMessageStatus(r.id,"sent")},500),this.typingSubject.next(!0),this.generateAIResponse(n).subscribe({next:o=>{this.typingSubject.next(!1);const s={id:(++this.messageIdCounter).toString(),content:o,timestamp:new Date,isUser:!1,status:"read"};this.messagesSubject.next([...this.messagesSubject.value,s]),this.updateCurrentSession()},error:o=>{this.typingSubject.next(!1);const s={id:(++this.messageIdCounter).toString(),content:`Sorry, I encountered an error: ${o.message||"Unable to generate response"}. Please check your API key configuration.`,timestamp:new Date,isUser:!1,status:"read"};this.messagesSubject.next([...this.messagesSubject.value,s]),this.updateCurrentSession()}})}generateAIResponse(n){return this.selectedLLM?"Google Gemini Flash 2.5"===this.selectedLLM.provider||"Google Gemini"===this.selectedLLM.provider?this.callGoogleGeminiAPI(n):"OpenAI"===this.selectedLLM.provider?this.callOpenAIAPI(n):"Anthropic"===this.selectedLLM.provider?this.callAnthropicAPI(n):this.simulateAIResponse(n):DE("Please select an LLM from the dropdown in the header before sending messages.").pipe(ME(500))}callGoogleGeminiAPI(n){return new Ze(r=>{fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${this.selectedLLM.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})}).then(o=>{if(!o.ok)throw new Error(`API request failed: ${o.status} ${o.statusText}`);return o.json()}).then(o=>{if(!(o.candidates&&o.candidates[0]&&o.candidates[0].content))throw new Error("Invalid response format from Google Gemini API");r.next(o.candidates[0].content.parts[0].text),r.complete()}).catch(o=>{console.error("Google Gemini API error:",o),r.error(o)})})}callOpenAIAPI(n){return new Ze(r=>{fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.selectedLLM.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:n}],max_tokens:1024,temperature:.7})}).then(i=>{if(!i.ok)throw new Error(`OpenAI API request failed: ${i.status} ${i.statusText}`);return i.json()}).then(i=>{if(!(i.choices&&i.choices[0]&&i.choices[0].message))throw new Error("Invalid response format from OpenAI API");r.next(i.choices[0].message.content),r.complete()}).catch(i=>{console.error("OpenAI API error:",i),r.error(i)})})}callAnthropicAPI(n){return new Ze(r=>{fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":this.selectedLLM.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1024,messages:[{role:"user",content:n}]})}).then(i=>{if(!i.ok)throw new Error(`Anthropic API request failed: ${i.status} ${i.statusText}`);return i.json()}).then(i=>{if(!(i.content&&i.content[0]&&i.content[0].text))throw new Error("Invalid response format from Anthropic API");r.next(i.content[0].text),r.complete()}).catch(i=>{console.error("Anthropic API error:",i),r.error(i)})})}simulateAIResponse(n){const r=["That's an interesting question! Let me think about that for a moment.","I understand what you're asking. Here's what I think...","Great question! Based on what you've shared, I'd suggest...","I can help you with that. Let me provide some insights...","That's a thoughtful inquiry. From my perspective...","I appreciate you asking. Here's my take on this...","Excellent point! I'd like to elaborate on that...","I see what you mean. Let me break this down for you...","That's worth exploring further. Consider this...","Interesting perspective! I'd add that..."],i=r[Math.floor(Math.random()*r.length)],o=2e3*Math.random()+1e3;return DE(`[Simulated Response] ${i}`).pipe(ME(o))}updateMessageStatus(n,r){const i=this.messagesSubject.value.map(o=>o.id===n?{...o,status:r}:o);this.messagesSubject.next(i)}updateCurrentSession(){const r=this.messagesSubject.value,i=this.sessionsSubject.value.map(o=>o.id===this.currentSessionId?{...o,messages:r,lastActivity:new Date,title:this.generateSessionTitle(r)}:o);this.sessionsSubject.next(i),this.saveSessionsToStorage()}saveSessionsToStorage(){var n=this;return pe(function*(){try{const r=n.sessionsSubject.value;yield n.indexedDBService.saveSessions(r)}catch(r){console.error("Error saving sessions to IndexedDB:",r)}})()}generateSessionTitle(n){const r=n.filter(i=>i.isUser);if(r.length>0){const i=r[0].content;return i.length>30?i.substring(0,30)+"...":i}return"New Chat"}createNewSession(){const n=`session_${Date.now()}`,r={id:n,title:"New Chat",messages:[{id:(++this.messageIdCounter).toString(),content:"Hello! I'm your AI assistant. How can I help you today?",timestamp:new Date,isUser:!1,status:"read"}],lastActivity:new Date,isActive:!0},o=this.sessionsSubject.value.map(s=>({...s,isActive:!1}));return this.sessionsSubject.next([...o,r]),this.currentSessionId=n,this.messagesSubject.next(r.messages),this.saveSessionsToStorage(),n}switchToSession(n){const r=this.sessionsSubject.value,i=r.find(o=>o.id===n);if(i){const o=r.map(s=>({...s,isActive:s.id===n}));this.sessionsSubject.next(o),this.currentSessionId=n,this.messagesSubject.next(i.messages),this.saveSessionsToStorage()}}deleteSession(n){var r=this;return pe(function*(){const o=r.sessionsSubject.value.filter(s=>s.id!==n);try{yield r.indexedDBService.deleteSession(n),0===o.length?r.initializeDefaultSession():(r.sessionsSubject.next(o),r.currentSessionId===n?r.switchToSession(o[0].id):r.saveSessionsToStorage())}catch(s){console.error("Error deleting session from IndexedDB:",s),0===o.length?r.initializeDefaultSession():(r.sessionsSubject.next(o),r.currentSessionId===n&&r.switchToSession(o[0].id))}})()}clearCurrentChat(){const r=this.sessionsSubject.value.map(i=>i.id===this.currentSessionId?{...i,messages:[]}:i);this.sessionsSubject.next(r),this.messagesSubject.next([]),this.saveSessionsToStorage()}exportChatData(){var n=this;return pe(function*(){try{return yield n.indexedDBService.exportData()}catch(r){throw console.error("Error exporting chat data:",r),r}})()}importChatData(n){var r=this;return pe(function*(){try{yield r.indexedDBService.importData(n),yield r.initializeApp()}catch(i){throw console.error("Error importing chat data:",i),i}})()}clearAllData(){var n=this;return pe(function*(){try{yield n.indexedDBService.clearAllData(),n.initializeDefaultSession()}catch(r){throw console.error("Error clearing all data:",r),r}})()}getStorageInfo(){var n=this;return pe(function*(){try{const r=n.sessionsSubject.value,i=r.reduce((o,s)=>o+s.messages.length,0);return{sessions:r.length,totalMessages:i}}catch(r){return console.error("Error getting storage info:",r),{sessions:0,totalMessages:0}}})()}setSelectedLLM(n){this.selectedLLM=n,console.log("Selected LLM:",n.name,n.provider)}getSelectedLLM(){return this.selectedLLM}static{this.\u0275fac=function(r){return new(r||e)(Q(kj))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Rj=["chatHeader"];let Lj=(()=>{class e{constructor(n){this.chatService=n,this.messages=[],this.sessions=[],this.currentSession=null,this.isTyping=!1,this.sidebarVisible=!1,this.settingsModalVisible=!1,this.destroy$=new Br}ngOnInit(){this.chatService.messages$.pipe(zh(this.destroy$)).subscribe(n=>{this.messages=n}),this.chatService.isTyping$.pipe(zh(this.destroy$)).subscribe(n=>{this.isTyping=n}),this.chatService.sessions$.pipe(zh(this.destroy$)).subscribe(n=>{this.sessions=n,this.currentSession=n.find(r=>r.isActive)||null}),this.loadActiveLLM()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onMessageSent(n){n.trim()&&this.chatService.sendMessage(n)}onSessionSelected(n){this.chatService.switchToSession(n),this.sidebarVisible=!1}onNewChat(){this.chatService.createNewSession(),this.sidebarVisible=!1}onSessionDeleted(n){var r=this;return pe(function*(){yield r.chatService.deleteSession(n)})()}onClearChat(){this.chatService.clearCurrentChat()}toggleSidebar(){this.sidebarVisible=!this.sidebarVisible}openSettingsModal(){this.settingsModalVisible=!0}closeSettingsModal(){this.settingsModalVisible=!1}onSettingsSaved(n){console.log("API keys saved:",n);const r=n.find(i=>i.isActive);r&&(this.chatService.setSelectedLLM(r),console.log("Active API key set:",r)),this.chatHeader?.refreshLLMSelector()}onLLMSelected(n){this.chatService.setSelectedLLM(n),console.log("LLM selected:",n.name,n.provider)}loadActiveLLM(){const n=localStorage.getItem("llm-api-keys");if(n){const i=JSON.parse(n).find(o=>o.isActive);i&&this.chatService.setSelectedLLM(i)}}static{this.\u0275fac=function(r){return new(r||e)(E(Fj))}}static{this.\u0275cmp=$t({type:e,selectors:[["app-chat-interface"]],viewQuery:function(r,i){if(1&r&&os(Rj,5),2&r){let o;ss(o=as())&&(i.chatHeader=o.first)}},standalone:!0,features:[Yt],decls:9,vars:11,consts:[["chatHeader",""],[1,"chat-interface"],[3,"sessionSelected","newChat","sessionDeleted","closeSidebar","openSettings","sessions","isVisible"],[1,"main-chat"],[3,"menuToggle","clearChat","llmSelected","openSettings","currentSession"],[3,"messages","isTyping"],[3,"messageSent","disabled"],[1,"sidebar-overlay",3,"click"],[3,"closeModal","settingsSaved","isVisible"]],template:function(r,i){if(1&r){const o=kn();C(0,"div",1)(1,"app-sidebar",2),q("sessionSelected",function(a){return re(o),ie(i.onSessionSelected(a))})("newChat",function(){return re(o),ie(i.onNewChat())})("sessionDeleted",function(a){return re(o),ie(i.onSessionDeleted(a))})("closeSidebar",function(){return re(o),ie(i.toggleSidebar())})("openSettings",function(){return re(o),ie(i.openSettingsModal())}),w(),C(2,"div",3)(3,"app-chat-header",4,0),q("menuToggle",function(){return re(o),ie(i.toggleSidebar())})("clearChat",function(){return re(o),ie(i.onClearChat())})("llmSelected",function(a){return re(o),ie(i.onLLMSelected(a))})("openSettings",function(){return re(o),ie(i.openSettingsModal())}),w(),te(5,"app-message-list",5),C(6,"app-message-input",6),q("messageSent",function(a){return re(o),ie(i.onMessageSent(a))}),w()(),C(7,"div",7),q("click",function(){return re(o),ie(i.toggleSidebar())}),w(),C(8,"app-settings-modal",8),q("closeModal",function(){return re(o),ie(i.closeSettingsModal())})("settingsSaved",function(a){return re(o),ie(i.onSettingsSaved(a))}),w()()}2&r&&(O(),ut("sessions",i.sessions)("isVisible",i.sidebarVisible),O(),qe("sidebar-open",i.sidebarVisible),O(),ut("currentSession",i.currentSession),O(2),ut("messages",i.messages)("isTyping",i.isTyping),O(),ut("disabled",i.isTyping),O(),qe("visible",i.sidebarVisible),O(),ut("isVisible",i.settingsModalVisible))},dependencies:[en,rc,Dj,B2,$2,W2,sj],styles:[".chat-interface[_ngcontent-%COMP%]{display:flex;height:100vh;background:var(--background-primary);position:relative;overflow:hidden}.main-chat[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0;transition:margin-left .3s cubic-bezier(.4,0,.2,1)}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:var(--overlay);opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);z-index:998}.sidebar-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media (max-width: 768px){.main-chat.sidebar-open[_ngcontent-%COMP%]{margin-left:0}}@media (min-width: 769px){.main-chat.sidebar-open[_ngcontent-%COMP%]{margin-left:280px}.sidebar-overlay[_ngcontent-%COMP%]{display:none}}"]})}}return e})(),Vj=(()=>{class e{constructor(){this.title="Chatbot"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$t({type:e,selectors:[["app-root"]],standalone:!0,features:[Yt],decls:2,vars:0,consts:[[1,"app-container"]],template:function(r,i){1&r&&(C(0,"div",0),te(1,"app-chat-interface"),w())},dependencies:[en,Lj],styles:[".app-container[_ngcontent-%COMP%]{height:100vh;width:100vw;background:var(--background-primary);display:flex;flex-direction:column}"]})}}return e})();var L=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(L||{});const Vn="*";function IE(e){return{type:L.Style,styles:e,offset:null}}class Ts{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class TE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function AE(e){return new D(3e3,!1)}function or(e){switch(e.length){case 0:return new Ts;case 1:return e[0];default:return new TE(e)}}function NE(e,t,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((f,h)=>{let p=h,g=f;if("offset"!==h)switch(p=e.normalizePropertyName(p,i),g){case"!":g=n.get(h);break;case Vn:g=r.get(h);break;default:g=e.normalizeStyleValue(h,p,g,i)}d.set(p,g)}),u||o.push(d),a=d,s=c}),i.length)throw function fB(e){return new D(3502,!1)}();return o}function Wh(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&Kh(n,"start",e)));break;case"done":e.onDone(()=>r(n&&Kh(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&Kh(n,"destroy",e)))}}function Kh(e,t,n){const o=Qh(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function Qh(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ot(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function OE(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const EB=typeof document>"u"?null:document.documentElement;function Zh(e){const t=e.parentNode||e.host||null;return t===EB?null:t}let kr=null,PE=!1;function xE(e,t){for(;t;){if(t===e)return!0;t=Zh(t)}return!1}function kE(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let Yh=(()=>{class e{validateStyleProperty(n){return function MB(e){kr||(kr=function IB(){return typeof document<"u"?document.body:null}()||{},PE=!!kr.style&&"WebkitAppearance"in kr.style);let t=!0;return kr.style&&!function SB(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in kr.style,!t&&PE&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in kr.style)),t}(n)}matchesElement(n,r){return!1}containsElement(n,r){return xE(n,r)}getParentElement(n){return Zh(n)}query(n,r,i){return kE(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],l){return new Ts(i,o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})();class Xh{static{this.NOOP=new Yh}}class Jh{}const AB=1e3,ep="ng-enter",oc="ng-leave",sc="ng-trigger",ac=".ng-trigger",RE="ng-animating",tp=".ng-animating";function jn(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:np(parseFloat(t[1]),t[2])}function np(e,t){return"s"===t?e*AB:e}function lc(e,t,n){return e.hasOwnProperty("duration")?e:function OB(e,t,n){let i,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(AE()),{duration:0,delay:0,easing:""};i=np(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=np(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=e;if(!n){let a=!1,l=t.length;i<0&&(t.push(function zj(){return new D(3100,!1)}()),a=!0),o<0&&(t.push(function Gj(){return new D(3101,!1)}()),a=!0),a&&t.splice(l,0,AE())}return{duration:i,delay:o,easing:s}}(e,t,n)}function Cn(e,t,n){t.forEach((r,i)=>{const o=ip(i);n&&!n.has(i)&&n.set(i,e.style[o]),e.style[o]=r})}function Fr(e,t){t.forEach((n,r)=>{const i=ip(r);e.style[i]=""})}function As(e){return Array.isArray(e)?1==e.length?e[0]:function jj(e,t=null){return{type:L.Sequence,steps:e,options:t}}(e):e}const rp=new RegExp("{{\\s*(.+?)\\s*}}","g");function VE(e){let t=[];if("string"==typeof e){let n;for(;n=rp.exec(e);)t.push(n[1]);rp.lastIndex=0}return t}function Ns(e,t,n){const r=`${e}`,i=r.replace(rp,(o,s)=>{let a=t[s];return null==a&&(n.push(function Wj(e){return new D(3003,!1)}()),a=""),a.toString()});return i==r?e:i}const kB=/-+([a-z0-9])/g;function ip(e){return e.replace(kB,(...t)=>t[1].toUpperCase())}function Pt(e,t,n){switch(t.type){case L.Trigger:return e.visitTrigger(t,n);case L.State:return e.visitState(t,n);case L.Transition:return e.visitTransition(t,n);case L.Sequence:return e.visitSequence(t,n);case L.Group:return e.visitGroup(t,n);case L.Animate:return e.visitAnimate(t,n);case L.Keyframes:return e.visitKeyframes(t,n);case L.Style:return e.visitStyle(t,n);case L.Reference:return e.visitReference(t,n);case L.AnimateChild:return e.visitAnimateChild(t,n);case L.AnimateRef:return e.visitAnimateRef(t,n);case L.Query:return e.visitQuery(t,n);case L.Stagger:return e.visitStagger(t,n);default:throw function Kj(e){return new D(3004,!1)}()}}function op(e,t){return window.getComputedStyle(e)[t]}const LB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class jE extends Jh{normalizePropertyName(t,n){return ip(t)}normalizeStyleValue(t,n,r,i){let o="";const s=r.toString().trim();if(LB.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Qj(e,t){return new D(3005,!1)}())}return s+o}}const cc="*";const uc=new Set(["true","1"]),dc=new Set(["false","0"]);function BE(e,t){const n=uc.has(e)||dc.has(e),r=uc.has(t)||dc.has(t);return(i,o)=>{let s=e==cc||e==i,a=t==cc||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?uc.has(e):dc.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?uc.has(t):dc.has(t)),s&&a}}const HB=new RegExp("s*:selfs*,?","g");function sp(e,t,n,r){return new $B(e).build(t,n,r)}class $B{constructor(t){this._driver=t}build(t,n,r){const i=new GB(n);return this._resetContextStyleTimingState(i),Pt(this,As(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push(function Zj(){return new D(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==L.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,n))}),l.name=c}else if(a.type==L.Transition){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(function Yj(){return new D(3007,!1)}())}),{type:L.Trigger,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{VE(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&n.errors.push(function Xj(e,t){return new D(3008,!1)}(0,o.values()))}return{type:L.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=Pt(this,As(t.animation),n),i=function VB(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function jB(e,t,n){if(":"==e[0]){const l=function BB(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function lB(e){return new D(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function aB(e){return new D(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(BE(i,s)),"<"==o[0]&&(i!=cc||s!=cc)&&t.push(BE(s,i))}(r,n,t)):n.push(e),n}(t.expr,n.errors);return{type:L.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Rr(t.options)}}visitSequence(t,n){return{type:L.Sequence,steps:t.steps.map(r=>Pt(this,r,n)),options:Rr(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const o=t.steps.map(s=>{n.currentTime=r;const a=Pt(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:L.Group,steps:o,options:Rr(t.options)}}visitAnimate(t,n){const r=function WB(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return ap(lc(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ap(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=lc(n,t);return ap(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,o=t.styles?t.styles:IE({});if(o.type==L.Keyframes)i=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=IE(c)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:L.Animate,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===Vn?r.push(a):n.errors.push(new D(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:L.Style,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(function eB(e,t,n,r,i){return new D(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),n.options&&function xB(e,t,n){const r=t.params||{},i=VE(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function qj(e){return new D(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:L.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function tB(){return new D(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const y=this._makeStyleAst(v,n);let S=null!=y.offset?y.offset:function qB(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(y.styles),I=0;return null!=S&&(o++,I=y.offset=S),l=l||I<0||I>1,a=a||I<c,c=I,s.push(I),y});l&&n.errors.push(function nB(){return new D(3012,!1)}()),a&&n.errors.push(function rB(){return new D(3200,!1)}());const d=t.steps.length;let f=0;o>0&&o<d?n.errors.push(function iB(){return new D(3202,!1)}()):0==o&&(f=1/(d-1));const h=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return u.forEach((v,y)=>{const S=f>0?y==h?1:f*y:s[y],I=S*m;n.currentTime=p+g.delay+I,g.duration=I,this._validateStyleAst(v,n),v.offset=S,r.styles.push(v)}),r}visitReference(t,n){return{type:L.Reference,animation:Pt(this,As(t.animation),n),options:Rr(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:L.AnimateChild,options:Rr(t.options)}}visitAnimateRef(t,n){return{type:L.AnimateRef,animation:this.visitReference(t.animation,n),options:Rr(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function UB(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(HB,"")),e=e.replace(/@\*/g,ac).replace(/@\w+/g,n=>ac+"-"+n.slice(1)).replace(/:animating/g,tp),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+o:o,Ot(n.collectedStyles,n.currentQuerySelector,new Map);const a=Pt(this,As(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:L.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Rr(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function oB(){return new D(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:lc(t.timings,n.errors,!0);return{type:L.Stagger,animation:Pt(this,As(t.animation),n),timings:r,options:null}}}class GB{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rr(e){return e?(e={...e}).params&&(e.params=function zB(e){return e?{...e}:null}(e.params)):e={},e}function ap(e,t,n){return{duration:e,delay:t,easing:n}}function lp(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class fc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ZB=new RegExp(":enter","g"),XB=new RegExp(":leave","g");function cp(e,t,n,r,i,o=new Map,s=new Map,a,l,c=[]){return(new JB).buildKeyframes(e,t,n,r,i,o,s,a,l,c)}class JB{buildKeyframes(t,n,r,i,o,s,a,l,c,u=[]){c=c||new fc;const d=new up(t,n,c,i,o,u,[]);d.options=l;const f=l.delay?jn(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,l),Pt(this,r,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let g=h.length-1;g>=0;g--){const m=h[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[lp(n,[],[],[],0,f,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:jn(Ns(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?jn(r.duration):null,a=null!=r.delay?jn(r.delay):null;return 0!==s&&t.forEach(l=>{const c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),Pt(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const o=t.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==L.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hc);const s=jn(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Pt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?jn(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),Pt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return lc(n.params?Ns(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;o.type==L.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},o=i.delay?jn(i.delay):0;o&&(n.previousNode.type===L.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=hc);let s=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(t.options,c);o&&d.delayNextStep(o),c===n.element&&(l=d.currentTimeline),Pt(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Pt(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const hc={};class up{constructor(t,n,r,i,o,s,a,l){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new pc(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=jn(r.duration)),null!=r.delay&&(i.delay=jn(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Ns(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,o=new up(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=hc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new eH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(ZB,"."+this._enterClassName)).replace(XB,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function sB(e){return new D(3014,!1)}()),a}}class pc{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new pc(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Vn),this._currentKeyframe.set(n,Vn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function tH(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r??=t.keys();for(let o of r)n.set(o,Vn)}else for(let[o,s]of i)n.set(o,s)}),n}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Ns(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vn),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{"!"===u?t.add(d):u===Vn&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=[...t.values()],s=[...n.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return lp(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class eH extends pc{constructor(t,n,r,i,o,s,a=!1){super(t,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,l=new Map(t[0]);l.set("offset",0),o.push(l);const c=new Map(t[0]);c.set("offset",UE(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let f=new Map(t[d]);const h=f.get("offset");f.set("offset",UE((n+h*r)/s)),o.push(f)}r=s,n=0,i="",t=o}return lp(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function UE(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}function zE(e,t,n,r,i,o,s,a,l,c,u,d,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const dp={};class GE{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function nH(e,t,n,r,i){return e.some(o=>o(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,o,s,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||dp,p=this.buildStyles(r,a&&a.params||dp,d),g=l&&l.params||dp,m=this.buildStyles(i,g,d),v=new Set,y=new Map,S=new Map,I="void"===i,z={params:qE(g,f),delay:this.ast.options?.delay},X=u?[]:cp(t,n,this.ast.animation,o,s,p,m,z,c,d);let ce=0;return X.forEach(Re=>{ce=Math.max(Re.duration+Re.delay,ce)}),d.length?zE(n,this._triggerName,r,i,I,p,m,[],[],y,S,ce,d):(X.forEach(Re=>{const wn=Re.element,sr=Ot(y,wn,new Set);Re.preStyleProps.forEach(Lr=>sr.add(Lr));const aS=Ot(S,wn,new Set);Re.postStyleProps.forEach(Lr=>aS.add(Lr)),wn!==n&&v.add(wn)}),zE(n,this._triggerName,r,i,I,p,m,X,[...v.values()],y,S,ce))}}function qE(e,t){const n={...t};return Object.entries(e).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class rH{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=qE(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ns(s,i,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}}class oH{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new rH(i.style,i.options&&i.options.params||{},r))}),WE(this.states,"true","1"),WE(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new GE(t,i,this.states))}),this.fallbackTransition=function sH(e,t,n){return new GE(e,{type:L.Transition,animation:{type:L.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(s=>s.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function WE(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const aH=new fc;class lH{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],o=sp(this._driver,n,r,[]);if(r.length)throw function hB(e){return new D(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,n,r){const i=t.element,o=NE(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=cp(this._driver,n,o,ep,oc,new Map,new Map,r,aH,i),s.forEach(u=>{const d=Ot(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(function pB(){return new D(3300,!1)}()),s=[]),i.length)throw function gB(e){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,Vn))})});const c=or(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function mB(e){return new D(3301,!1)}();return n}listen(t,n,r,i){const o=Qh(n,"","","");return Wh(this._getPlayer(t),r,o,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const KE="ng-animate-queued",fp="ng-animate-disabled",hH=[],QE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tn="__ng_removed";class hp{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function vH(e){return e??null}(r?t.value:t),r){const{value:o,...s}=t;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Os="void",pp=new hp(Os);class gH{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Vt(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function yB(e,t){return new D(3302,!1)}();if(null==r||0==r.length)throw function vB(e){return new D(3303,!1)}();if(!function _H(e){return"start"==e||"done"==e}(r))throw function _B(e,t){return new D(3400,!1)}();const o=Ot(this._elementListeners,t,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Ot(this._engine.statesByElement,t,new Map);return a.has(n)||(Vt(t,sc),Vt(t,sc+"-"+n),a.set(n,pp)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function DB(e){return new D(3401,!1)}();return n}trigger(t,n,r,i=!0){const o=this._getTrigger(n),s=new gp(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(Vt(t,sc),Vt(t,sc+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const c=new hp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=pp),c.value!==Os&&l.value===c.value){if(!function wH(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,c.params)){const g=[],m=o.matchStyles(l.value,l.params,g),v=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Fr(t,m),Cn(t,v)})}return}const f=Ot(this._engine.playersByElement,t,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let h=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!h){if(!i)return;h=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(Vt(t,KE),s.onStart(()=>{Wi(t,KE)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(t);if(m){let v=m.indexOf(s);v>=0&&m.splice(v,1)}}),this.players.push(s),f.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,ac,!0);r.forEach(i=>{if(i[tn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Os,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,s),r&&or(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||pp,u=new hp(Os),d=new gp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const o=t[tn];(!o||o===QE)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){Vt(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=Qh(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,Wh(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class mH{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r,i){this.bodyNode=t,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new gH(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(t,n,r,i){if(gc(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!gc(n))return;const o=n[tn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Vt(t,fp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Wi(t,fp))}removeNode(t,n,r){if(gc(n)){this.scheduler?.notify();const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const o=this.namespacesByHostElement.get(n);o&&o.id!==t&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,o){this.collectedLeaveElements.push(n),n[tn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,n,r,i,o){return gc(n)?this._fetchNamespace(t).listen(n,r,i,o):()=>{}}_buildInstruction(t,n,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,ac,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,tp,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return or(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[tn];if(n&&n.setForRemoval){if(t[tn]=QE,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(fp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?or(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function CB(e){return new D(3402,!1)}()}_flushAnimations(t,n){const r=new fc,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(M=>{u.add(M);const N=this.driver.query(M,".ng-animate-queued",!0);for(let k=0;k<N.length;k++)u.add(N[k])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=XE(f,this.collectedEnterElements),p=new Map;let g=0;h.forEach((M,N)=>{const k=ep+g++;p.set(N,k),M.forEach(ee=>Vt(ee,k))});const m=[],v=new Set,y=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){const N=this.collectedLeaveElements[M],k=N[tn];k&&k.setForRemoval&&(m.push(N),v.add(N),k.hasAnimation?this.driver.query(N,".ng-star-inserted",!0).forEach(ee=>v.add(ee)):y.add(N))}const S=new Map,I=XE(f,Array.from(v));I.forEach((M,N)=>{const k=oc+g++;S.set(N,k),M.forEach(ee=>Vt(ee,k))}),t.push(()=>{h.forEach((M,N)=>{const k=p.get(N);M.forEach(ee=>Wi(ee,k))}),I.forEach((M,N)=>{const k=S.get(N);M.forEach(ee=>Wi(ee,k))}),m.forEach(M=>{this.processLeaveNode(M)})});const z=[],X=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(n).forEach(k=>{const ee=k.player,Qe=k.element;if(z.push(ee),this.collectedEnterElements.length){const at=Qe[tn];if(at&&at.setForMove){if(at.previousTriggersValues&&at.previousTriggersValues.has(k.triggerName)){const Vr=at.previousTriggersValues.get(k.triggerName),jt=this.statesByElement.get(k.element);if(jt&&jt.has(k.triggerName)){const yc=jt.get(k.triggerName);yc.value=Vr,jt.set(k.triggerName,yc)}}return void ee.destroy()}}const bn=!d||!this.driver.containsElement(d,Qe),xt=S.get(Qe),ar=p.get(Qe),Te=this._buildInstruction(k,r,ar,xt,bn);if(Te.errors&&Te.errors.length)return void X.push(Te);if(bn)return ee.onStart(()=>Fr(Qe,Te.fromStyles)),ee.onDestroy(()=>Cn(Qe,Te.toStyles)),void i.push(ee);if(k.isFallbackTransition)return ee.onStart(()=>Fr(Qe,Te.fromStyles)),ee.onDestroy(()=>Cn(Qe,Te.toStyles)),void i.push(ee);const uS=[];Te.timelines.forEach(at=>{at.stretchStartingKeyframe=!0,this.disabledNodes.has(at.element)||uS.push(at)}),Te.timelines=uS,r.append(Qe,Te.timelines),s.push({instruction:Te,player:ee,element:Qe}),Te.queriedElements.forEach(at=>Ot(a,at,[]).push(ee)),Te.preStyleProps.forEach((at,Vr)=>{if(at.size){let jt=l.get(Vr);jt||l.set(Vr,jt=new Set),at.forEach((yc,_p)=>jt.add(_p))}}),Te.postStyleProps.forEach((at,Vr)=>{let jt=c.get(Vr);jt||c.set(Vr,jt=new Set),at.forEach((yc,_p)=>jt.add(_p))})});if(X.length){const M=[];X.forEach(N=>{M.push(function wB(e,t){return new D(3505,!1)}())}),z.forEach(N=>N.destroy()),this.reportError(M)}const ce=new Map,Re=new Map;s.forEach(M=>{const N=M.element;r.has(N)&&(Re.set(N,N),this._beforeAnimationBuild(M.player.namespaceId,M.instruction,ce))}),i.forEach(M=>{const N=M.element;this._getPreviousPlayers(N,!1,M.namespaceId,M.triggerName,null).forEach(ee=>{Ot(ce,N,[]).push(ee),ee.destroy()})});const wn=m.filter(M=>eS(M,l,c)),sr=new Map;YE(sr,this.driver,y,c,Vn).forEach(M=>{eS(M,l,c)&&wn.push(M)});const Lr=new Map;h.forEach((M,N)=>{YE(Lr,this.driver,new Set(M),l,"!")}),wn.forEach(M=>{const N=sr.get(M),k=Lr.get(M);sr.set(M,new Map([...N?.entries()??[],...k?.entries()??[]]))});const vp=[],lS=[],cS={};s.forEach(M=>{const{element:N,player:k,instruction:ee}=M;if(r.has(N)){if(u.has(N))return k.onDestroy(()=>Cn(N,ee.toStyles)),k.disabled=!0,k.overrideTotalTime(ee.totalTime),void i.push(k);let Qe=cS;if(Re.size>1){let xt=N;const ar=[];for(;xt=xt.parentNode;){const Te=Re.get(xt);if(Te){Qe=Te;break}ar.push(xt)}ar.forEach(Te=>Re.set(Te,Qe))}const bn=this._buildAnimation(k.namespaceId,ee,ce,o,Lr,sr);if(k.setRealPlayer(bn),Qe===cS)vp.push(k);else{const xt=this.playersByElement.get(Qe);xt&&xt.length&&(k.parentPlayer=or(xt)),i.push(k)}}else Fr(N,ee.fromStyles),k.onDestroy(()=>Cn(N,ee.toStyles)),lS.push(k),u.has(N)&&i.push(k)}),lS.forEach(M=>{const N=o.get(M.element);if(N&&N.length){const k=or(N);M.setRealPlayer(k)}}),i.forEach(M=>{M.parentPlayer?M.syncPlayerEvents(M.parentPlayer):M.destroy()});for(let M=0;M<m.length;M++){const N=m[M],k=N[tn];if(Wi(N,oc),k&&k.hasAnimation)continue;let ee=[];if(a.size){let bn=a.get(N);bn&&bn.length&&ee.push(...bn);let xt=this.driver.query(N,tp,!0);for(let ar=0;ar<xt.length;ar++){let Te=a.get(xt[ar]);Te&&Te.length&&ee.push(...Te)}}const Qe=ee.filter(bn=>!bn.destroyed);Qe.length?DH(this,N,Qe):this.processLeaveNode(N)}return m.length=0,vp.forEach(M=>{this.players.push(M),M.onDone(()=>{M.destroy();const N=this.players.indexOf(M);this.players.splice(N,1)}),M.play()}),vp}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Os;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,n,r){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==o,d=Ot(r,c,[]);this._getPreviousPlayers(c,u,s,a,n.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Fr(o,n.fromStyles)}_buildAnimation(t,n,r,i,o,s){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,f=n.timelines.map(p=>{const g=p.element;u.add(g);const m=g[tn];if(m&&m.removedBeforeQueried)return new Ts(p.duration,p.delay);const v=g!==l,y=function CH(e){const t=[];return JE(e,t),t}((r.get(g)||hH).map(ce=>ce.getRealPlayer())).filter(ce=>!!ce.element&&ce.element===g),S=o.get(g),I=s.get(g),z=NE(this._normalizer,p.keyframes,S,I),X=this._buildPlayer(p,z,y);if(p.subTimeline&&i&&d.add(g),v){const ce=new gp(t,a,g);ce.setRealPlayer(X),c.push(ce)}return X});c.forEach(p=>{Ot(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function yH(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Vt(p,RE));const h=or(f);return h.onDestroy(()=>{u.forEach(p=>Wi(p,RE)),Cn(l,n.toStyles)}),d.forEach(p=>{Ot(i,p,[]).push(h)}),h}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new Ts(t.duration,t.delay)}}class gp{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Ts,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Wh(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Ot(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function gc(e){return e&&1===e.nodeType}function ZE(e,t){const n=e.style.display;return e.style.display=t??"none",n}function YE(e,t,n,r,i){const o=[];n.forEach(l=>o.push(ZE(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const f=t.computeStyle(c,d,i);u.set(d,f),(!f||0==f.length)&&(c[tn]=pH,s.push(c))}),e.set(c,u)});let a=0;return n.forEach(l=>ZE(l,o[a++])),s}function XE(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&n.get(l).push(a)}),n}function Vt(e,t){e.classList?.add(t)}function Wi(e,t){e.classList?.remove(t)}function DH(e,t,n){or(n).onDone(()=>e.processLeaveNode(t))}function JE(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof TE?JE(r.players,t):t.push(r)}}function eS(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(o=>i.add(o)):t.set(e,r),n.delete(e),!0}class Ps{constructor(t,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new mH(t.body,n,r,i),this._timelineEngine=new lH(t.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(t,n,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=sp(this._driver,o,l,[]);if(l.length)throw function dB(e,t){return new D(3404,!1)}();a=function iH(e,t,n){return new oH(e,t,n)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[o,s]=OE(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=OE(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class xs{static{this.initialStylesByElement=new WeakMap}constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=xs.initialStylesByElement.get(t);i||xs.initialStylesByElement.set(t,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Cn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cn(this._element,this._initialStyles),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(xs.initialStylesByElement.delete(this._element),this._startStyles&&(Fr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fr(this._element,this._endStyles),this._endStyles=null),Cn(this._element,this._initialStyles),this._state=3)}}function mp(e){let t=null;return e.forEach((n,r)=>{(function EH(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,n))}),t}class tS{constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:op(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class nS{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return xE(t,n)}getParentElement(t){return Zh(t)}query(t,n,r){return kE(t,n,r)}computeStyle(t,n,r){return op(t,n)}animate(t,n,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(h=>h instanceof tS);(function FB(e,t){return 0===e||0===t})(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function PB(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}(n).map(h=>new Map(h));d=function RB(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,op(e,a)))}}return t}(t,d,c);const f=function bH(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=mp(t[0]),t.length>1&&(r=mp(t[t.length-1]))):t instanceof Map&&(n=mp(t)),n||r?new xs(e,n,r):null}(t,d);return new tS(t,d,l,f)}}const rS="@.disabled";class iS{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==rS?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class SH extends iS{constructor(t,n,r,i,o){super(n,r,i,o),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==rS?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function MH(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function IH(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,n,r)}}class TH{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{const s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(t,n){const i=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new iS("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return n.data.animation.forEach(a),new SH(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const oS=[{provide:Jh,useFactory:function NH(){return new jE}},{provide:Ps,useClass:(()=>{class e extends Ps{constructor(n,r,i){super(n,r,i,B(Qa,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||e)(Q(Xn),Q(Xh),Q(Jh))}}static{this.\u0275prov=K({token:e,factory:e.\u0275fac})}}return e})()},{provide:Nd,useFactory:function OH(e,t,n){return new TH(e,t,n)},deps:[hh,Ps,be]}],yp=[{provide:Xh,useFactory:()=>new nS},{provide:Rm,useValue:"BrowserAnimations"},...oS],sS=[{provide:Xh,useClass:Yh},{provide:Rm,useValue:"NoopAnimations"},...oS];(function EL(e,t){return Uk({rootComponent:e,...qw(t)})})(Vj,{providers:[hg((()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?sS:yp}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Un({type:e})}static{this.\u0275inj=Sn({providers:yp,imports:[NL]})}}return e})(),rc,S2)]}).catch(e=>console.error(e))}},Ki=>{Ki(Ki.s=823)}]);